var ActionLimiter=function(h,b){var c="undefined"==typeof c?3:c,a;b="undefined"==typeof b?30:b,a=new Array;function e(){const b=f();return!(a.length>=c)&&(a.push(b),!0)}function f(){const c=d();return a=a.filter(a=>c-a<=b),c}function d(){return Math.round((new Date).getTime()/1e3)}function g(){let c=0;for(let b=0;b<a.length;++b)(c==0||a[b]<c)&&(c=a[b]);return c+b}return{add:e,getCurrentTimestamp:d,getTimeEarliestExpire:g}}
function ActionMessage(e,h,i){var f=this,c=null,g={x1:16,y1:16,x2:1024-16,y2:576-16},a=$(document.createElement("div")),d,b;a.addClass("actionmessage"),d=$(document.createElement("div")),d.addClass("pointer"),a.append(d),b=$(document.createElement("div")),b.addClass("content"),a.append(b),$(document.body).append(a),a.on("click",function(){f.Hide()}),b.on("click",function(){f.Hide()}),this.Show=function(f){var k,l,j;if(f="undefined"!=typeof f?f:null,!f||!f.length){this.Hide();return}b.html(f),k={x:e.offset().left,y:e.offset().top+e.height()+4},l=a.width(),j=k.x-32,j+l>g.x2&&(j-=j+l-g.x2),a.css({top:k.y,left:j,display:"block"}),d.css("left",k.x-j),"undefined"!=typeof h&&i>0&&(c=setInterval(this.Update,i))},this.Update=function(){h(b)==!1&&this.Hide()},this.Hide=function(){a.css("display","none"),c!=null&&(clearInterval(c),c=null)}}
var MSLGlobals={sync:null,isOwner:!1,uuid:""};const OPCODE_PING=1,OPCODE_PONG=2,OPCODE_REGISTER=3,OPCODE_REGISTERED=4,OPCODE_LOAD=5,OPCODE_OPEN=6,OPCODE_SETLOCK=7,OPCODE_SETTINGS_CHANGE=20,OPCODE_ADULT_BACK=30,OPCODE_ADULT_PAGE=31,OPCODE_ADULT_SEARCH=32,OPCODE_ADULT_CATEGORY=33,OPCODE_ALTAI_SELECT=40,OPCODE_ALTAI_SEARCH=41,OPCODE_ALTAI_VIEW=46,OPCODE_ALTAI_PAGE=48,OPCODE_HHAVEN_SECTION=50,OPCODE_HHAVEN_SELECT=51,OPCODE_HHAVEN_VARVAL=52,OPCODE_HHAVEN_SEARCH=53,OPCODE_HHAVEN_PAGE=54,OPCODE_KARAOKE_BACK=60,OPCODE_KARAOKE_SELECT=61,OPCODE_KARAOKE_SEARCH=62,OPCODE_TWITCH_BACK=70,OPCODE_TWITCH_PAGE=71,OPCODE_TWITCH_SEARCH=72,OPCODE_YOUTUBE_BACK=80,OPCODE_YOUTUBE_PAGE=81,OPCODE_YOUTUBE_SEARCH=82,OPCODE_YOUTUBE_CATEGORY=83,OPCODE_YOUTUBE_CHANNEL_PAGE=84,OPCODE_YOUTUBE_CHANNEL_BACK=85,OPCODE_YOUTUBE_CHANNEL_SEARCH=86,OPCODE_YOUTUBE_NEXT=87,OPCODE_YOUTUBE_PREV=88,OPCODE_YOUTUBE_REPLAY=89,OPCODE_YOUTUBE_LOOP=90,OPCODE_RADIO_BACK=120,OPCODE_RADIO_SELECT=121,OPCODE_RADIO_SEARCH=122;function syncMessageHandler(a){switch(a.c){case OPCODE_REGISTERED:MSLAppManager.registered(a.appState);break;case OPCODE_LOAD:MSLAppManager.load(a.appName,a.data,!1);break;case OPCODE_OPEN:MSLAppManager.open(a.appName,!1);break;case OPCODE_SETLOCK:MSLAppManager.setLock(a.value);break;case OPCODE_KARAOKE_SEARCH:MSLAppKaraoke.search(a.query,!1);break;case OPCODE_KARAOKE_SELECT:MSLAppKaraoke.select(a.value,!1);break;case OPCODE_RADIO_SEARCH:MSLAppRadio.search(a.query,typeof a.type=="undefined"?null:a.type,!1);break;case OPCODE_RADIO_SELECT:MSLAppRadio.select(a.value,!1);break;case OPCODE_RADIO_BACK:MSLAppRadio.back(!1);break;case OPCODE_ALTAI_SEARCH:MSLAppAltai.search(a.query,!1);break;case OPCODE_ALTAI_SELECT:MSLAppAltai.select(a.value,!1);break;case OPCODE_ALTAI_PAGE:MSLAppAltaiIndex.page(a.value,!1);break;case OPCODE_ALTAI_VIEW:MSLAppAltaiView.loadImage(a.value,!1);break;case OPCODE_YOUTUBE_PAGE:MSLAppYoutube.page(a.value,!1);break;case OPCODE_YOUTUBE_SEARCH:MSLAppYoutube.search(a.query,typeof a.type=="undefined"?1:a.type,!1);break;case OPCODE_YOUTUBE_CATEGORY:MSLAppYoutube.category(a.category,!1);break;case OPCODE_YOUTUBE_BACK:MSLAppYoutube.back(!1);break;case OPCODE_YOUTUBE_CHANNEL_PAGE:MSLAppYoutubeChannel.page(a.value,!1);break;case OPCODE_YOUTUBE_CHANNEL_SEARCH:MSLAppYoutubeChannel.search(a.query,!1);break;case OPCODE_YOUTUBE_CHANNEL_BACK:MSLAppYoutubeChannel.back(!1);break;case OPCODE_YOUTUBE_NEXT:MSLAppYoutubeWatch.onNext(!1);break;case OPCODE_YOUTUBE_PREV:MSLAppYoutubeWatch.onPrev(!1);break;case OPCODE_YOUTUBE_REPLAY:MSLAppYoutubeWatch.onReplay(!1);break;case OPCODE_YOUTUBE_LOOP:MSLAppYoutubeWatch.onLoop(!1);break;case OPCODE_TWITCH_SEARCH:MSLAppTwitch.search(a.query,!1);break;case OPCODE_TWITCH_PAGE:MSLAppTwitch.page(a.value,!1);break;case OPCODE_ADULT_PAGE:MSLAppAdult.page(a.value,!1);break;case OPCODE_ADULT_SEARCH:MSLAppAdult.search(a.query,!1);break;case OPCODE_ADULT_CATEGORY:MSLAppAdult.category(a.category,!1);break;case OPCODE_ADULT_BACK:MSLAppAdult.back(!1);break;case OPCODE_HHAVEN_SEARCH:MSLAppHHaven.search(a.query,!1);break;case OPCODE_HHAVEN_SECTION:MSLAppHHaven.categoryButtonCallback(a.section=="categoryList",!1);break;case OPCODE_HHAVEN_VARVAL:MSLAppHHaven.tagSelectionToggle(a.id,a.val,!1);break;case OPCODE_HHAVEN_SELECT:MSLAppHHaven.select(a.value,!1);break;case OPCODE_HHAVEN_PAGE:MSLAppHHaven.page(a.value,!1);break;case OPCODE_SETTINGS_CHANGE:MSLAppSettings.SettingsMenuChange(a.setting,a.value,!1);break}}function clock(){var c=new Date,a=c.getHours(),b=c.getMinutes(),e=a<12?"AM":"PM",d;b=(b<10?"0":"")+b,a=a>12?a-12:a,a=a==0?12:a,d=a+":"+b+" "+e,$("time").html()!=d&&$("time").html(d),setTimeout(clock,1e3)}
function MSLAudio(b){var a={};b="undefined"==typeof b||b,this.add=function(b,d,c){return"undefined"==typeof a[b]&&(void 0==c&&(c=1),a[b]={source:d,audio:new Audio(d),volume:c},a[b].audio.volume=c,a[b].audio.addEventListener("ended",function(){this.currentTime=0}),!0)},this.play=function(c){if(!b||"undefined"==typeof a[c])return!1;if(a[c].audio.paused)a[c].audio.play();else{var d=new Audio(a[c].source);d.volume=a[c].volume,d.play(),d=null}return!0},this.disable=function(){b=!1},this.enable=function(){b=!0}}
function Tooltip(b,g){var e=this,f={x1:16,y1:16,x2:1024-16,y2:576-16},a=$(document.createElement("div")),c,d;a.addClass("tooltip"),c=$(document.createElement("div")),c.addClass("pointer"),a.append(c),d=$(document.createElement("div")),d.addClass("content"),a.append(d),$(document.body).append(a),b.on("mouseenter",function(){e.Show(g())}),b.on("mouseleave",function(){e.Show(!1)}),this.Show=function(e){var h,i,g;if(e="undefined"!=typeof e?e:null,!e||!e.length){a.css("display","none");return}d.html(e),h={x:b.offset().left+b.width()/4,y:b.offset().top+b.height()+8},i=a.width(),g=h.x-32,g+i>f.x2&&(g-=g+i-f.x2),a.css({top:h.y,left:g,display:"block"}),c.css("left",h.x-g)}}
function RailMenuTMCentered(c,j,i,h,k){var a=k-h,d=c.m_$parent,f=c.m_collection,g=c.m_filtered,b=c.m_shown,e=c.settings;function n(){e.layout=="horizontal"?a<0?(o(),c.oldDirection=-1):(p(),c.oldDirection=1):a<0?(q(),c.oldDirection=-1):(r(),c.oldDirection=1)}function l(){var b=Math.floor(e.numToDisplay/2),c;if(k<=b){if(h<=b)return a=0,!1;a=b-h}if(c=g[g.length-1]-b,h>c){if(k>c)return a=0,!1;a=k-c}return!0}function m(){var b=Math.floor(e.numToDisplay/2);if(h<=b){if(h+a-b<=0)return a=0,!1;a=h+a-b}return!0}function o(){if(!l())return;c.oldDirection==1&&d.children().stop(!0,!0);for(var h=-1;h>=a;h--){if(j+h<0)break;b.unshift(g[j+h]),f[b[0]].$DOM.css("margin-left",e.itemSize*-1),d.prepend(f[b[0]].$DOM),f[b[0]].$DOM.animate({"margin-left":0},{duration:e.transitionSpeed,queue:!1,complete:function(){d.children().last().detach()}}),b.pop()}}function p(){if(!m())return;c.oldDirection==-1&&d.children().stop(!0,!0);for(var h=1;h<=a;h++){if(i+h>=g.length)break;d.append(f[g[i+h]].$DOM),b.push(g[i+h]),f[b.shift()].$DOM.animate({"margin-left":e.itemSize*-1},{duration:e.transitionSpeed,queue:!1,complete:function(){$(this).detach()}})}}function q(){if(!l())return;c.oldDirection==1&&d.children().stop(!0,!0);for(var h=-1;h>=a;h--){if(j+h<0)break;b.unshift(g[j+h]),f[b[0]].$DOM.css("margin-top",e.itemSize*-1),d.prepend(f[b[0]].$DOM),f[b[0]].$DOM.animate({"margin-top":0},{duration:e.transitionSpeed,queue:!1,complete:function(){d.children().last().detach(),d.children().css("margin-top","0")}}),b.pop()}}function r(){if(!m())return;c.oldDirection==-1&&d.children().stop(!0,!0);for(var h=1;h<=a;h++){if(i+h>=g.length)break;d.append(f[g[i+h]].$DOM),b.push(g[i+h]),f[b.shift()].$DOM.animate({"margin-top":e.itemSize*-1},{duration:e.transitionSpeed,queue:!1,complete:function(){$(this).detach(),d.children().css("margin-top","0")}})}}n()}function RailMenu(d,h){var a=this,b=1;this.m_$parent=d,this.m_collection=new Array,this.m_filtered=new Array,this.m_shown=new Array,this.filters={search:"",sort:"",category:"",order:"ASC"},this.oldDirection=0,this.settings={numToDisplay:9,layout:d.hasClass("horizontal")?"horizontal":"vertical",itemSize:null,transition:"RailMenuTMCentered",transitionSpeed:75,attributes:new Array,onClick:null,onSelect:null,onSearch:null,onSort:null,onPresent:null},d.bind("mousewheel DOMMouseScroll",function(d){d.originalEvent.wheelDelta>0||d.originalEvent.detail<0?a.select(e(c(b)-1),!0,!1):a.select(e(c(b)+1),!0,!1)});function g(){f(h,a.settings),a.loadDOM(d),d.click(function(c){var b=c.target;do{if(b.tagName=="LI")return a.select($(b).attr("id")),!1;b=b.parentNode}while(b.parentNode!=null&&"undefined"!=typeof b.parentNode)})}function f(b,c){for(var a in b)if(b.hasOwnProperty(a))if("protected"==a)continue;else"object"==typeof b[a]?f(b[a],c[a]):c[a]=b[a]}function c(c){var b=a.m_filtered.indexOf(parseInt(c));return b>=0?b:null}function e(b){return b>=a.m_filtered.length?null:a.m_filtered[b]}this.createParamsString=function(){return"q="+encodeURIComponent(this.filters.search)+"c="+encodeURIComponent(this.filters.category)+"&s="+encodeURIComponent(this.filters.sort)+"&o="+encodeURIComponent(this.filters.order)+"&sel="+b},this.clear=function(){a.m_shown=new Array,a.m_filtered=new Array,a.m_collection=new Array},this.itemCount=function(){return a.m_collection.length},this.addItem=function(c){for(var d={$DOM:c},b=0,e;b<a.settings.attributes.length;b++){if("undefined"==typeof c.attr(a.settings.attributes[b]))continue;d[a.settings.attributes[b]]=c.attr(a.settings.attributes[b])}e=a.m_collection.length,a.m_collection.push(d),a.m_filtered.push(e),c.attr("id",e)},this.loadJSON=function(b,g){var f,d,e,c;"string"==typeof b&&(b=JSON.parse(b)),f=a.m_collection.length;for(d in b){if(!b.hasOwnProperty(d))continue;e={$DOM:g(b[d])};for(c=0;c<a.settings.attributes.length;c++){if("undefined"==typeof b[d][a.settings.attributes[c]])continue;e[a.settings.attributes[c]]=b[d][a.settings.attributes[c]]}a.m_collection.push(e),a.m_filtered.push(f),e.$DOM.attr("id",f++)}},this.loadDOM=function(b){b.children().each(function(d){for(var c={$DOM:$(this)},b=0;b<a.settings.attributes.length;b++){if("undefined"==typeof c.$DOM.attr(a.settings.attributes[b]))continue;c[a.settings.attributes[b]]=c.$DOM.attr(a.settings.attributes[b])}a.m_collection.push(c),a.m_filtered.push(d),$(this).attr("id",d)})},this.search=function(d,e,c=""){var b,f,g,a;if(d="undefined"!=typeof d?d.toLowerCase():"",c="undefined"!=typeof c&&c!=null?c.toLowerCase():"",e="undefined"==typeof e||e,d==this.filters.search&&this.filters.category==c)return!1;this.filters.search=d,this.filters.category=c,this.m_filtered=new Array;for(b=0;b<this.m_collection.length;b++)if(this.filters.search.length>1||this.filters.category.length>1){if(f=!1,g=!1,this.filters.search.length>1)for(a=0;a<this.settings.attributes.length;a++){if(!this.m_collection[b].hasOwnProperty(this.settings.attributes[a]))continue;if(-1!=this.m_collection[b][this.settings.attributes[a]].toLowerCase().indexOf(this.filters.search)){f=!0;break}}if(this.filters.category.length>1)for(a=0;a<this.settings.attributes.length;a++){if(!this.m_collection[b].hasOwnProperty(this.settings.attributes[a]))continue;if(-1!=this.m_collection[b][this.settings.attributes[a]].toLowerCase().indexOf(this.filters.category)){g=!0;break}}(this.filters.search.length>1&&this.filters.category.length>1&&f&&g||this.filters.search.length>1&&this.filters.category.length==0&&f||this.filters.category.length>1&&this.filters.search.length==0&&g)&&this.m_filtered.push(b)}else this.m_filtered.push(b);return e&&"function"==typeof this.settings.onSearch&&this.settings.onSearch(),!0},this.sort=function(c,b,d){return!(c="undefined"!=typeof c?c:"",b="undefined"!=typeof b&&b=="DESC"?b:"ASC",c==this.filters.sort&&b==this.filters.order)&&(this.filters.sort=c,this.filters.order=b,this.filters.sort.length>1&&this.m_collection[this.m_filtered[0]].hasOwnProperty(this.filters.sort)&&this.m_filtered.sort(function(b,c){return a.m_collection[b][a.filters.sort].charCodeAt(0)<a.m_collection[c][a.filters.sort].charCodeAt(0)?a.filters.order=="ASC"?-1:1:a.m_collection[b][a.filters.sort].charCodeAt(0)>a.m_collection[c][a.filters.sort].charCodeAt(0)?a.filters.order=="ASC"?1:-1:0}),d&&"function"==typeof this.settings.onSort&&this.settings.onSort(),!0)},this.present=function(g){var j,i,h,d,f,a,e;if(g="undefined"!=typeof g?g:0,!this.m_filtered.length)return;j=Math.floor((this.settings.numToDisplay-1)/2),i=Math.ceil((this.settings.numToDisplay-1)/2),h=c(g),d=h-j,f=h+i,d<0&&(f+=Math.abs(d),d=0),f>=this.m_filtered.length&&(f=this.m_filtered.length-1),this.m_$parent.empty(),this.m_shown=new Array;for(a=d;a<=f;a++)this.m_$parent.append(this.m_collection[this.m_filtered[a]].$DOM),this.m_shown.push(this.m_filtered[a]);this.settings.itemSize=this.settings.layout=="horizontal"?this.m_collection[this.m_filtered[d]].$DOM.width():this.m_collection[this.m_filtered[d]].$DOM.height(),this.m_$parent.children().removeClass().removeAttr("style"),b=g,c(b)||(b=this.m_filtered[0]),this.m_collection[b].$DOM.addClass("selected");for(a=0;a<this.m_shown.length;a++){if(this.m_shown[a]==b)continue;e=this.m_shown[a]-h,e=e<0?"rel_m"+Math.abs(e):"rel_p"+e,this.m_collection[this.m_shown[a]].$DOM.addClass(e)}"function"==typeof this.settings.onPresent&&this.settings.onPresent(this.m_collection[b])},this.select=function(a,f,g){var h,i,j,k,d,e;if(f="undefined"==typeof f||f,g="undefined"==typeof g||g,a<0||a>=this.m_collection.length||a===null||a===void 0)return;if(a==b){f&&"function"==typeof this.settings.onClick&&this.settings.onClick(this.m_collection[b],g);return}f&&"function"==typeof this.settings.onSelect&&this.settings.onSelect(this.m_collection[a],g),h=c(a),i=c(b),j=c(this.m_shown[0]),k=c(this.m_shown[this.m_shown.length-1]),window[this.settings.transition](this,j,k,i,h),this.m_$parent.children().removeClass(),b=a,this.m_collection[b].$DOM.addClass("selected");for(d=0;d<this.m_shown.length;d++){if(this.m_shown[d]==b)continue;e=c(this.m_shown[d])-h,e=e<0?"rel_m"+Math.abs(e):"rel_p"+e,this.m_collection[this.m_shown[d]].$DOM.addClass(e)}},g()}
function GridMenu(e,f,g,h){var d=g*h,b=0,c=0,a=new Array;this.hasAny=function(){return a.length>0},this.nextPage=function(){this.gotoPage(b+1)},this.prevPage=function(){this.gotoPage(b-1)},this.gotoPage=function(a){if(a<0||a>c)return;MSLGlobals.Audio.play("select"),b=a,this.render()},this.getCollectionLength=function(){var c,b;if($(".MSLAppBookmarkSearchCtrl").val().length==0)return a.length;c=0;for(b=0;b<a.length;b++)this.matchesSearchTerm(a[b])&&c++;return c},this.matchesSearchTerm=function(a){var b,c;return $(".MSLAppBookmarkSearchCtrl").val().length==0||(!!(b=a.children(".text").first().children("h5").first().text(),c=a.children(".text").first().children("p").first().text(),b.indexOf($(".MSLAppBookmarkSearchCtrl").val())!=-1)||(c.indexOf($(".MSLAppBookmarkSearchCtrl").val())!=-1))},this.render=function(){var h=this,g;this.clearMenu(),c=Math.floor((this.getCollectionLength()-1)/d);for(g=b*d;g<a.length&&g<b*d+d;g++)this.matchesSearchTerm(a[g])&&e.append(a[g]);if(c>0)for(g=0;g<=c;g++)$bullet=$(document.createElement("div")),g==b?$bullet.addClass("selected"):($bullet.attr("goto",g),$bullet.on("click",function(){h.gotoPage($(this).attr("goto"))})),f.append($bullet)},this.addItem=function(b){a.push(b)},this.clearMenu=function(){e.empty(),f.empty()},this.clearCollection=function(){a=new Array,b=0,c=0}}
function SimpleGalleryPages(c,i,j,g,h){var f=this,a=1,b=0,d=0,e=null;this.checkPageControlAvailability=function(){a==b?$("#"+c+" #pageControlNext").removeClass("active"):$("#"+c+" #pageControlNext").addClass("active"),a==1?$("#"+c+" #pageControlPrev").removeClass("active"):$("#"+c+" #pageControlPrev").addClass("active")},this.goToPage=function(d,e){d="undefined"!=typeof d?d:1,e="undefined"==typeof e||e,d<1&&(d=1),d>b&&(d=b),e&&MSLGlobals.sync&&MSLGlobals.sync.send({c:j,value:d}),a=d,f.checkPageControlAvailability(),$("#"+c+" .page").css("display","none"),$("#"+c+" .page-"+(d-1)).fadeIn()},this.nextPage=function(){if(++a>b){a--;return}f.goToPage(a)},this.prevPage=function(){if(--a<1){a++;return}f.goToPage(a)},this.add=function(a){var c=Math.floor(d/(g*h)),j=d%g;d%(g*h)==0&&b++,a.addClass("page"),a.addClass("page-"+c),c>0&&a.css("display","none"),j==g-1&&a.addClass("lastInRow"),e==null&&(e=$("#"+i)),e.append(a),f.checkPageControlAvailability(),d++},this.clear=function(){a=1,b=0,d=0,e!=null&&e.empty()}}
class UndockedScrollbar{constructor(c,b){this.$content=c,this.$scroll=b,this.$track=b.find(".track"),this.$thumb=b.find(".thumb"),this.dragInfo=null;const a=this;this.$content.on("scroll",function(){if(a.dragInfo)return;a.MoveByContent()}),$(window).on("resize",function(){a.MoveByContent()}),this.$scroll.on("mousedown",function(b){a.dragInfo={lastMouseY:b.clientY,hasMoved:!1}}),$(window).on("mouseup",function(b){if(a.dragInfo!=null&&!a.dragInfo.hasMoved){const c=a.$thumb.position().top-(b.clientY-a.$track.offset().top),d=a.$scroll.height()*(a.$content.height()/a.$content[0].scrollHeight);c<0?a.MoveByScroll(a.Clamp(a.$thumb.position().top+d,0,a.$scroll.height()-a.$thumb.height())):c>0&&a.MoveByScroll(a.Clamp(a.$thumb.position().top-d,0,a.$scroll.height()-a.$thumb.height()))}a.dragInfo=null}),$(window).on("mousemove",function(b){if(a.dragInfo==null)return;const c=b.clientY-a.dragInfo.lastMouseY;a.dragInfo.lastMouseY!=b.clientY&&(a.dragInfo.lastMouseY=b.clientY,a.dragInfo.hasMoved=!0);const d=Math.min(Math.max(a.$thumb.position().top+c,0),a.$scroll.height()-a.$thumb.height());a.MoveByScroll(a.Clamp(a.$thumb.position().top+c,0,a.$scroll.height()-a.$thumb.height()))})}UpdateVisibility(b=null,a=null){return((b==null||a==null)&&(b=this.$scroll.height(),a=b/(this.$content[0].scrollHeight-parseInt(this.$content.css("padding-top"))-parseInt(this.$content.css("padding-bottom")))),isNaN(a)||a>=1)?(this.$scroll.addClass("inactive"),this.$content.addClass("contentFits"),!1):(this.$scroll.removeClass("inactive"),this.$content.removeClass("contentFits"),this.$thumb.css("height",b*a),this.AfterScroll(),!0)}MoveByContent(){const a=this.$scroll.height(),b=a/this.$content[0].scrollHeight;if(!this.UpdateVisibility(a,b))return;this.$scroll.finish().show(100),this.$thumb.css("height",a*b);const c=(this.$scroll.height()-a*b)/(this.$content[0].scrollHeight-this.$content.height());this.$thumb.css("top",this.$content.scrollTop()*c),this.AfterScroll()}MoveByScroll(a){this.$thumb.css("top",a),this.$content.scrollTop(this.$content[0].scrollHeight*(this.$thumb.position().top/this.$scroll.height())),this.AfterScroll()}AfterScroll(){this.$thumb[0].offsetTop==0?this.$thumb.addClass("top"):this.$thumb.removeClass("top"),this.$thumb[0].offsetTop+this.$thumb[0].offsetHeight>=this.$track[0].offsetHeight?this.$thumb.addClass("bot"):this.$thumb.removeClass("bot")}Reset(){this.$content.scrollTop(0)}Clamp(a,b,c){return Math.min(Math.max(a,b),c)}}
class VisibilityManager{constructor(c,d=!1,b={}){var a;if(this.$context=c,d){{this.$context.show(0);for(a in b)b[a]||this.$context.filter("#"+a).hide(0)}}else{this.$context.hide(0);for(a in b)b[a]&&this.$context.filter("#"+a).show(0)}}SetAll(b=!0,a=0){b?this.$context.finish().show(a):this.$context.finish().hide(a)}SetEverythingExceptByID(a,c=!0,b=0){c?this.$context.filter(":not(#"+a+")").finish().show(b):this.$context.filter(":not(#"+a+")").finish().hide(b)}SetEverythingExceptNth(a,c=!0,b=0){c?this.$context.filter(b=>b!=a).finish().show(b):this.$context.filter(b=>b!=a).finish().hide(b)}SetByID(a,c=!0,b=0){c?this.$context.filter("#"+a).finish().show(b):this.$context.filter("#"+a).finish().hide(b)}SetByNth(a,c=!0,b=0){c?this.$context.eq(a).finish().show(b):this.$context.eq(a).finish().hide(b)}SetOneHideRestByID(a,b=0,c=0,d=!1){if(d){const d=this;$.when(this.$context.finish().hide(c)).done(function(){d.$context.filter("#"+a).finish().show(b)})}else this.$context.finish().hide(c),this.$context.filter("#"+a).finish().show(b)}SetOneHideRestByNth(a,b=0,c=0,d=!1){if(d){const d=this;$.when(this.$context.finish().hide(c)).done(function(){d.$context.eq(a).finish().show(b)})}else this.$context.finish().hide(c),this.$context.eq(a).finish().show(b)}GetContextLength(){return this.$context.length}}
class TabManager{constructor(c,d,b,e=null){const a=this;this.$context=c,this.pages=new VisibilityManager(d,!1,{[b]:!0}),this.callback=e,this.$context.each(function(){const c=$(this);c.attr("for")==b?a.Switch(c):c.removeClass("active")}),this.$context.on("click",function(){const c=$(this),b=c.attr("for");if("undefined"==typeof b||b=="")return;if(a.$context.filter(".active").attr("for")==b)return;a.Switch(c)})}Switch(a){if("string"==typeof a&&(a=this.GetTabById(a)),this.pages.SetOneHideRestByID(a.attr("for"),0,0,!0),this.$context.removeClass("active"),a.addClass("active"),this.callback){const b=new Array;this.$context.each(function(){b.push($(this).attr("for"))}),this.callback(a.attr("for"),b)}}GetTabById(a){for(let b=0;b<this.$context.length;++b)if(this.$context[b].attributes.for.value==a)return $(this.$context[b]);return null}}
var MSLSyncClient=function(b,c,d){var a=this;this.socket,this.url=b,this.objectUUID=c,this.callback=d,this.reconnecting=!1,this.connected=!1,this.pingTimer=null,this.pingTime=null,this.latency=0,this.connect=function(){a.connected&&(a.socket.close(),connected=!1),a.socket=new WebSocket(a.url),a.reconnecting=!1,a.socket.onopen=function(b){a.open(b)},a.socket.onclose=function(b){a.close(b)},a.socket.onmessage=function(b){a.recv(b)},a.socket.onerror=function(b){a.error(b)}},this.reconnect=function(){if(!this.reconnecting){var a=this;this.reconnecting=!0,this.connected=!1,setTimeout(a.connect,5e3)}},this.send=function(a){if(!this.connected)return;this.socket.send(JSON.stringify(a))},this.ping=function(){if(a.pingTimer||(a.pingTimer=setInterval(a.ping,25e3)),!a.connected||a.pingTime)return;a.pingTime=Math.round(window.performance.now()*1e3),a.send({c:OPCODE_PING})},this.connect(),this.open=function(b){if($("#statusIcons > .sync").removeClass().addClass("sync").addClass("ok"),this.connected=!0,"object"==typeof a.callback&&"function"==typeof a.callback.onopen&&a.callback.onopen(b),a.objectUUID=="SYNC_STATUS_CHECK")return;this.send({c:OPCODE_REGISTER,objectUUID:this.objectUUID,defaultApp:MSLGlobals.DefaultApp}),setTimeout(a.ping,1e3)},this.close=function(b){$("#statusIcons > .sync").removeClass().addClass("sync").addClass("disconnected"),this.connected=!1,"object"==typeof a.callback&&"function"==typeof a.callback.onclose&&a.callback.onclose(b),this.reconnect()},this.recv=function(c){var b=JSON.parse(c.data),d;if("undefined"==typeof b.opcode)switch(b.c){case OPCODE_REGISTERED:b.opcode="registered";break;case OPCODE_PONG:b.opcode="pong";break;case OPCODE_LOAD:b.opcode="load";break;case OPCODE_OPEN:b.opcode="open";break;case OPCODE_SETLOCK:b.opcode="setLock";break;case OPCODE_KARAOKE_BACK:b.opcode="karaoke.back";break;case OPCODE_KARAOKE_SEARCH:b.opcode="karaoke.search";break;case OPCODE_KARAOKE_SELECT:b.opcode="karaoke.select";break;case OPCODE_RADIO_BACK:b.opcode="radio.back";break;case OPCODE_RADIO_SEARCH:b.opcode="radio.search";break;case OPCODE_RADIO_SELECT:b.opcode="radio.select";break;case OPCODE_ALTAI_SEARCH:b.opcode="altai.search";break;case OPCODE_ALTAI_SELECT:b.opcode="altai.select";break;case OPCODE_ALTAI_PAGE:b.opcode="altaiIndex.page";break;case OPCODE_ALTAI_VIEW:b.opcode="altaiView.view";break;case OPCODE_YOUTUBE_PAGE:b.opcode="youtube.page";break;case OPCODE_YOUTUBE_SEARCH:b.opcode="youtube.search";break;case OPCODE_YOUTUBE_CATEGORY:b.opcode="youtube.category";break;case OPCODE_YOUTUBE_BACK:b.opcode="youtube.back";break;case OPCODE_YOUTUBE_CHANNEL_PAGE:b.opcode="youtubeChannel.page";break;case OPCODE_YOUTUBE_CHANNEL_SEARCH:b.opcode="youtubeChannel.search";break;case OPCODE_YOUTUBE_CHANNEL_BACK:b.opcode="youtubeChannel.back";break;case OPCODE_YOUTUBE_NEXT:b.opcode="youtubeWatch.onNext";break;case OPCODE_YOUTUBE_PREV:b.opcode="youtubeWatch.onPrev";break;case OPCODE_YOUTUBE_REPLAY:b.opcode="youtubeWatch.onReplay";break;case OPCODE_YOUTUBE_LOOP:b.opcode="youtubeWatch.onLoop";break;case OPCODE_TWITCH_BACK:b.opcode="twitch.back";break;case OPCODE_TWITCH_PAGE:b.opcode="twitch.page";break;case OPCODE_TWITCH_SEARCH:b.opcode="twitch.search";break;case OPCODE_ADULT_PAGE:b.opcode="adult.page";break;case OPCODE_ADULT_SEARCH:b.opcode="adult.search";break;case OPCODE_ADULT_CATEGORY:b.opcode="adult.category";break;case OPCODE_ADULT_BACK:b.opcode="adult.back";break;case OPCODE_HHAVEN_SEARCH:b.opcode="hhaven.search";break;case OPCODE_HHAVEN_SECTION:b.opcode="hhaven.section";break;case OPCODE_HHAVEN_VARVAL:b.opcode="hhaven.varval";break;case OPCODE_HHAVEN_SELECT:b.opcode="hhaven.select";break;case OPCODE_HHAVEN_PAGE:b.opcode="hhaven.page";break;case OPCODE_SETTINGS_CHANGE:b.opcode="settings.change";break}else if("undefined"==typeof b.c)switch(b.opcode){case"registered":b.c=OPCODE_REGISTERED;break;case"pong":b.c=OPCODE_PONG;break;case"load":b.c=OPCODE_LOAD;break;case"open":b.c=OPCODE_OPEN;break;case"setLock":b.c=OPCODE_SETLOCK;break;case"karaoke.back":b.c=OPCODE_KARAOKE_BACK;break;case"karaoke.search":b.c=OPCODE_KARAOKE_SEARCH;break;case"karaoke.select":b.c=OPCODE_KARAOKE_SELECT;break;case"radio.back":b.c=OPCODE_RADIO_BACK;break;case"radio.search":b.c=OPCODE_RADIO_SEARCH;break;case"radio.select":b.c=OPCODE_RADIO_SELECT;break;case"altai.search":b.c=OPCODE_ALTAI_SEARCH;break;case"altai.select":b.c=OPCODE_ALTAI_SELECT;break;case"altaiIndex.page":b.c=OPCODE_ALTAI_PAGE;break;case"altaiView.view":b.c=OPCODE_ALTAI_VIEW;break;case"youtube.page":b.c=OPCODE_YOUTUBE_PAGE;break;case"youtube.search":b.c=OPCODE_YOUTUBE_SEARCH;break;case"youtube.category":b.c=OPCODE_YOUTUBE_CATEGORY;break;case"youtube.back":b.c=OPCODE_YOUTUBE_BACK;break;case"youtubeChannel.page":b.c=OPCODE_YOUTUBE_CHANNEL_PAGE;break;case"youtubeChannel.search":b.c=OPCODE_YOUTUBE_CHANNEL_SEARCH;break;case"youtubeChannel.back":b.c=OPCODE_YOUTUBE_CHANNEL_BACK;break;case"youtubeWatch.onNext":b.c=OPCODE_YOUTUBE_NEXT;break;case"youtubeWatch.onPrev":b.c=OPCODE_YOUTUBE_PREV;break;case"youtubeWatch.onReplay":b.c=OPCODE_YOUTUBE_REPLAY;break;case"youtubeWatch.onLoop":b.c=OPCODE_YOUTUBE_LOOP;break;case"twitch.back":b.c=OPCODE_TWITCH_BACK;break;case"twitch.page":b.c=OPCODE_TWITCH_PAGE;break;case"twitch.search":b.c=OPCODE_TWITCH_SEARCH;break;case"adult.page":b.c=OPCODE_ADULT_PAGE;break;case"adult.search":b.c=OPCODE_ADULT_SEARCH;break;case"adult.category":b.c=OPCODE_ADULT_CATEGORY;break;case"adult.back":b.c=OPCODE_ADULT_BACK;break;case"hhaven.search":b.c=OPCODE_HHAVEN_SEARCH;break;case"hhaven.section":b.c=OPCODE_HHAVEN_SECTION;break;case"hhaven.varval":b.c=OPCODE_HHAVEN_VARVAL;break;case"hhaven.select":b.c=OPCODE_HHAVEN_SELECT;break;case"hhaven.page":b.c=OPCODE_HHAVEN_PAGE;break;case"settings.change":b.c=OPCODE_SETTINGS_CHANGE;break}if(a.pingTime&&b.c==OPCODE_PONG){d=Math.round(window.performance.now()*1e3),this.latency=Math.floor((d-a.pingTime)/2/1e3),a.pingTime=0,this.latency>75?$("#statusSyncIcon").css("background-image","url('../images/icon-sync-slow.png')"):$("#statusSyncIcon").css("background-image","url('../images/icon-sync-ok.png')");return}"object"==typeof a.callback&&"function"==typeof a.callback.onmessage?a.callback.onmessage(b):"function"==typeof a.callback&&a.callback(b)},this.error=function(b){$("#statusIcons > .sync").removeClass().addClass("sync").addClass("disconnected"),this.connected=!1,"object"==typeof a.callback&&"function"==typeof a.callback.onerror&&a.callback.onerror(b),this.reconnect()}}
function MSLHistory(c){var a=new Array;if("undefined"==typeof b)function b(a,b){return JSON.stringify(a)==JSON.stringify(b)}this.add=function(c){if(a.length){var d=a[a.length-1];if(b(d,c))return!1}a.push(c),this.checkAvailability()},this.back=function(){return a.length<=1?null:(a.pop(),this.checkAvailability(),a[a.length-1])},this.clear=function(){a=new Array},this.checkAvailability=function(){var b=c.find("header > div.navBack").first();a.length>1?(b.removeClass("disabled"),b.css("cursor","pointer")):(b.addClass("disabled"),b.css("cursor","auto"))}}
function MSLPaginator(c,j){var d=this,e=0,b=1,f=0,a,i;this.settings={$controls:null,pageContainerType:"div",pageContainerClass:null,resultsPerPage:8,rows:2,firstAddSpace:0,syncID:null,onPageChange:null};function h(b,c){for(var a in b)if(b.hasOwnProperty(a))if("protected"==a)continue;else"object"==typeof b[a]&&!(b[a]instanceof jQuery)?h(b[a],c[a]):c[a]=b[a]}h(j,d.settings),a=null,i=Math.floor(this.settings.resultsPerPage/this.settings.rows),this.settings.$controls&&(this.settings.$controls.find(".previousPage").on("click",function(){if(--b<1){b++;return}d.page(b)}),this.settings.$controls.find(".nextPage").on("click",function(){if(++b>e){b--;return}d.page(b)}));function g(){if(!d.settings.$controls)return;b==e?d.settings.$controls.find("#pageControlNext").removeClass("active"):d.settings.$controls.find("#pageControlNext").addClass("active"),b==1?d.settings.$controls.find("#pageControlPrev").removeClass("active"):d.settings.$controls.find("#pageControlPrev").addClass("active"),d.settings.$controls.find("#currentPageNum").text(b),d.settings.$controls.find("#totalPageNum").text(e)}this.clear=function(){e=0,f=0,c.empty()},this.add=function(b){var d=Math.floor(f/this.settings.resultsPerPage),h=f%i==i-1;f%this.settings.resultsPerPage==0&&(e++,a=$(document.createElement(this.settings.pageContainerType)),a.attr("id","page-"+d),a.addClass("page"),this.settings.pageContainerClass&&a.addClass(this.settings.pageContainerClass),d>0&&a.css("display","none"),c.append(a)),h&&b.addClass("lastInRow"),f==0&&this.settings.firstAddSpace?(b.addClass("special"),f+=this.settings.firstAddSpace):f++,a.append(b),g()},this.page=function(a,d){a="undefined"!=typeof a?a:1,d="undefined"==typeof d||d,MSLGlobals.Audio.play("select"),a<1&&(a=1),a>e&&(a=e),this.settings.syncID&&d&&MSLGlobals.sync&&MSLGlobals.sync.send({opcode:this.settings.syncID+".page",value:a}),b=a,g(),c.children(".page").css("display","none"),c.children("#page-"+(a-1)).fadeIn(),this.settings.onPageChange&&this.settings.onPageChange()},this.search=function(j){var q,i,m,d,l,n,h,o,r,p,k;if(j="undefined"!=typeof j?j.toLowerCase():"",j=j.split("|"),q=j.length,i=new Array,c.children(".page").children().each(function(){var a=$(this);a.removeClass("hidden"),i.push(a),a.detach()}),m=i.length,c.children(".page").remove(),q>1||j[0].length)for(d=0;d<m;d++){if(l="undefined"!=i[d].attr("search-data")?i[d].attr("search-data"):"",!l.length)return!1;l=l.toLowerCase();for(n=0;n<q;n++)if(l.indexOf(j[n])==-1){i[d].addClass("hidden");break}}f=m,b=1,e=0,a=null,h=new Array,o=0;for(d=0;d<m;d++){if(!i[d].hasClass("hidden")){if(r=Math.floor(o/this.settings.resultsPerPage),o%this.settings.resultsPerPage==0){if(e++,a=$(document.createElement(this.settings.pageContainerType)),a.attr("id","page-"+r),a.addClass("page"),this.settings.pageContainerClass&&a.addClass(this.settings.pageContainerClass),r>0&&a.css("display","none"),h.length){p=h.length;for(k=0;k<p;k++)a.append(h[k]);h=new Array}c.append(a)}o++}a?a.append(i[d]):h.push(i[d])}if(h.length){a=$(document.createElement(this.settings.pageContainerType)),a.attr("id","page-0"),a.addClass("page"),a.css("display","none"),this.settings.pageContainerClass&&a.addClass(this.settings.pageContainerClass),p=h.length;for(k=0;k<p;k++)a.append(h[k]);h=new Array,c.append(a)}g()},this.getContainer=function(){return c},this.pageByProperty=function(a,b){c.find("section").each(function(){var c=$(this),e;return"undefined"!=typeof c.attr(a)&&(c.attr(a)!=b||(e=parseInt(c.parent().attr("id").split("-")[1])+1,d.page(e),!1))})},this.getCurrentPageByLastProperty=function(a){var d=c.children("#page-"+(b-1)).first().children().last();return"undefined"==typeof d.attr(a)?"undefined":d.attr(a)}}
var MSLAppManager=function(){var k=this,c=new Array,e=new Array,b=null;$(document).ready(function(){$(window).mousemove(function(a){b!=null&&"undefined"!=typeof b.onMouseMove&&b.onMouseMove(a.pageX,a.pageY)})}),$(document).ready(function(){$(".ownerLock").on("click",function(){MSLAppManager.toggleLock()})});function j(b,a){c.push(b),e.push(a),$(document).ready(function(){a.init()})}function g(a){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}window.location=a}function d(c,d,f){var e,g;if(c="undefined"!=typeof c?c:null,d="object"==typeof d&&d!=null?d:{},f="undefined"==typeof f||f,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&f){MSLGlobals.Audio.play("denied");return}if(f==!0&&MSLGlobals.DefaultApp!=0&&MSLGlobals.isOwner==!1){switch(e=-1,c){case"youtube":case"youtubeWatch":case"youtubeChannel":e=1;break;case"radio":case"radioListen":e=2;break;case"altai":case"altaiIndex":case"altaiView":e=3;break;case"karaoke":case"karaokeWatch":e=4;break}if(e==-1||e!=MSLGlobals.DefaultApp){MSLGlobals.Audio.play("denied");return}}f&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_LOAD,appName:c,data:d}),g=a(c)||a(null),g&&(b&&b.close(),b==g?(MSLGlobals.Audio.play("back"),g.load(d,!0)):(MSLGlobals.Audio.play(c==null?"back":"start"),b=g,g.load(d)))}function h(c,d){if(c="undefined"!=typeof c?c:null,d="undefined"==typeof d||d,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&d){MSLGlobals.Audio.play("denied");return}MSLGlobals.Audio.play("back"),d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_OPEN,appName:c});var e=a(c);e&&(b&&b.close(),b=e,e.open())}function i(){var b,a;if(!MSLGlobals.isOwner)return;b=$(".ownerLock"),a=!MSLGlobals.isLocked,$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"Lock",value:a}),a?(MSLGlobals.isLocked=!0,$(".ownerLock").removeClass("lock"),$(".ownerLock").addClass("unlock"),$(".overlayLock").removeClass("unlocked"),$(".overlayLock").addClass("locked"),MSLGlobals.Audio.play("lock"),MSLGlobals.endpoint.length>0&&$.post("json/SendToSecondLife.php",{endpoint:MSLGlobals.endpoint,data:"SetLock|1"})):(MSLGlobals.isLocked=!1,$(".ownerLock").removeClass("unlock"),$(".ownerLock").addClass("lock"),$(".overlayLock").removeClass("locked"),$(".overlayLock").addClass("unlocked"),MSLGlobals.Audio.play("unlock"),MSLGlobals.endpoint.length>0&&$.post("json/SendToSecondLife.php",{endpoint:MSLGlobals.endpoint,data:"SetLock|0"})),MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_SETLOCK,value:a?1:0})}function f(a,b){if(a="undefined"!=typeof a?a:0,b="undefined"!=typeof b&&b,b==!0&&a==-1)return;var c=MSLGlobals.isLocked;MSLGlobals.isLocked=!!a,MSLGlobals.isLocked?($(".ownerLock").removeClass("lock"),$(".ownerLock").addClass("unlock"),$(".overlayLock").removeClass("unlocked"),$(".overlayLock").addClass("locked"),MSLGlobals.Audio.play("lock")):($(".ownerLock").removeClass("unlock"),$(".ownerLock").addClass("lock"),$(".overlayLock").removeClass("locked"),$(".overlayLock").addClass("unlocked"),MSLGlobals.Audio.play("unlock"))}function a(b){for(var a=c.length;a--;)if(c[a]==b)return e[a];return null}return{load:d,open:h,register:j,toggleLock:i,setLock:f,gotoURL:g,getHandler:a,registered:function(c){var b;b=a(null),b.preload(c.home),b=a("karaoke"),b.preload(c.karaoke),b=a("youtube"),b.preload(c.youtube),b=a("twitch"),b.preload(c.twitch),b=a("adult"),b.preload(c.adult),b=a("hhaven"),b.preload(c.hhaven),b=a("radio"),b.preload(c.radio),b=a("altai"),b.preload(c.altai),b=a("altaiIndex"),b.preload(c.altaiIndex),b=a("altaiView"),b.preload(c.altaiView),b=a("games"),b.preload(c.games),b=a("help"),b.preload(c.help),f(c.isLocked,!0),d(c.currentApp,c.currentData,!1)}}}()
var MSLAppHome=function(){var e="#00e4ff",f="overlay",b="",q,p,a;function k(a){e=a}function j(a){f=a}function i(a){b=a!==null&&a.length>=16?a:""}function c(){$("#underlay > #videoBackground").css("backgroundColor",e),$("#underlay > #videoBackground").css("mix-blend-mode",f),b.length>=16?$("#underlay > #videoBackground").css("backgroundImage","url('"+b+"')"):$("#underlay > #videoBackground").css("backgroundImage",""),$("#underlay > #videoBackground").css("opacity",1),$("#underlay > video").css("filter","brightness(1.0)"),$("#underlay > video").css("-webkit-filter","brightness(1.0)")}function g(){$("body > section").css("display","none"),$("section#MSLAppHome").fadeIn(),MSLAppManager.getHandler("radio").unload()}function l(){$("section#MSLAppHome").css("display","none")}function m(){a=!1,$("#homeMainMenuBars > div:not(.disabled)").on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),$("#homeMainMenuTiles > div.clickable").on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),$("#homeMainMenuTiles > div").on("mouseenter",function(b){var a=$(this).children("video").get(0);"undefined"!=typeof a&&a.play()}),$("#homeMainMenuTiles > div").on("mouseleave",function(b){var a=$(this).children("video").get(0);"undefined"!=typeof a&&a.pause()})}function n(a){}function d(b,d){a=!0,c(),g()}function o(){a||d(),c(),g()}function h(){l()}return{init:m,preload:n,load:d,open:o,close:h,setBackgroundColour:k,setBackgroundBlend:j,setCustomBackground:i}}();MSLAppManager.register(null,MSLAppHome)
var MSLAppKaraoke=function(){var c=null,a,b,e,d;function l(b){if(b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}var d=c.back();if(d===null)return;MSLGlobals.Audio.play("back"),b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_KARAOKE_BACK}),a.search(d),a.present(),$("input.MSLAppKaraokeSearchCtrl").val(d||"")}function h(){$("#underlay > #videoBackground").css("backgroundColor","#ca517c"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function i(){$("body > section").css("display","none"),$("section#MSLAppKaraoke").fadeIn()}function k(){$("section#MSLAppKaraoke").css("display","none")}function j(){e=!1,d=0,c=new MSLHistory($("section#MSLAppKaraoke")),$("input.MSLAppKaraokeSearchCtrl").keypress(function(a){if(a.which==13)return MSLGlobals.Audio.play("button"),MSLAppKaraoke.search($("input.MSLAppKaraokeSearchCtrl").val()),!1}),$("button.MSLAppKaraokeSearchCtrl").click(function(a){return MSLGlobals.Audio.play("button"),MSLAppKaraoke.search($("input.MSLAppKaraokeSearchCtrl").val()),!1}),$.ajax({method:"GET",url:"data/karaokeSongs.json"}).done(function(d){for(var f=d.length,c=0,e;c<f;c++)$li=$(document.createElement("li")),$li.attr("artist",d[c].a),$li.attr("song",d[c].t),$li.attr("videoid",d[c].id),$li.attr("url",d[c].src),$li.append($(document.createElement("div")).addClass("albumart").css("background-image","url('"+d[c].src+"')")),$li.append($(document.createElement("div")).addClass("duration").addClass("unselectable").text(d[c].len)),$li.append($(document.createElement("div")).addClass("track").text(d[c].t)),$li.append($(document.createElement("div")).addClass("artist").text(d[c].a)),$("#MSLAppKaraoke #songs").append($li);b=new RailMenu($("#MSLAppKaraoke #selector"),{}),a=new RailMenu($("#MSLAppKaraoke #songs"),{attributes:["Artist","Song","VideoID","URL"],activeAttribute:"Song"}),b.settings.onSelect=function(e,f){for(var d=e.$DOM.text().charAt(0).toLowerCase(),b=0,c;b<a.m_filtered.length;b++)if(c=a.m_collection[a.m_filtered[b]][a.settings.activeAttribute].charAt(0).toLowerCase(),d==c||d=='#'&&parseInt(c)>=0&&parseInt(c)<=9){a.select(a.m_filtered[b],!1,!1),f&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_KARAOKE_SELECT,value:a.m_filtered[b]});break}},e=function(e,g){var c=e[a.settings.activeAttribute].charAt(0).toLowerCase(),d,f;parseInt(c)>=0&&parseInt(c)<=9&&(c='#');for(d=0;d<b.m_filtered.length;d++)if(f=b.m_collection[b.m_filtered[d]].$DOM.text().charAt(0).toLowerCase(),c==f){b.select(b.m_filtered[d],!1);break}},a.settings.onPresent=e,a.settings.onSelect=function(a,b){return e(a,b),b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_KARAOKE_SELECT,value:a.$DOM.attr("id")}),!0},a.settings.onClick=function(a,b){MSLAppManager.load("karaokeWatch",{url:a.URL},b)},b.present()})}function f(b){"undefined"!=typeof b.selected&&(d=b.selected),"undefined"!=typeof b.search&&"undefined"!=typeof a&&(a.search(b.search),$("input.MSLAppKaraokeSearchCtrl").val(b.search))}function g(b,g){b="undefined"!=typeof b?b:{},g="undefined"!=typeof g&&g,g&&(b.search="undefined"!=typeof b.search?b.search:""),e=!0,h(),f(b,!0),c.add(""),a.present(d),d=0,i()}function m(){e||g(),h(),i()}function n(){k()}return{init:j,preload:f,load:g,open:m,close:n,back:l,search:function(d,b){if(b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_KARAOKE_SEARCH,query:d}),c.add(d),a.search(d),a.present(),$("input.MSLAppKaraokeSearchCtrl").val(d)},select:function(c,b){if(b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}a.select(c,!0,b)}}}();MSLAppManager.register("karaoke",MSLAppKaraoke,!0)
var MSLAppKaraokeWatch=function(){var b,n,c,a,d;function f(){$("#underlay > #videoBackground").css("backgroundColor","#ca517c")}function g(){$("body > section").css("display","none"),$("section#MSLAppKaraokeWatch").fadeIn()}function i(){$("section#MSLAppKaraokeWatch").css("display","none")}function j(){c=!1,url=null,b=$("#MSLAppKaraokeWatch #videoplayerKaraoke"),a=$("section#MSLAppKaraokeWatch > main > div.fullscreenOverlay"),d=a.children().first(),$(window).blur(function(){a.css("opacity",0)}),$(window).on("mouseout",function(){a.css("opacity",0)})}function e(a){"undefined"!=typeof a.url&&(url=a.url)}function h(a,d){a="undefined"!=typeof a?a:{},d="undefined"!=typeof d&&d,d,c=!0,f(),e(a),b.jPlayer("destroy"),b.jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"Karaoke",webmv:url}).jPlayer("play")},play:function(){$("#MSLAppKaraokeWatch #messageLoading").css("display","none")},size:{width:1024,height:576},preload:"auto",swfPath:"js",supplied:"webmv",solution:"html, flash",volume:1,timeFormat:{showHour:!0},autohide:{restored:!0,hold:3e3}}),g()}function l(){c||h(),f(),g()}function k(){b&&b.jPlayer("destroy"),i()}function m(i,f){var g=512,h=288,c=40,e=Math.abs(i-g)-d.width()/2,b=Math.abs(f-h)-d.height()/2;e<=0&&b<=0?a.css("opacity",1):(e=1-e.clamp(0,c)/c,b=1-b.clamp(0,c)/c,a.css("opacity",Math.min(e,b)))}return{init:j,preload:e,load:h,open:l,close:k,onMouseMove:m}}();MSLAppManager.register("karaokeWatch",MSLAppKaraokeWatch,!0)
var MSLAppRadio=function(){var d=null,g=["All","Pop","Decades","Rock","Metal","Alternative","International","Electronic","Inspirational","New Age","Jazz","Blues","Classical","Country","Folk","Reggae","Rap","R&B and Urban","Easy Listening","Latin","Soundtracks","Public Radio","Talk","Misc"],a=null,c=null,j={Pop:"https://i.imgur.com/Elaz6cd.png",Decades:"https://i.imgur.com/0dXzsUS.png",Rock:"https://i.imgur.com/q3T665r.png",Metal:"https://i.imgur.com/tMwNRQ2.png",Alternative:"https://i.imgur.com/0OiXWvA.png",International:"https://i.imgur.com/rj8miQi.png",Electronic:"https://i.imgur.com/Da4kbLB.png",Inspirational:"https://i.imgur.com/xtSTbte.png",NewAge:"https://i.imgur.com/wfZJz4U.png",Jazz:"https://i.imgur.com/Q1FHxhT.png",Blues:"https://i.imgur.com/sc5d7xv.png",Classical:"https://i.imgur.com/BPXfOT6.png",Country:"https://i.imgur.com/96Rlhqb.png",Folk:"https://i.imgur.com/tzDf7a5.png",Reggae:"https://i.imgur.com/HIvoDgc.png",Rap:"https://i.imgur.com/LYN3b5A.png",EasyListening:"https://i.imgur.com/v05rh6s.png",Latin:"https://i.imgur.com/IW9VsH9.png",Soundtracks:"https://i.imgur.com/1VGct2f.png",PublicRadio:"https://i.imgur.com/803GYVZ.png",Talk:"https://i.imgur.com/03xAmRm.png",Misc:"https://i.imgur.com/qGTHVfr.png",RNBandUrban:"https://i.imgur.com/T2CmXWX.png"},h,e,b;function f(a){return(a=a.replace(" ","").replace(" ","").replace(" ",""),a=a.replace("&","N").replace("&","N").replace("&","N"),!(a in j))?"":j[a]}function m(h){if(h="undefined"==typeof h||h,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&h){MSLGlobals.Audio.play("denied");return}var e=d.back();if(e===null)return;MSLGlobals.Audio.play("back"),h&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_RADIO_BACK});let i=null,g=null;"object"==typeof e&&e!==null?("q"in e&&(i=e.q),"g"in e&&(g=e.g)):i=e.toString(),g=="HOME"?($("input.MSLAppRadioSearchCtrl").val(""),$(".MSLAppRadioSortCtrl").text("Genres").css("background-image","none"),a=null,c.SetOneHideRestByID("radioGenreList")):(c.SetOneHideRestByID("radioStationList"),b.search(i,!0,g),b.present(),$("input.MSLAppRadioSearchCtrl").val(i||""),$(".MSLAppRadioSortCtrl").text(g||"Genres").css("background-image",g?"url('"+f(g)+"')":"none"))}function k(){$("#underlay > #videoBackground").css("backgroundColor","#0094ff"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function l(){$("body > section").css("display","none"),$("section#MSLAppRadio").fadeIn()}function p(){$("section#MSLAppRadio").css("display","none")}function n(){h=!1,e=0,d=new MSLHistory($("section#MSLAppRadio")),c=new VisibilityManager($("#radioStationView > div"),!1,{radioGenreList:!0}),$("input.MSLAppRadioSearchCtrl").keypress(function(b){if(b.which==13)return MSLGlobals.Audio.play("button"),MSLAppRadio.search($("input.MSLAppRadioSearchCtrl").val(),a),!1}),$("button.MSLAppRadioSearchCtrl").click(function(b){return MSLGlobals.Audio.play("button"),MSLAppRadio.search($("input.MSLAppRadioSearchCtrl").val(),a),!1}),$(".MSLAppRadioSortCtrl").click(function(a){return MSLGlobals.Audio.play("button"),c.SetOneHideRestByID("radioGenreList"),d.add({q:"",g:"HOME"}),!1});const i=document.getElementById("radioGenreList");g.forEach(b=>{const c=document.createElement("div"),d=document.createElement("div"),g=document.createElement("h5");g.innerHTML=b,d.classList.add("text"),d.append(g),c.append(d);const e=document.createElement("div");e.classList.add("background"),e.style.backgroundImage="url('"+f(b)+"')",c.append(e),c.addEventListener("click",function(){MSLGlobals.Audio.play("button"),b=="All"?($(".MSLAppRadioSortCtrl").text("Genres").css("background-image","none"),a=null):($(".MSLAppRadioSortCtrl").text(b).css("background-image","url('"+f(b)+"')"),a=b),MSLAppRadio.search($("input.MSLAppRadioSearchCtrl").val(),a)}),i.append(c)}),$.ajax({method:"GET",url:"json/radioStations.php"}).done(function(a){var d,c;a=JSON.parse(a),d=a.length;for(c=0;c<d;c++)$li=$(document.createElement("li")),$li.attr("station",a[c].n),$li.attr("genre",a[c].g),$li.attr("subgenre",a[c].s?"":a[c].s),$li.attr("stationid",a[c].id),$li.attr("listeners",a[c].l),$li.append($(document.createElement("div")).addClass("listeners").addClass("unselectable").text(a[c].l)),$li.append($(document.createElement("div")).addClass("station").text(a[c].n)),a[c].s?$li.append($(document.createElement("div")).addClass("genre").text(a[c].g+", "+a[c].s)):$li.append($(document.createElement("div")).addClass("genre").text(a[c].g)),$("#MSLAppRadio #songs").append($li);b=new RailMenu($("#MSLAppRadio #songs"),{attributes:["Station","Genre","Listeners","StationID"],activeAttribute:"Listeners"}),b.settings.onSelect=function(b,a){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}return a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_RADIO_SELECT,value:b.$DOM.attr("id")}),!0},b.settings.onClick=function(b,a){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}MSLAppManager.load("radioListen",{ID:b.StationID},a)},b.present()})}function o(a){"undefined"!=typeof a.selected&&(e=a.selected);let c="search"in a?a.search:"",d="type"in a?a.type:null,f=setInterval(function(){"undefined"!=typeof b&&(MSLAppRadio.search(c,d,!1),clearInterval(f))},200)}function i(f,c){f="undefined"!=typeof f?f:{},c="undefined"!=typeof c&&c,c?(a=null,MSLAppRadio.search("")):d.add({q:"",g:"HOME"}),h=!0,k(),e&&b&&(b.present(e),e=0),l()}function q(){h||i(),k(),l()}function r(){p()}return{init:n,preload:o,load:i,open:q,close:r,back:m,unload:function(){$("input.MSLAppRadioSearchCtrl").val(""),$(".MSLAppRadioSortCtrl").text("Genres").css("background-image","none"),a=null,d.clear(),c.SetOneHideRestByID("radioGenreList")},search:function(e,i,h){if(h="undefined"==typeof h||h,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&h){MSLGlobals.Audio.play("denied");return}const j=/^((https|http)?:\/\/)(([0-9]{1,3}\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\.[a-z]{2,6})(:[0-9]{1,4})?((\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\/?)$/i;if(j.test(e)&&e.length<=255){$("input.MSLAppRadioSearchCtrl").val(""),MSLAppManager.load("radioListen",{stream:e},h&&MSLGlobals.sync);return}if(h&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_RADIO_SEARCH,query:e,type:i}),i=="HOME")MSLGlobals.Audio.play("back"),$("input.MSLAppRadioSearchCtrl").val(""),$(".MSLAppRadioSortCtrl").text("Genres").css("background-image","none"),a=null,d.add({q:"",g:"HOME"}),c.SetOneHideRestByID("radioGenreList");else{let h=g.indexOf(i);a=h!=-1?g[h]:null,d.add({q:e,g:i}),b.search(e,!0,i),b.present(),c.SetOneHideRestByID("radioStationList"),$("input.MSLAppRadioSearchCtrl").val(e),$(".MSLAppRadioSortCtrl").text(a||"Genres").css("background-image",a?"url('"+f(a)+"')":"none")}},select:function(c,a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}b.select(c,!0,a)}}}();MSLAppManager.register("radio",MSLAppRadio,!0)
var MSLAppRadioListen=function(){var i=null,c,f,g,d,a,e,h,l,k,o,b;function m(){a=$("#underlay > video"),e=$("#underlay > video > source"),h=$("#underlay > div#videoBackground"),l=$("body").css("background-image"),k=e.attr("src"),o=a.attr("poster"),$("body").css("background-image","url('../images/bg-wavestream.png')"),a.attr("poster","../images/bg-wavestream.png"),e.attr("src","../images/bg-wavestream.webm"),a[0].load(),a[0].play(),h.hide()}function n(){$("body > section").css("display","none"),$("section#MSLAppRadioListen").fadeIn(),MSLAppRadioListen.displayUI(!0)}function r(){$("section#MSLAppRadioListen").css("display","none"),h.show(),$("body").css("background-image",l),a.attr("poster",o),e.attr("src",k),a[0].load(),a[0].play()}function p(){f=!1,c=null,d=null,b=$("#MSLAppRadioListen #radioplayer"),i=setTimeout(function(){MSLAppRadioListen.displayUI(!1)},3e3),$("body").on("mousemove",function(a){MSLAppRadioListen.displayUI(!0),clearTimeout(i),i=setTimeout(function(){MSLAppRadioListen.displayUI(!1)},3e3)})}function q(a){"undefined"!=typeof a.ID&&(c=a.ID),"undefined"!=typeof a.stream&&(d=a.stream)}function j(a,e){a="undefined"!=typeof a?a:{},e="undefined"!=typeof e&&e,e,c="undefined"!=typeof a.ID?a.ID:null,d="undefined"!=typeof a.stream?a.stream:null,f=!0,m();const h=function(a){var d,f,e;b.jPlayer("destroy");let c=Cookies.get("appRadioVolume");c===void 0&&(c=.8),d=Math.log(1),f=Math.log(100),e=(f-d)/99,b.jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:a.Name,mp3:a.URL}).jPlayer("play")},swfPath:"js",supplied:"mp3",solution:MSLGlobals.HasFlash?"flash":"html",volume:Math.exp(d+e*(c-1))/100}),$("#MSLAppRadioListen .slider").slider({range:"min",value:c,min:0,max:100,slide:function(f,a){var c=0;a.value&&(c=Math.exp(d+e*(a.value-1))),b.jPlayer("volume",c/100),Cookies.set("appRadioVolume",a.value,{expires:90})}}),$("#MSLAppRadioListen #station").text(a.Name),MSLAppRadioListen.applySongInfo(a.Artist,a.Album,a.Song,a.AlbumArt),g=setInterval(MSLAppRadioListen.getSongInfo,15e3)};c?$.ajax({method:"GET",url:"json/radioStationInfo.php?id="+encodeURIComponent(c),cache:!1}).done(function(a,b){b!="success"&&(a="[]"),h(JSON.parse(a))}):d&&h({Name:"Custom Radio Stream",URL:d,Artist:"",Album:"",Song:"",AlbumArt:null}),n()}function s(){f||j(),m(),n()}function t(){b&&b.jPlayer("destroy"),g&&clearInterval(g),r()}return{init:p,preload:q,load:j,open:s,close:t,applySongInfo:function(b,c,a,d){b=b!=null&&"undefined"!=typeof b&&b.length?b:"",c=c!=null&&"undefined"!=typeof c&&c.length?c:"",a=a!=null&&"undefined"!=typeof a&&a.length?a:"",d=d!=null&&"undefined"!=typeof d&&a.length?d:null,a.length>=32&&(a=a.substr(0,31)+"..."),$("#MSLAppRadioListen #artist").text(b),$("#MSLAppRadioListen #album").text(c),$("#MSLAppRadioListen #song").text(a),d?$("#MSLAppRadioListen #art").css("background-image","url('"+d+"')"):$("#MSLAppRadioListen #art").css("background-image","url('../images/apps/altai/radio_missing.png')")},getSongInfo:function(){$.ajax({method:"GET",url:"json/radioStationInfo.php?id="+encodeURIComponent(c),cache:!1}).done(function(b,c){c!="success"&&(b="[]");var a=JSON.parse(b);MSLAppRadioListen.applySongInfo(a.Artist,a.Album,a.Song,a.AlbumArt)})},setVolume:function(a){b.jPlayer("volume",a),$("#MSLAppRadioListen .slider").slider({value:a*100})},displayUI:function(a){a?$("#MSLAppRadioListen .uiOnMouseActivity").finish().css("display","block"):$("#MSLAppRadioListen .uiOnMouseActivity").fadeOut(800)}}}();MSLAppManager.register("radioListen",MSLAppRadioListen,!0)
var MSLAppAltai=function(){var j=null,e,c,a,b;function f(){$("#underlay > #videoBackground").css("backgroundColor","#744321"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function d(c,d){if(d="undefined"==typeof d||d,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&d){MSLGlobals.Audio.play("denied");return}if(b.children().hide(),c=="ALBUM_ADD_STEP_1"){b.children(".albumAddStep1").show(),$("#MSLAppAltaiInAlbumURL").val(""),$("#MSLAppAltaiInAlbumURLError").text(MSLGlobals.isOwner?"":"Sorry, only TV owners may add an album.");return}if(c=="ALBUM_ADD_STEP_2"){b.children(".albumAddStep2").show(),$("#MSLAppAltaiInAlbumName").val(""),$("#MSLAppAltaiAddAlbumPreview").empty(),$("#MSLAppAltaiInAlbumNameError").empty();return}if(c=="ALBUM_DELETE"){b.children(".albumDelete").show(),$("#MSLAppAltaiAlbumDeleteError").removeClass("ok").text("");return}if(c=="ALBUM_REFRESH"){b.children(".albumRefresh").show(),$("#MSLAppAltaiAlbumRefreshError").removeClass("ok").text("");return}if(a.itemCount()){b.children(".albumList").show();return}b.children(".albumListEmpty").show()}function h(){$("body > section").css("display","none"),$("section#MSLAppAltai").fadeIn();var a=$("#MSLAppAltai > header > div.navBack");a.addClass("disabled"),d(null,!1)}function m(){$("section#MSLAppAltai").css("display","none")}function l(){e=!1,c=0,j=new MSLHistory($("section#MSLAppAltai")),b=$("#MSLAppAltai > main"),$(".MSLAppAltaiAddAlbum").click(function(a){MSLAppAltai.showPage("ALBUM_ADD_STEP_1",!1)}),$("#MSLAppAltaiInAlbumURL").on("input propertychange paste",function(h){var a=document.createElement("a"),e=$(this).val(),b,c,d,f,g;if(e.substr(0,4)!="http"&&(e="http://"+e),a.href=e,a.hostname=="imgur.com"){if(b=a.pathname.split("/"),-1!=(c=b.indexOf("a"))&&"undefined"!=typeof b[c+1]&&b[c+1].length>=1){$("#MSLAppAltaiInAlbumURLError").addClass("ok").text("Imgur recognized, press SUBMIT to add this album.");return}$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text("Imgur recognized, but wrong album URL format. ( Example: http://imgur.com/a/9GmL3 )");return}if(a.hostname=="www.flickr.com"){if(b=a.pathname.split("/").filter(Boolean),b.length>=4&&!isNaN(b[b.length-1])){$("#MSLAppAltaiInAlbumURLError").addClass("ok").text("Flickr recognized, press SUBMIT to add this album.");return}$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text("Flickr recognized, but wrong album URL format. ( Example: https://www.flickr.com/photos/flickr/galleries/72157675668930140 )");return}if(a.hostname=="drive.google.com"){d=!1,f=a.search.substr(1),f=f.split("&");for(c=0;c<f.length;c++)if(g=f[0].split("="),g[0]=="id"){d=!0;break}d||(d=a.pathname.indexOf("drive/folders/")!=-1),d?$("#MSLAppAltaiInAlbumURLError").addClass("ok").text("Google Drive recognized, press SUBMIT to add this album."):$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text("Google Drive recognized, but wrong album URL format. ( Example: https://drive.google.com/open?id=0BaREOsNGVRYBbeA7d2tSqFhTRms )")}else a.hostname=="www.dropbox.com"&&(d=e.indexOf("dl=0")>=0,d?$("#MSLAppAltaiInAlbumURLError").addClass("ok").text("DropBox recognized, press SUBMIT to add this album. This may take a couple of seconds."):$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text("DropBox recognized, but wrong album URL format. ( Example: https://www.dropbox.com/sh/0BaREOsNGVRYBbe/AAD-GPCB_VRYBbeA7d2tSqFhT?dl=0 )"))}),$("#MSLAppAltai #cancel").click(function(a){MSLAppAltai.showPage(null,!1)}),$("#MSLAppAltai .albumAddStep1 #submit").click(function(a){$("#MSLAppAltaiInAlbumURLError").addClass("ok").text("Getting album images."),$.ajax({method:"POST",url:"json/altaiCreateNewAlbum.php",data:{uuid:MSLGlobals.uuid,url:encodeURIComponent($("#MSLAppAltaiInAlbumURL").val())}}).done(function(a){var g,b,d,c,e,f;if(a=JSON.parse(a),a.status==200){$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text(""),$("#MSLAppAltaiInAlbumID").val(a.data.album),g=$("#MSLAppAltaiAddAlbumPreview"),d=a.data.images.length;for(b=0;b<d&&b<4;b++)c=$(document.createElement("div")),c.css("background-image","url('"+a.data.images[b]+"')"),g.append(c);b<d&&(e=$(document.createElement("div")),e.addClass("overlay"),e.text("+"+(d-b)),c.append(e)),MSLAppAltai.showPage("ALBUM_ADD_STEP_2",!1)}else{switch(f="Unknown error ("+a.status+")",a.status){case 401:f="Only the owner may add images";break;case 406:f="Album does not exist";break}$("#MSLAppAltaiInAlbumURLError").removeClass("ok").text(f)}})}),$("#MSLAppAltai .albumAddStep2 #submit").click(function(a){$("#MSLAppAltaiInAlbumNameError").addClass("ok").text("Saving album."),$.ajax({method:"POST",url:"json/altaiEditAlbumName.php",data:{uuid:MSLGlobals.uuid,album:$("#MSLAppAltaiInAlbumID").val(),name:encodeURIComponent($("#MSLAppAltaiInAlbumName").val())}}).done(function(a){a=JSON.parse(a),a.status==204?($("#MSLAppAltaiInAlbumNameError").addClass("ok").text("Album has been added!"),MSLAppManager.load("altai")):$("#MSLAppAltaiInAlbumNameError").removeClass("ok").text("Couldn't save album: did you enter a valid name?")})}),$("#MSLAppAltai .albumDelete #submit").click(function(a){$("#MSLAppAltaiAlbumDeleteError").addClass("ok").text("Deleting album."),$.ajax({method:"POST",url:"json/altaiDeleteAlbum.php",data:{uuid:MSLGlobals.uuid,album:$("#MSLAppAltaiDeleteAlbumID").val()}}).done(function(a){a=JSON.parse(a),a.status==204?($("#MSLAppAltaiAlbumDeleteError").addClass("ok").text("Album has been deleted."),MSLAppManager.load("altai")):$("#MSLAppAltaiAlbumDeleteError").removeClass("ok").text("An error occured while attempting to delete the album.")})}),$("#MSLAppAltai .albumRefresh #submit").click(function(a){$("#MSLAppAltaiAlbumRefreshError").addClass("ok").text("Refreshing album."),$.ajax({method:"POST",url:"json/altaiRefreshAlbum.php",data:{uuid:MSLGlobals.uuid,album:$("#MSLAppAltaiRefreshAlbumID").val()}}).done(function(a){a=JSON.parse(a),a.status==200?($("#MSLAppAltaiAlbumRefreshError").addClass("ok").text("Album has been refreshed."),MSLAppManager.load("altai")):$("#MSLAppAltaiAlbumRefreshError").removeClass("ok").text("An error occured while attempting to refresh the album.")})}),a=new RailMenu($("#MSLAppAltai #albums"),{attributes:["albumid","albumname"]}),a.settings.onSelect=function(a,b){return b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ALTAI_SELECT,value:a.$DOM.attr("id")}),!0},a.settings.onClick=function(a,b){MSLAppManager.load("altaiIndex",{ID:a.albumid,Name:a.albumname},b)},$("input.MSLAppAltaiSearchCtrl").keypress(function(a){if(a.which==13)return MSLAppAltai.search($("input.MSLAppAltaiSearchCtrl").val()),!1}),$("button.MSLAppAltaiSearchCtrl").click(function(a){return MSLAppAltai.search($("input.MSLAppAltaiSearchCtrl").val()),!1})}function k(b){b="undefined"!=typeof b?b:0,a.clear(),$.ajax({method:"GET",url:"json/altaiFetchAlbums.php?uuid="+MSLGlobals.uuid}).done(function(c){var e,g,f,h,i,j,k,l,m,n;if(c=JSON.parse(c),c.status==200){for(e=0;e<c.data.albumCount;e++)g=$(document.createElement("li")),g.attr("albumid",c.data.albums[e].ID),g.attr("albumname",c.data.albums[e].Name),f=$(document.createElement("div")),f.addClass("options"),MSLGlobals.isOwner&&(h=$(document.createElement("div")),h.addClass("refresh"),h.attr("albumid",c.data.albums[e].ID),h.attr("onclick","$('#MSLAppAltaiRefreshAlbumID').val( $(this).attr( 'albumid' ) ); MSLAppAltai.showPage( 'ALBUM_REFRESH', false ); event.stopPropagation(); return false;"),f.append(h),i=$(document.createElement("div")),i.addClass("delete"),i.attr("albumid",c.data.albums[e].ID),i.attr("onclick","$('#MSLAppAltaiDeleteAlbumID').val( $(this).attr( 'albumid' ) ); MSLAppAltai.showPage( 'ALBUM_DELETE', false ); event.stopPropagation(); return false;"),f.append(i)),c.data.albums[e].PictureCount>0&&(j=$(document.createElement("div")),j.addClass("pictureCount"),j.text(c.data.albums[e].PictureCount),f.append(j)),c.data.albums[e].VideoCount>0&&(k=$(document.createElement("div")),k.addClass("videoCount"),k.text(c.data.albums[e].VideoCount),f.append(k)),c.data.albums[e].SongCount>0&&(l=$(document.createElement("div")),l.addClass("songCount"),l.text(c.data.albums[e].SongCount),f.append(l)),g.append(f),m=$(document.createElement("div")),m.addClass("album"),m.text(c.data.albums[e].Name),g.append(m),n=$(document.createElement("div")),n.addClass("service"),n.text(c.data.albums[e].Service),g.append(n),a.addItem(g);a.present(b),d(null,!1)}})}function g(b){"undefined"!=typeof b.selected&&(c=b.selected),"undefined"!=typeof b.search&&(a.search(b.search),$("input.MSLAppAltaiSearchCtrl").val(b.search))}function i(a,b){a="undefined"!=typeof a?a:{},b="undefined"!=typeof b&&b,e=!0,f(),g(a,!0),k(c),c=0,h()}function n(){e||i(),f(),h()}function o(){m()}return{init:l,preload:g,load:i,open:n,close:o,showPage:d,back:function(){},search:function(c,b){if(b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ALTAI_SEARCH,query:c}),j.add(c),a.search(c),a.present(),$("input.MSLAppAltaiSearchCtrl").val(c)},select:function(c,b){if(b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}a.select(c,!0,b)}}}();MSLAppManager.register("altai",MSLAppAltai,!0)
var MSLAppAltaiIndex=function(){var h=!1,a=new SimpleGalleryPages("MSLAppAltaiIndex","AltaiAlbumContent",OPCODE_ALTAI_VIEW,4,3),b=null,d="";function k(b){a.clear(),$.ajax({method:"GET",url:"json/altaiShowAlbum.php?uuid="+MSLGlobals.uuid+"&album="+b,cache:!0}).done(function(c){var d,e,h,i,g,f;if(c=JSON.parse(c),c.status==200){for(d=0;d<c.data.pictureCount;d++)e=$(document.createElement("div")),e.addClass("picture"),e.attr("index",d),e.css("background-image","url('"+c.data.pictures[d].thumbnail+"')"),h=-1!=c.data.pictures[d].mimeType.indexOf("video"),i=-1!=c.data.pictures[d].mimeType.indexOf("audio"),h&&(g=$(document.createElement("div")),g.addClass("video"),e.append(g)),e.click(function(){MSLAppManager.load("altaiView",{albumID:parseInt(b),index:parseInt($(this).attr("index")),autoplay:!1})}),e.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),c.data.pictures[d].thumbnail.charAt(0)=="/"&&(f=$(document.createElement("p")),c.data.pictures[d].name.length<42?f.text(c.data.pictures[d].name):f.text(c.data.pictures[d].name.substr(0,42)+" ..."),e.append(f)),a.add(e);a.goToPage(1)}})}function f(){$("#underlay > #videoBackground").css("backgroundColor","#744321")}function g(){$("#MSLAppAltaiIndexTitle").text(d),$("body > section").css("display","none"),$("section#MSLAppAltaiIndex").fadeIn()}function j(){$("section#MSLAppAltaiIndex").css("display","none")}function i(){$("#MSLAppAltaiIndex #pageControlPrev").click(function(){a.prevPage()}),$("#MSLAppAltaiIndex #pageControlNext").click(function(){a.nextPage()}),$("#MSLAppAltaiIndex .MSLAppAltaiPlaySlideshow").click(function(){MSLAppManager.load("altaiView",{albumID:parseInt(b),index:0,autoplay:!0})})}function c(a){"undefined"!=typeof a.ID&&(b=a.ID),"undefined"!=typeof a.albumID&&(b=a.albumID),"undefined"!=typeof a.Name&&(d=a.Name)}function e(a,d){a="undefined"!=typeof a?a:{},d="undefined"!=typeof d&&d,h=!0,f(),c(a,!0),k(b),g()}function l(){h||e(),f(),g()}function m(){j()}return{init:i,preload:c,load:e,open:l,close:m,back:function(){},page:a.goToPage}}();MSLAppManager.register("altaiIndex",MSLAppAltaiIndex,!0)
class SongInfo{constructor(c,b){let a=b.indexOf(".",-4);if(this.$ctx=c,this.ticker=null,this.artist=null,this.song=null,this.dj=null,this.infoCount=1,a!=-1?(this.fullName=b.substr(0,a),this.ext=b.substr(a,1)):(this.fullName=b,this.ext=null),a=this.fullName.indexOf(" - "),a!=-1?(this.artist=this.fullName.substr(0,a),this.song=this.fullName.substr(a+3),this.infoCount=2):(a=this.fullName.indexOf("-"),a!=-1&&(this.artist=this.fullName.substr(0,a),this.song=this.fullName.substr(a+1),this.infoCount=2)),this.song!=null){if(a=this.song.indexOf("("),a!=-1){let b=this.song.indexOf(")",a);b!=-1&&(this.dj=this.song.substr(a+1,b-(a+1)),this.song=this.song.substr(0,a),this.infoCount=3)}}}Render(){const a=$(document.createElement("p")),b=$(document.createElement("p")),c=$(document.createElement("p"));switch(this.infoCount){case 1:a.addClass("fullname"),a.text(this.fullName),this.$ctx.append(a);break;case 2:a.addClass("artist"),b.addClass("song"),a.text(this.artist),b.text(this.song),this.$ctx.append(a),this.$ctx.append(b);break;case 3:a.addClass("artist"),b.addClass("song"),c.addClass("dj"),a.text(this.artist),b.text(this.song),c.text(this.dj),this.$ctx.append(a),this.$ctx.append(b),this.$ctx.append(c);break}}}var MSLAppAltaiView=function(){var A=!1,x=null,u=0,i=!1,a=new Array,c=0,g=null,d=null,o=null,b,I,f,k,j,l,p,q,r;function E(){a=new Array,$.ajax({method:"GET",url:"json/altaiShowAlbum.php?uuid="+MSLGlobals.uuid+"&album="+x,cache:!0}).done(function(b){if(b=JSON.parse(b),b.status==200)for(var c=0;c<b.data.pictureCount;c++)a.push({url:b.data.pictures[c].source,mimeType:b.data.pictures[c].mimeType,name:b.data.pictures[c].name});MSLAppAltaiView.loadImage(u,!1)})}function t(b){return b<0?a.length-2-b:b%a.length}function h(b){if(b=t(b),a[b].mimeType.indexOf("video")!=-1||a[b].mimeType.indexOf("audio")!=-1)return;var c=new Image;c.src=a[b].url}function v(b,c){const a=$("#AltaiError"),d=$("#AltaiPlayer");a.find("h1").first().text(b),a.find("p").first().text(c),d.hide(0),a.show(1)}function B(){$("#AltaiError").hide(),$("#AltaiPlayer").show()}function e(f,l,n){var w,m,q,p,u,s,r,j,k;if($("#altaiSongInfo").remove(),B(),w=f<c?-1:f>c?1:0,l="undefined"==typeof l||l,n="undefined"!=typeof n?n:300,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&l){MSLGlobals.Audio.play("denied");return}if(f=t(f),c=f,l&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ALTAI_VIEW,value:f}),m=$(document.createElement("div")),g.append(m),q=a[f].mimeType.indexOf("video")!=-1,p=a[f].mimeType.indexOf("audio")!=-1,u=!q&&!p,a[f].mimeType=="video/avi"){v("VIDEO FORMAT NOT SUPPORTED","This file type (.avi) is not supported by SecondLife media. Compatible options are mp4, webm and ogg.");return}if(q||p){switch(b[0].play(),s=$(o[0]),m.append(s),r=s.find("#videoplayerAltai"),r.jPlayer("destroy"),j="m4v",k={m4v:a[f].url},a[f].mimeType){case"video/webm":j="webmv",k={webmv:a[f].url};break;case"video/ogg":j="ogv",k={ogv:a[f].url};break;case"audio/mpeg":j="mp3",k={mp3:a[f].url};break;case"audio/m4a":j="m4a",k={m4a:a[f].url};break;case"audio/wav":j="wav",k={wav:a[f].url};break;case"audio/flac":j="flac",k={flac:a[f].url};break}i&&clearInterval(d),r.jPlayer({ready:function(a,b,c,d){const e=$(this);$(this).jPlayer("setMedia",k),$("#altaiSongInfo").remove()},play:function(){if($("#MSLAppAltaiView #messageLoading").css("display","none"),p){var b=$(document.createElement("div"));b.attr("id","altaiSongInfo"),b.css("display","block"),b.hide();const c=new SongInfo(b,a[f].name);c.Render(),$("#MSLAppAltaiView > main").append(b),b.fadeIn(2500)}},ended:function(){$("#altaiSongInfo").fadeOut(500),i&&(d=setInterval(function(){e(c+1,!1,800)},9e3),e(c+1,!1,800))},canplay:function(){$(this).jPlayer("play")},abort:function(a,b){},error:function(a,c){v("Media could not be played","Your download quota on the host may have been exceeded."),$("#AltaiPlayerControls").show(),b[0].play(),b.show()},size:{width:1024,height:576},preload:"auto",swfPath:"js",supplied:j,solution:"html",volume:.4,timeFormat:{showHour:!0},autohide:{restored:!0,hold:3e3}}),$("#AltaiPlayerControls").hide()}else m.css("background-image","url('"+a[f].url+"')"),$("#AltaiPlayerControls").show();switch(q||u?(b[0].pause(),b.hide()):(b[0].play(),b.show()),m.fadeIn(n,function(){g.children().length>1&&g.children().first().remove()}),w){case-1:h(f-1);break;case 1:h(f+1);break;case 0:h(f-1),h(f+1);break}}function y(){e(c+1,!0)}function z(){e(c-1,!0)}function m(){$("#underlay > #videoBackground").css("background-color","#000000"),b=$("#underlay > video"),j=$("#underlay > video > source"),l=$("#underlay > div#videoBackground"),p=$("body").css("background-image"),q=j.attr("src"),r=b.attr("poster"),$("body").css("background-image","url('../images/bg-wavestream.png')"),b.attr("poster","../images/bg-wavestream.png"),j.attr("src","../images/bg-wavestream.webm"),b[0].load(),b[0].play(),l.hide()}function w(){$("body > section").css("display","none"),$("section#MSLAppAltaiView").fadeIn()}function C(){$("section#MSLAppAltaiView").css("display","none"),l.show(),$("body").css("background-image",p),b.attr("poster",r),j.attr("src",q),b[0].load(),b[0].play(),b.show()}function D(){g=$("#AltaiPlayer"),$("#AltaiPlayerControls .prev").click(function(){z()}),$("#AltaiPlayerControls .next").click(function(){y()}),f=$("section#MSLAppAltaiView > main > div.fullscreenOverlay"),k=f.children().first(),$(window).blur(function(){f.css("opacity",0)}),$(window).on("mouseout",function(){f.css("opacity",0)}),o=$.parseHTML('<div id="jp_container_1" class="jp-video"><div class="jp-type-single"><div id="videoplayerAltai"></div><div class="jp-container jp-gui"><div class="jp-video-play"> <a href="javascript:;" class="jp-video-play-icon" tabindex="1">play</a> </div><div class="jp-interface"><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-seek-display"><div class="jp-play-bar"></div></div></div></div><div class="jp-controls-holder"><div class="p33"><div class="jp-ctrl jp-play"></div><div class="jp-ctrl jp-pause"></div></div><div class="p34"><p class="centered"><span class="jp-current-time"></span> / <span class="jp-duration"></span></p></div><div class="p33 last"><div class="jp-volume-bar"><div class="jp-volume-bar-value"></div></div></div></div></div></div><div class="jp-no-solution"><div id="MessageNoFlash" class="errorMessage textContainer fullpage flexvalign"><header><h1 class="warning">Flash Player seems to be missing</h1></header><main><p>The video you are trying to watch relies on <strong>Flash Player for Opera and Chromium (PPAPI)</strong>. Navigate to the link below on any of your browsers to download and install it. After installation, you need to restart your SecondLife viewer. For more information, you can visit the Troubleshooting section in the Settings App.</p><p class="centered"><span class="url">http://get.adobe.com/flashplayer/otherversions/</span></p></main></div></div><div id="messageLoading"><div><div><h1>Loading video...</h1></div></div></div></div></div>')}function s(a){"undefined"!=typeof a.albumID&&(x=parseInt(a.albumID)),"undefined"!=typeof a.index&&(u=parseInt(a.index)),"undefined"!=typeof a.autoplay&&(i=!!+a.autoplay)}function n(a,b){a="undefined"!=typeof a?a:{},b="undefined"!=typeof b&&b,A=!0,m(),s(a,!0),E(),i&&(clearInterval(d),d=setInterval(function(){e(c+1,!1,800)},9e3)),w()}function F(){A||n(),m(),w()}function G(){C(),d&&(clearInterval(d),d=null),g.children().remove()}function H(h,d){var e=512,g=288,b=40,c=Math.abs(h-e)-k.width()/2,a=Math.abs(d-g)-k.height()/2;c<=0&&a<=0?f.css("opacity",1):(c=1-c.clamp(0,b)/b,a=1-a.clamp(0,b)/b,f.css("opacity",Math.min(c,a)))}return{init:D,preload:s,load:n,open:F,close:G,nextImage:y,prevImage:z,onMouseMove:H,back:function(){},loadImage:e}}();MSLAppManager.register("altaiView",MSLAppAltaiView,!0)
var MSLAppYoutube=function(){var k=new ActionLimiter(3,30),i=null,d=new Array,b=new Array,f="",e=0,r=3,c=0,G=new Array,a,g,o;function B(){if(d.length){var a=d[d.length-1];if(a.search==f&&a.category==e)return}d.push({search:f,category:e}),m()}function E(){$.ajax({method:"GET",url:"data/youtubeCategories.json"}).done(function(c){for(var d=c.length,a=0;a<d;a++)b.push(c[a]);b.push({id:0,title:"None"})})}function F(d,e,f){d="undefined"==typeof d?"":d,e="undefined"==typeof e?0:parseInt(e),f="undefined"==typeof f?0:f,$.ajax({method:"GET",url:"json/youtubeSearchFavs.php?uuid="+MSLGlobals.uuid+"&q="+encodeURIComponent(d),cache:!1}).done(function(l){var f,m,i,j,e,B,D,g,A,w,p,v,t,C,k,r,o,x,y,z,u,q,h,s,E;if(l=JSON.parse(l),l.status==200){f=l.data.videos,m=l.data.count,i=$("section#MSLAppYoutube > main > div.videoResults"),i.empty(),a=1,c=0;for(e=0;e<m+1;e++){if(B=Math.floor(e/8),D=e%4,e%8==0&&(c++,j=$(document.createElement("div")),j.attr("id","page-"+B),j.addClass("page"),B>0&&j.css("display","none"),i.append(j)),e==0){g=$(document.createElement("div")),A=$(document.createElement("h1")),w=$(document.createElement("div")),p=$(document.createElement("div")),v=$(document.createElement("p")),t=$(document.createElement("p")),g.addClass("playall").addClass("videoResult"),w.addClass("image"),p.addClass("stats"),t.addClass("small"),C=d.length?d:"Favorites",A.text("Play all"),v.html("&quot;"+C+"&quot;"),t.text(m+" Videos"),g.bind("click",{videoList:f,videoListLength:m},function(c){for(var a=new Array,b=0;b<m;b++)f[b].id.length<30&&a.push(f[b].id);a=a.join(","),MSLAppManager.load("youtubeWatch",{videoID:a})}),p.append(v),p.append(t),g.append(A),g.append(w),g.append(p),j.append(g);continue}g=$(document.createElement("div")),k=$(document.createElement("div")),r=$(document.createElement("div")),o=$(document.createElement("div")),x=$(document.createElement("p")),y=$(document.createElement("p")),z=$(document.createElement("p")),o.append(y),o.append(z),r.append(x),g.append(k),g.append(r),g.append(o),g.addClass("youtubeVideoResult"),g.addClass("videoResult"),r.addClass("title"),o.addClass("statistics"),k.css("background-image","url("+f[e-1].thumbnail+")"),k.addClass("thumbnail"),y.text(f[e-1].channel),z.text(f[e-1].published),f[e-1].title=f[e-1].title.replace(/(&#39;)/g,"'"),f[e-1].title.length>95&&(f[e-1].title=f[e-1].title.substr(0,88),u=f[e-1].title.lastIndexOf(" "),u!=-1?f[e-1].title=f[e-1].title.substr(0,u)+" [...]":f[e-1].title=f[e-1].title+" [...]"),x.text(f[e-1].title),f[e-1].id.length>30?(q=$(document.createElement("div")),q.addClass("thumbnailTextOverlay"),q.text("Playlist"),g.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),k.append(q),g.attr("onclick","MSLAppManager.load( 'youtubeWatch', {playlistID: '"+f[e-1].id+"'});")):g.bind("click",{videoID:f[e-1].id},function(a){MSLAppManager.load("youtubeWatch",{videoID:a.data.videoID})}),MSLGlobals.isOwner&&(h=$(document.createElement("div")),h.addClass("fav").addClass("on"),s=$(document.createElement("div")),s.addClass("icon"),h.bind("click",{videoID:f[e-1].id},function(a){return $this=$(this),a.data.videoID.length<30?$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,videoID:a.data.videoID,forceRemove:!0},function(a,b){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$this.addClass("on"):$this.removeClass("on"))}):$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,playlistID:a.data.videoID,forceRemove:!0},function(a,b){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$this.addClass("on"):$this.removeClass("on"))}),a.stopPropagation(),!1}),s.append(h),k.append(s)),D==3&&g.addClass("lastInRow"),j.append(g),n(),$("#MSLAppYoutube #currentPageNum").text(a),$("#MSLAppYoutube #totalPageNum").text(c)}i=$("section#MSLAppYoutube > main > ul.categoryResults"),E=b.length,h=$(document.createElement("li")),h.addClass("fav"),h.text("My Favorites"),h.click(function(){MSLAppYoutube.category(-1)}),i.empty(),i.append(h),$cat=$(document.createElement("li")),$cat.text("All"),$cat.attr("onclick","MSLAppYoutube.category(0)"),i.append($cat);for(e=0;e<E;e++){if($cat=$(document.createElement("li")),b[e].id==0)continue;$cat.text(b[e].title),$cat.attr("onclick","MSLAppYoutube.category("+b[e].id+")"),i.append($cat)}MSLAppYoutube.page(0)}})}function h(g,d,h,i){if(g="undefined"==typeof g?"":g,d="undefined"==typeof d?0:parseInt(d),h="undefined"==typeof h?1:h,i="undefined"==typeof i?0:i,f=g,e=d,r=h,B(),d==-1){F(g,d,i);return}$("#MSLAppYoutubeSearchTypeCtrl").attr("value",h),$.ajax({method:"GET",url:"json/youtubeSearch.php?q="+encodeURIComponent(g)+"&c="+d+"&t="+h+"&uuid="+MSLGlobals.uuid,cache:!1}).done(function(x){var j=JSON.parse(x),e=new Array,p=new Array,h=$("section#MSLAppYoutube > main > div.videoResults"),z,B,m,d,t,y,g,l,r,o,u,v,w,s,q,f,k,A;if(h.empty(),"undefined"!=typeof j.error&&j.error=="QUOTA_EXCEEDED"){$error=$(document.createElement("div")),$error.addClass("errorMessage"),$error.html("<p>YouTube's API is currently overloaded, please try again later.</p><p>You may still enter a video's URL in the search bar above to watch through this applet. Alternatively, you may use the Web Browser from the main menu to manually head over to YouTube's website.</p><p>Apologies for the inconveniences as we look towards resolving YouTube's latest limitations.</p>"),h.append($error);return}typeof j.results=="undefined"?j.length&&(e=j):(e=j.results,p=j.favorites),z=e.length,B=p.length,a=1,c=0;for(d=0;d<z;d++)t=Math.floor(d/8),y=d%4,d%8==0&&(c++,m=$(document.createElement("div")),m.attr("id","page-"+t),m.addClass("page"),t>0&&m.css("display","none"),h.append(m)),g=$(document.createElement("div")),l=$(document.createElement("div")),r=$(document.createElement("div")),o=$(document.createElement("div")),u=$(document.createElement("p")),v=$(document.createElement("p")),w=$(document.createElement("p")),o.append(v),o.append(w),r.append(u),g.append(l),g.append(r),g.append(o),g.addClass("youtubeVideoResult"),g.addClass("videoResult"),r.addClass("title"),o.addClass("statistics"),l.css("background-image","url("+e[d].thumbnail+")"),l.addClass("thumbnail"),v.text(e[d].channel),w.text(e[d].published),e[d].title=e[d].title.replace(/(&#39;)/g,"'"),e[d].title.length>95&&(e[d].title=e[d].title.substr(0,88),s=e[d].title.lastIndexOf(" "),s!=-1?e[d].title=e[d].title.substr(0,s)+" [...]":e[d].title=e[d].title+" [...]"),u.text(e[d].title),e[d].type=="playlist"?(q=$(document.createElement("div")),q.addClass("thumbnailTextOverlay"),q.text("Playlist"),g.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),l.append(q),MSLGlobals.isOwner&&(f=$(document.createElement("div")),f.addClass("fav"),void 0!=p.find(function(a){return a==e[d].id})&&f.addClass("on"),k=$(document.createElement("div")),k.addClass("icon"),f.bind("click",{videoID:e[d].id,thumbnail:e[d].thumbnail,title:e[d].title,channel:e[d].channel,published:e[d].publishedRaw},function(a){return $this=$(this),$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,playlistID:a.data.videoID,thumbnail:a.data.thumbnail,title:a.data.title,channel:a.data.channel,published:a.data.published},function(a,b){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$this.addClass("on"):$this.removeClass("on"))}),a.stopPropagation(),!1}),k.append(f),l.append(k)),g.attr("onclick","MSLAppManager.load( 'youtubeWatch', {playlistID: '"+e[d].id+"'});")):(g.bind("click",{videoID:e[d].id},function(a){MSLAppManager.load("youtubeWatch",{videoID:a.data.videoID})}),g.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),MSLGlobals.isOwner&&(f=$(document.createElement("div")),f.addClass("fav"),void 0!=p.find(function(a){return a==e[d].id})&&f.addClass("on"),k=$(document.createElement("div")),k.addClass("icon"),f.bind("click",{videoID:e[d].id,thumbnail:e[d].thumbnail,title:e[d].title,channel:e[d].channel,published:e[d].publishedRaw},function(a){return $this=$(this),$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,videoID:a.data.videoID,thumbnail:a.data.thumbnail,title:a.data.title,channel:a.data.channel,published:a.data.published},function(a,b){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$this.addClass("on"):$this.removeClass("on"))}),a.stopPropagation(),!1}),k.append(f),l.append(k))),y==3&&g.addClass("lastInRow"),m.append(g),n(),$("#MSLAppYoutube #currentPageNum").text(a),$("#MSLAppYoutube #totalPageNum").text(c);h=$("section#MSLAppYoutube > main > ul.categoryResults"),A=b.length,f=$(document.createElement("li")),f.addClass("fav"),f.text("My Favorites"),f.click(function(){MSLAppYoutube.category(-1)}),h.empty(),h.append(f),$cat=$(document.createElement("li")),$cat.text("All"),$cat.attr("onclick","MSLAppYoutube.category(0)"),h.append($cat);for(d=0;d<A;d++){if($cat=$(document.createElement("li")),b[d].id==0)continue;$cat.text(b[d].title),$cat.attr("onclick","MSLAppYoutube.category("+b[d].id+")"),h.append($cat)}MSLAppYoutube.page(i)})}function n(){a==c?$("#MSLAppYoutube #pageControlNext").removeClass("active"):$("#MSLAppYoutube #pageControlNext").addClass("active"),a==1?$("#MSLAppYoutube #pageControlPrev").removeClass("active"):$("#MSLAppYoutube #pageControlPrev").addClass("active")}function m(){var a=$("#MSLAppYoutube > header > div.navBack");d.length>1?(a.removeClass("disabled"),a.css("cursor","pointer")):(a.addClass("disabled"),a.css("cursor","auto"))}function l(b,d){b="undefined"!=typeof b?b:1,d="undefined"==typeof d||d,b<1&&(b=1),b>c&&(b=c),d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_PAGE,value:b}),a=b,n(),$("#MSLAppYoutube .page").css("display","none"),$("#MSLAppYoutube #page-"+(b-1)).fadeIn(),$("#MSLAppYoutube #currentPageNum").text(b)}function y(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(++a>c){a--;return}MSLGlobals.Audio.play("select"),l(a)}function x(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(--a<1){a++;return}MSLGlobals.Audio.play("select"),l(a)}function w(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}if(d.length<=1)return;MSLGlobals.Audio.play("back"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_BACK}),d.pop();var b=d.pop();h(b.search,b.category,b.type),$("#MSLAppYoutubeSearchInputCtrl").val(f),$("#MSLAppYoutubeSearchTypeCtrl").val(r),j(e),m()}function q(){$("#underlay > #videoBackground").css("backgroundColor","#960000"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function u(){$("body > section").css("display","none"),$("section#MSLAppYoutube").fadeIn()}function v(){i.Hide(),$("section#MSLAppYoutube").css("display","none")}function z(){o=!1,g=null,i=new ActionMessage($("#MSLAppYoutubeSearchInputCtrl"),function(b){const c=k.getCurrentTimestamp(),d=k.getTimeEarliestExpire(),a=d-c;a<0?i.Hide():a>1?b.find("#ttl").text(a+" seconds"):b.find("#ttl").text("1 second")},1e3),E(),$("#MSLAppYoutube #pageControlPrev").click(function(){x()}),$("#MSLAppYoutube #pageControlNext").click(function(){y()}),$("#MSLAppYoutubeSearchInputCtrl").keypress(function(a){if(a.which==13)return MSLGlobals.Audio.play("button"),MSLAppYoutube.search($("#MSLAppYoutubeSearchInputCtrl").val(),$("#MSLAppYoutubeSearchTypeCtrl").attr("value")),!1}),$("#MSLAppYoutubeSearchButtonCtrl").click(function(a){return MSLGlobals.Audio.play("button"),MSLAppYoutube.search($("#MSLAppYoutubeSearchInputCtrl").val(),$("#MSLAppYoutubeSearchTypeCtrl").attr("value")),!1}),$("#MSLAppYoutubeSearchTypeCtrl").click(function(b){const a=$(this);a.attr("value")==1?a.attr("value","2"):a.attr("value","1")})}function t(a){"undefined"!=typeof a.page&&(g=a.page),"undefined"!=typeof a.search&&(f=a.search),"undefined"!=typeof a.category&&(e=a.category),"undefined"!=typeof a.history&&(d=a.history)}function s(a,i){var b,d,k;a="undefined"!=typeof a?a:{},i="undefined"!=typeof i&&i,i&&(a.search="undefined"!=typeof a.search?a.search:"",a.category="undefined"!=typeof a.category?a.category:0,a.type="undefined"!=typeof a.type?a.type:1),o=!0,q(),t(a,!0),b="undefined"!=typeof a.search&&a.search,d="undefined"!=typeof a.category&&a.category,k="undefined"!=typeof a.type?a.type:1,c==0?(b=b!==!1?b:f,d=d!==!1?d:e,h(b,d,k,g),g=null):(b!==!1||d!==!1)&&(b=b!==!1?b:"",d=d!==!1?d:0,h(b,d,k,g),g=null),$("#MSLAppYoutubeSearchInputCtrl").val(f),j(e),m(),u()}function C(){o||s(),q(),u()}function D(){v()}function j(a){if(a=+a||0,a==-1){$("#MSLAppYoutube > header > div.categories").text("Favorites");return}if(a==0){$("#MSLAppYoutube > header > div.categories").text("Favorites & Categories");return}for(var c=b.length;c--;){if(b[c].id!=a)continue;$("#MSLAppYoutube > header > div.categories").text(b[c].title);break}}function A(){MSLGlobals.Audio.play("button"),$("section#MSLAppYoutube > header > div.navButton").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppYoutube > header > div.appLogo").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppYoutube > header > div.search").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppYoutube > main > div.videoResults").css("display","none"),$("section#MSLAppYoutube > footer > div.pageControls").css("display","none")}function p(){MSLGlobals.Audio.play("button"),$("section#MSLAppYoutube > header > div.navButton").css("opacity","1").css("pointer-events",""),$("section#MSLAppYoutube > header > div.appLogo").css("opacity","1").css("pointer-events",""),$("section#MSLAppYoutube > header > div.search").css("opacity","1").css("pointer-events",""),$("section#MSLAppYoutube > main > div.videoResults").css("display","block"),$("section#MSLAppYoutube > footer > div.pageControls").css("display","block"),$("section#MSLAppYoutube > main > ul.categoryResults").css("display","none")}return{init:z,preload:t,load:s,open:C,close:D,page:l,back:w,search:function(a,b,c){var f,d,m,j,g,l;if(a="undefined"!=typeof a?a:"",b="undefined"!=typeof b?b:1,c="undefined"==typeof c||c,a=a.trim(),!MSLGlobals.isOwner&&MSLGlobals.isLocked&&c){MSLGlobals.Audio.play("denied");return}if(f=null,d=document.createElement("a"),d.href=a,d.hostname.substr(0,7)=="youtube"||d.hostname.substr(0,11)=="www.youtube"){m=d.search.substr(1),j=m.split("&");for(g=0;g<j.length;g++)if(l=j[g].split("="),l[0]=="v"){f=l[1];break}}f?(MSLAppManager.load("youtubeWatch",{videoID:f}),$("#MSLAppYoutubeSearchInputCtrl").val(""),$("#MSLAppYoutubeSearchTypeCtrl").attr("value",1)):k.add()?(c&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_SEARCH,query:a,type:b}),h(a,e,b),$("#MSLAppYoutubeSearchInputCtrl").val(a),$("#MSLAppYoutubeSearchTypeCtrl").attr("value",b)):i.Show('You have attempted too many searches in a short period of time! <strong>Please wait <span id="ttl">30 seconds</span></strong> before attempting your next search.'),p()},category:function(a,b){if(a="undefined"!=typeof a?a:0,b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_CATEGORY,category:a}),h(f,a,1),$("#MSLAppYoutube > main > ul.categoryResults").hide(),p(),j(a)},categoryButtonCallback:function(){$("section#MSLAppYoutube > main > ul.categoryResults").css("display")=="none"?p():(A(),$("section#MSLAppYoutube > main > ul.categoryResults").css("display","flex"))}}}();MSLAppManager.register("youtube",MSLAppYoutube,!0)
var MSLAppYoutubeChannel=function(){var b=new Array,d="",c=0,e,a,f,v,w,j;function p(){if(b.length){var a=b[b.length-1];if(a.search==d)return}b.push({search:d}),i()}function g(b,e){b="undefined"==typeof b?"":b,e="undefined"==typeof e?0:e,d=b,p(),$.ajax({method:"GET",url:"json/youtubeChannelSearch.php?q="+encodeURIComponent(b)+"&id="+encodeURIComponent(f),cache:!1}).done(function(h){var p,d,z,y,i,b,s,A,g,j,q,k,r,t,u,x,o,n,m;if(h=JSON.parse(h),h.status!=200){console.log("Failed to retrieve channel data.");return}if(v=h.data.channelId,w=h.data.channelTitle,p=$("section#MSLAppYoutubeChannel > header > div.categories"),p.text(h.data.channelTitle),h.data.channelTitle.length>20?p.css("font-size","16px"):p.css("font-size",""),"undefined"==typeof h.data.results||h.data.results.length==0){console.log("Channel has no videos.");return}d=h.data.results,z=d.length,y=$("section#MSLAppYoutubeChannel > main > div.videoResults"),y.empty(),a=1,c=0;for(b=0;b<z;b++)s=Math.floor(b/8),A=b%4,b%8==0&&(c++,i=$(document.createElement("div")),i.attr("id","page-"+s),i.addClass("page"),s>0&&i.css("display","none"),y.append(i)),g=$(document.createElement("div")),j=$(document.createElement("div")),q=$(document.createElement("div")),k=$(document.createElement("div")),r=$(document.createElement("p")),t=$(document.createElement("p")),u=$(document.createElement("p")),k.append(t),k.append(u),q.append(r),g.append(j),g.append(q),g.append(k),g.addClass("youtubeVideoResult"),g.addClass("videoResult"),q.addClass("title"),k.addClass("statistics"),j.css("background-image","url("+d[b].thumbnail+")"),j.addClass("thumbnail"),t.text(d[b].channel),u.text(d[b].published),d[b].title=d[b].title.replace(/(&#39;)/g,"'"),d[b].title.length>95&&(d[b].title=d[b].title.substr(0,88),x=d[b].title.lastIndexOf(" "),x!=-1?d[b].title=d[b].title.substr(0,x)+" [...]":d[b].title=d[b].title+" [...]"),r.text(d[b].title),d[b].type=="playlist"?(o=$(document.createElement("div")),o.addClass("thumbnailTextOverlay"),o.text("Playlist"),j.append(o),g.attr("onclick","MSLAppManager.load( 'youtubeWatch', {playlistID: '"+d[b].id+"', backOverride: 'youtubeChannel', overrideVar: 'videoID', overrideVal: '"+f+"'});")):(g.bind("click",{videoID:d[b].id},function(a){MSLAppManager.load("youtubeWatch",{videoID:a.data.videoID,backOverride:"youtubeChannel",overrideVar:"videoID",overrideVal:f})}),g.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),MSLGlobals.isOwner&&(n=$(document.createElement("div")),n.addClass("fav"),m=$(document.createElement("div")),m.addClass("icon"),n.bind("click",{videoID:d[b].id,thumbnail:d[b].thumbnail,title:d[b].title,channel:d[b].channel,published:d[b].publishedRaw},function(a){return $this=$(this),$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,videoID:a.data.videoID,thumbnail:a.data.thumbnail,title:a.data.title,channel:a.data.channel,published:a.data.published},function(a,b){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$this.addClass("on"):$this.removeClass("on"))}),a.stopPropagation(),!1}),m.append(n),j.append(m))),A==3&&g.addClass("lastInRow"),i.append(g),l(),$("#MSLAppYoutubeChannel #currentPageNum").text(a),$("#MSLAppYoutubeChannel #totalPageNum").text(c);MSLAppYoutubeChannel.page(e)})}function l(){a==c?$("#MSLAppYoutubeChannel #pageControlNext").removeClass("active"):$("#MSLAppYoutubeChannel #pageControlNext").addClass("active"),a==1?$("#MSLAppYoutubeChannel #pageControlPrev").removeClass("active"):$("#MSLAppYoutubeChannel #pageControlPrev").addClass("active")}function i(){var a=$("#MSLAppYoutubeChannel > header > div.navBack");b.length>1?(a.removeClass("disabled"),a.css("cursor","pointer")):(a.addClass("disabled"),a.css("cursor","auto"))}function h(b,d){b="undefined"!=typeof b?b:1,d="undefined"==typeof d||d,b<1&&(b=1),b>c&&(b=c),d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_CHANNEL_PAGE,value:b}),a=b,l(),$("#MSLAppYoutubeChannel .page").css("display","none"),$("#MSLAppYoutubeChannel #page-"+(b-1)).fadeIn(),$("#MSLAppYoutubeChannel #currentPageNum").text(b)}function s(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(++a>c){a--;return}MSLGlobals.Audio.play("select"),h(a)}function r(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(--a<1){a++;return}MSLGlobals.Audio.play("select"),h(a)}function q(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}if(b.length<=1)return;MSLGlobals.Audio.play("back"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_CHANNEL_BACK}),b.pop();var c=b.pop();g(c.search),$("input.MSLAppYoutubeChannelSearchCtrl").val(d),i()}function k(){$("#underlay > #videoBackground").css("backgroundColor","#960000"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function o(){$("body > section").css("display","none"),$("section#MSLAppYoutubeChannel").fadeIn()}function t(){$("section#MSLAppYoutubeChannel").css("display","none")}function u(){j=!1,e=null,$("#MSLAppYoutubeChannel #pageControlPrev").click(function(){r()}),$("#MSLAppYoutubeChannel #pageControlNext").click(function(){s()}),$("input.MSLAppYoutubeChannelSearchCtrl").keypress(function(a){if(a.which==13)return MSLGlobals.Audio.play("button"),MSLAppYoutubeChannel.search($("input.MSLAppYoutubeChannelSearchCtrl").val()),!1}),$("button.MSLAppYoutubeChannelSearchCtrl").click(function(a){return MSLGlobals.Audio.play("button"),MSLAppYoutubeChannel.search($("input.MSLAppYoutubeChannelSearchCtrl").val()),!1})}function n(a){"undefined"!=typeof a.page&&(e=a.page),"undefined"!=typeof a.search&&(d=a.search),"undefined"!=typeof a.history&&(b=a.history)}function m(a,h){a="undefined"!=typeof a?a:{},h="undefined"!=typeof h&&h,h&&(a.search="undefined"!=typeof a.search?a.search:""),j=!0,k(),n(a,!0);var b="undefined"!=typeof a.search&&a.search;"undefined"!=typeof a.videoID&&(f!=a.videoID&&(c=0),f=a.videoID),c==0?(b=b!==!1?b:d,g(b,e),e=null):b!==!1&&(b=b!==!1?b:"",g(b,e),e=null),$("input.MSLAppYoutubeSearchCtrl").val(d),i(),o()}function x(){j||m(),k(),o()}function y(){t()}return{init:u,preload:n,load:m,open:x,close:y,page:h,back:q,search:function(a,b){if(a="undefined"!=typeof a?a:"",b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_CHANNEL_SEARCH,query:a}),g(a),$("input.MSLAppYoutubeChannelSearchCtrl").val(a)}}}();MSLAppManager.register("youtubeChannel",MSLAppYoutubeChannel,!0)
var MSLAppYoutubeWatch=function(){var i=null,j=null,m=null,l,I,b,o,f,g,d,k,h,a,c,e;function p(){$("#underlay > #videoBackground").css("backgroundColor","#960000")}function q(){$("body > section").css("display","none"),$("section#MSLAppYoutubeWatch").fadeIn(),$("meta[name='referrer'").attr("content","always")}function s(){$("meta[name='referrer'").attr("content","no-referrer"),$("section#MSLAppYoutubeWatch").css("display","none")}function t(){l=!1,c=null,e=null,o=-1,f=!1,g=!0,b={firstVideo:!0,unstarted:!1,ended:!1,playing:!1,paused:!1,buffering:!1,cued:!1,qualityChanged:!1,bypassCallback:!1},d=$("section#MSLAppYoutubeWatch > main > div.fullscreenOverlay"),k=d.children().first(),h=$("section#MSLAppYoutubeWatch > main > div.hideRelatedVideos"),$("section#MSLAppYoutubeWatch > main > div.preventPlayerHoverPopups").on("mouseout",function(){d.css("opacity",0)}),$(window).blur(function(){d.css("opacity",0)}),$(window).on("mouseout",function(){d.css("opacity",0)})}function r(a){"undefined"!=typeof a.videoID&&(c=a.videoID),"undefined"!=typeof a.playlistID&&(e=a.playlistID),"undefined"!=typeof a.infiniteLoopSingleVideo&&(f=a.infiniteLoopSingleVideo)}function n(k,t){var z,n,v,x,s,w,u,A;if(k="undefined"!=typeof k?k:{},t="undefined"!=typeof t&&t,t,"undefined"!=typeof k.backOverride?(i=k.backOverride,j=k.overrideVar,m=k.overrideVal):(i=null,j=null,m=null),l=!0,p(),q(),$("#MSLAppYoutubeWatch .loop").removeClass("on"),z=e,c=null,e=null,r(k),z&&c&&a&&(a.destroy(),a=null),a)c?(isPlaylist=c.indexOf(",")!=-1,isPlaylist?(a.loadPlaylist({playlist:c}),$("div.qm > div.videoOnlyCtrl").css("display","none"),$("div.qm > div.playlistOnlyCtrl").css("display","block")):(a.loadVideoById(c,0,"hd720"),$("div.qm > div.videoOnlyCtrl").css("display","block"),$("div.qm > div.playlistOnlyCtrl").css("display","none"))):e&&(a.loadPlaylist({list:e,listType:"playlist"}),$("div.qm > div.videoOnlyCtrl").css("display","none"),$("div.qm > div.playlistOnlyCtrl").css("display","block"));else{n={width:"1024",height:"576",suggestedQuality:"hd720",playerVars:{iv_load_policy:3,fs:0,showinfo:0,controls:1,disablekb:0,rel:0,enablejsapi:1,origin:"https://"+MSLGlobals.Domain},events:{onReady:function(a){y(!0),a.target.playVideo()},onStateChange:function(c){if(c.data==YT.PlayerState.BUFFERING&&($("#youtubePlayerWarning").css("display","none"),$("#ytVideoDirectLink").attr("href","#")),h.css("display","none"),b.firstVideo&&c.data==YT.PlayerState.PLAYING){o=a.getPlaylistIndex(),b.firstVideo=!1;return}switch(c.data){case YT.PlayerState.UNSTARTED:b.unstarted=!0;break;case YT.PlayerState.ENDED:b.ended=!0;break;case YT.PlayerState.PLAYING:b.playing=!0;break;case YT.PlayerState.PAUSED:b.paused=!0;break;case YT.PlayerState.BUFFERING:b.buffering=!0;break;case YT.PlayerState.CUED:b.cued=!0;break}c.data==YT.PlayerState.ENDED&&f&&g?a.playVideo():c.data==YT.PlayerState.ENDED&&(h.css("display","block"),d.css("opacity",1))},onPlaybackQualityChange:function(a){b.qualityChanged=!0},onError:function(a){(a.data==101||a.data==150)&&($("#youtubePlayerWarning").css("display","block"),$("#youtubePlayerTitle").text(a.target.playerInfo.videoData.title),$("#ytVideoDirectLink").attr("href","https://www.youtube.com/watch?v="+a.target.i.i.videoId))}}},c?(isPlaylist=c.indexOf(",")!=-1,isPlaylist?(v=c.split(","),n.videoId=v.shift(),n.playerVars.playlist=v.join(","),g=!1,$("div.qm > div.videoOnlyCtrl").css("display","none"),$("div.qm > div.playlistOnlyCtrl").css("display","block")):(n.videoId=c,g=!0,$("div.qm > div.videoOnlyCtrl").css("display","block"),$("div.qm > div.playlistOnlyCtrl").css("display","none"))):e&&(n.playerVars.listType="playlist",n.playerVars.list=e,g=!1,$("div.qm > div.videoOnlyCtrl").css("display","none"),$("div.qm > div.playlistOnlyCtrl").css("display","block")),x=$("#MSLAppYoutubeWatch div.qm"),s=new Array,x.children().each(function(){$(this).css("display")!="none"&&s.push($(this))}),w=Math.ceil(s.length/4);for(u=1;u<w;++u)A=Math.floor(s.length/w)*u,s[A].addClass("break");$("#youtubePlayerLoading").show(0),callbackWhenYoutubeIsReady(function(){$("#youtubePlayerLoading").hide(0),a=new YT.Player("youtubeplayer",n),$("#youtubeplayer").attr("src",$("#youtubeplayer").attr("src").replace("&origin="+encodeURIComponent("https://"+MSLGlobals.Domain),""))})}}function v(){l||n(),p(),q()}function w(){a&&a.stopVideo(),s()}function x(){if(i==null)MSLAppManager.load('youtube');else{var a={};a[j]=m,MSLAppManager.load(i,a)}}function y(a){b.firstVideo="undefined"!=typeof a&&a,b.unstarted=!1,b.ended=!1,b.playing=!1,b.paused=!1,b.buffering=!1,b.cued=!1,b.qualityChanged=!1,b.bypassCallback=!1}function z(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}var b=a.getVideoData().video_id;window.location="https://www.youtube.com/watch?v="+b}function A(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}MSLAppManager.load("youtubeChannel",{videoID:a.getVideoData().video_id})}function B(b){$.post("json/youtubeFavourite.php",{uuid:MSLGlobals.uuid,videoID:a.getVideoData().video_id,thumbnail:null,title:null,channel:null,published:null},function(a,c){a=JSON.parse(a),a.status==200&&(a.data.newStatus?$(b).addClass("on"):$(b).removeClass("on"))})}function H(){a.previousVideo()}function G(){a.nextVideo()}function E(i,g){var e,f,b,c,a;if(h.css("display")=="block")return d.css("opacity",1),!0;e=512,f=288,b=40,c=Math.abs(i-e)-k.width()/2,a=Math.abs(g-f)-k.height()/2,c<=0&&a<=0?d.css("opacity",1):(c=1-c.clamp(0,b)/b,a=1-a.clamp(0,b)/b,d.css("opacity",Math.min(c,a)))}function D(c){if(c="undefined"==typeof c||c,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&c){MSLGlobals.Audio.play("denied");return}c&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_NEXT}),a&&(b.bypassCallback=!0,a.nextVideo())}function C(c){if(c="undefined"==typeof c||c,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&c){MSLGlobals.Audio.play("denied");return}c&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_PREV}),a&&(b.bypassCallback=!0,a.previousVideo())}function u(c){if(c="undefined"==typeof c||c,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&c){MSLGlobals.Audio.play("denied");return}c&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_REPLAY}),a&&(b.bypassCallback=!0,a.pauseVideo(),a.seekTo(0,!0),a.playVideo())}function F(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}var b=$("#MSLAppYoutubeWatch .loop");a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_YOUTUBE_LOOP}),f?(b.removeClass("on"),f=!1):(b.addClass("on"),f=!0)}return{init:t,preload:r,load:n,open:v,close:w,back:x,openExternal:z,openChannel:A,favorite:B,onMouseMove:E,onNext:D,onPrev:C,onReplay:u,onLoop:F}}();MSLAppManager.register("youtubeWatch",MSLAppYoutubeWatch,!0)
var MSLAppTwitch=function(){var e=null,D=new Array,C="",a=0,b=0,B=8,A=6,z=!1,E=0,m="https://api.twitch.tv/helix/streams",y="https://api.twitch.tv/helix/streams",q="https://api.twitch.tv/helix/streams",w="https://api.twitch.tv/helix/games",d=m,j,c,g;function h(){e.add({url:d,searchQuery:c});var f=d.indexOf("?")!=-1?"&":"?";$.ajax({url:d+f+"first=47",cache:!1,jsonp:"callback",dataType:"json",headers:{"Client-ID":"pkw88geycwcizxu9ypyczzgmr9gxguh",Authorization:"Bearer rxaj1nrb0zvls0yjyuonogot3uz4br"},success:function(j){var i=$("section#MSLAppTwitch > main > div.videoResults"),f,e,l,c,h,d,g;i.empty(),a=1,b=0,e=j.data,l=null,c=new Array,h=new Array;for(d=0;d<e.length;d++)g=e[d].thumbnail_url,g=g.replace("{width}","222"),g=g.replace("{height}","124"),e[d].viewer_count>=1e3&&(e[d].viewer_count=Math.round(e[d].viewer_count/1e3)+"k"),c.push({id:e[d].user_name,thumbnail:g,game:e[d].game_id,viewers:e[d].viewer_count,name:e[d].title}),h.push(e[d].game_id);$.ajax({url:w+"?id="+h.join("&id="),cache:!1,jsonp:"callback",dataType:"json",headers:{"Client-ID":"pkw88geycwcizxu9ypyczzgmr9gxguh",Authorization:"Bearer rxaj1nrb0zvls0yjyuonogot3uz4br"},success:function(t){for(var s=t.data,d=0,o,r,e,h,l,g,p,j,n,q,m;d<c.length;++d)o=Math.floor(d/8),r=d%4,d%8==0&&(b++,f=$(document.createElement("div")),f.attr("id","page-"+o),f.addClass("page"),o>0&&f.css("display","none"),i.append(f)),e=$(document.createElement("div")),h=$(document.createElement("img")),l=$(document.createElement("div")),g=$(document.createElement("div")),p=$(document.createElement("p")),j=$(document.createElement("p")),n=$(document.createElement("p")),g.append(j),g.append(n),l.append(p),e.append(h),e.append(l),e.append(g),e.addClass("twitchVideoResult"),e.addClass("videoResult"),l.addClass("title"),g.addClass("statistics"),h.attr("src",c[d].thumbnail),h.addClass("unselectable"),n.text(c[d].viewers+" viewers"),c[d].name=c[d].name.replace(/(&#39;)/g,"'"),c[d].name.length>95&&(c[d].name=c[d].name.substr(0,88),q=c[d].name.lastIndexOf(" "),q!=-1?c[d].name=c[d].name.substr(0,q)+" [...]":c[d].name=c[d].name+" [...]"),p.text(c[d].name),m=s.find(function(a){return a.id==this},c[d].game),"undefined"!=typeof m?j.text(m.name):j.text(""),e.attr("onclick","MSLAppManager.load( 'twitchWatch', {videoID: '"+c[d].id+"'});"),e.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),r==3&&e.addClass("lastInRow"),f.append(e);k(),$("#MSLAppTwitch #currentPageNum").text(a),$("#MSLAppTwitch #totalPageNum").text(b)}})}})}function k(){a==b?$("#MSLAppTwitch #pageControlNext").removeClass("active"):$("#MSLAppTwitch #pageControlNext").addClass("active"),a==1?$("#MSLAppTwitch #pageControlPrev").removeClass("active"):$("#MSLAppTwitch #pageControlPrev").addClass("active")}function f(c,d){c="undefined"!=typeof c?c:1,d="undefined"==typeof d||d,MSLGlobals.Audio.play("select"),c<1&&(c=1),c>b&&(c=b),d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_TWITCH_PAGE,value:c}),a=c,k(),$("#MSLAppTwitch .page").css("display","none"),$("#MSLAppTwitch #page-"+(c-1)).fadeIn(),$("#MSLAppTwitch #currentPageNum").text(c)}function u(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(++a>b){a--;return}f(a)}function v(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(--a<1){a++;return}f(a)}function p(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}var b=e.back();if(b===null)return;MSLGlobals.Audio.play("back"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_TWITCH_BACK}),query=b.searchQuery,c=b.searchQuery,d=b.url,h(),$("input.MSLAppTwitchSearchCtrl").val(c||"")}function n(){$("#underlay > #videoBackground").css("backgroundColor","#7F5ACB"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function l(){$("body > section").css("display","none"),$("section#MSLAppTwitch").fadeIn()}function r(){$("section#MSLAppTwitch").css("display","none")}function s(){g=!1,j=null,$("#MSLAppTwitch #pageControlPrev").click(function(){v()}),$("#MSLAppTwitch #pageControlNext").click(function(){u()}),$("input.MSLAppTwitchSearchCtrl").keypress(function(a){if(a.which==13)return MSLGlobals.Audio.play("button"),MSLAppTwitch.search($("input.MSLAppTwitchSearchCtrl").val()),!1}),$("button.MSLAppTwitchSearchCtrl").click(function(a){return MSLGlobals.Audio.play("button"),MSLAppTwitch.search($("input.MSLAppTwitchSearchCtrl").val()),!1})}function o(a){"undefined"!=typeof a.page&&(j=a.page),"undefined"!=typeof a.search&&(c=a.search)}function i(f,i){f="undefined"!=typeof f?f:{},i="undefined"!=typeof i&&i,i&&(f.search="undefined"!=typeof f.search?f.search:""),g=!0,o(f,!0);var a="undefined"!=typeof f.search&&f.search;d=a!==!1&&a.length?q+"?channel="+a:m,!b||i?(e=new MSLHistory($("section#MSLAppTwitch")),c=a,h(),$("input.MSLAppTwitchSearchCtrl").val(a||"")):a!==!1&&a!=c&&(c=a,h(),$("input.MSLAppTwitchSearchCtrl").val(a||"")),n(),l()}function t(){g||i(),n(),l()}function x(){r()}return{init:s,preload:o,load:i,open:t,close:x,page:f,back:p,search:function(a,b){if(a="undefined"!=typeof a?a:"",b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}MSLAppManager.load("twitchWatch",{videoID:a})}}}();MSLAppManager.register("twitch",MSLAppTwitch,!0)
var MSLAppTwitchWatch=function(){var c,a,i,d,b,e;function g(){$("#underlay > #videoBackground").css("backgroundColor","#7F5ACB")}function h(){$("body > section").css("display","none"),$("section#MSLAppTwitchWatch").fadeIn()}function k(){$("section#MSLAppTwitchWatch").css("display","none")}function p(){return navigator.plugins!=null&&navigator.plugins.length>0&&"undefined"!=typeof navigator.plugins["Shockwave Flash"]}function l(){a=null,d=!1,i=null,c=$("#twitchplayer"),b=$("section#MSLAppTwitchWatch > main > div.fullscreenOverlay"),e=b.children().first(),$(window).blur(function(){b.css("opacity",0)}),$(window).on("mouseout",function(){b.css("opacity",0)})}function f(a){"undefined"!=typeof a.videoID&&(i=a.videoID)}function j(b,e){b="undefined"!=typeof b?b:{},e="undefined"!=typeof e&&e,d=!0,g(),f(b);var i="undefined"!=typeof b.videoID?b.videoID:"";a=$(document.createElement("iframe")),a.attr("src","https://player.twitch.tv/?channel="+i+"&parent="+MSLGlobals.Domain),a.css("width","1024px"),a.css("height","576px"),a.css("border","none"),c.empty(),c.append(a),h()}function n(){d||j(),g(),h()}function m(){a&&(a.remove(),c.empty()),k()}function o(i,f){var g=512,h=288,c=40,d=Math.abs(i-g)-e.width()/2,a=Math.abs(f-h)-e.height()/2;d<=0&&a<=0?b.css("opacity",1):(d=1-d.clamp(0,c)/c,a=1-a.clamp(0,c)/c,b.css("opacity",Math.min(d,a)))}return{init:l,preload:f,load:j,open:n,close:m,onMouseMove:o}}();MSLAppManager.register("twitchWatch",MSLAppTwitchWatch,!0)
var MSLAppAdult=function(){var c=new Array,g=new Array,d="",e=0,b=0,f,a,l,o;function x(){if(c.length){var a=c[c.length-1];if(a.search==d&&a.category==e)return}c.push({search:d,category:e}),k()}function A(){$.ajax({method:"GET",url:"data/adultCategories.json"}).done(function(b){for(var d=b.length,a=0,c;a<d;a++)g.push(b[a]),c=$(document.createElement("li")),c.attr("id",b[a]),c.text(b[a]),c.on("click",function(){MSLAppAdult.category($(this).attr("id"))}),o.add(c);g.push({id:0,title:"None"})})}function h(f,c,g){f="undefined"==typeof f?"":f,c="undefined"==typeof c?"":c,g="undefined"==typeof g?null:g,c=="none"&&(c=""),d=f,e=c,x(),$.ajax({method:"GET",url:"json/adultSearch.php?q="+encodeURIComponent(f)+"&t="+c,cache:!1}).done(function(u,v){var e,p,k,f,c,n,t,d,i,l,m,h,o,q,r,j;if(v!="success"&&(u="[]"),e=JSON.parse(u),p=e.length,k=$("section#MSLAppAdult > main > div.videoResults"),k.empty(),a=1,b=0,p!=0)for(c=0;c<p;c++){n=Math.floor(c/8),t=c%4,c%8==0&&(b++,f=$(document.createElement("div")),f.attr("id","page-"+n),f.addClass("page"),n>0&&f.css("display","none"),k.append(f)),d=$(document.createElement("div")),i=$(document.createElement("div")),l=$(document.createElement("img")),m=$(document.createElement("div")),h=$(document.createElement("div")),o=$(document.createElement("p")),q=$(document.createElement("p")),r=$(document.createElement("p")),h.append(q),h.append(r),m.append(o),i.addClass("imgSlideshow"),i.append(l),d.append(i),d.append(m),d.append(h),d.addClass("youtubeVideoResult"),d.addClass("videoResult"),m.addClass("title"),h.addClass("statistics"),o.text(e[c].title),q.text(e[c].views+" views"),r.text(e[c].published),l.attr("src",e[c].thumbnail),l.addClass("unselectable"),j=0;for(j=0;j<e[c].thumbSequences;j++)i.append($document.createElement("img").addClass("unselectable").attr("src",e[c].thumbSequences[j]));d.attr("onclick","MSLAppManager.load( 'adultWatch', {videoID: '"+e[c].id+"'});"),d.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),t==3&&d.addClass("lastInRow"),f.append(d),s(),$("#MSLAppAdult > footer #currentPageNum").text(a),$("#MSLAppAdult > footer #totalPageNum").text(b)}else{const a=$(document.createElement("div"));a.addClass("criticalAppError");const b=$(document.createElement("div")),c=$(document.createElement("h1"));c.text("RedTube API is down :(");const d=$(document.createElement("p"));d.text("This should only be temporary. We do not know for how long. Please try again later. In the mean time, you can probably still visit RedTube through the Browser App (www.redtube.com)."),b.append(c),b.append(d),a.append(b),k.append(a)}g!==null&&MSLAppAdult.page(g)})}function s(){a==b?$("#MSLAppAdult #pageControlNext").removeClass("active"):$("#MSLAppAdult #pageControlNext").addClass("active"),a==1?$("#MSLAppAdult #pageControlPrev").removeClass("active"):$("#MSLAppAdult #pageControlPrev").addClass("active")}function k(){var a=$("#MSLAppAdult > header > div.navBack");c.length>1?(a.removeClass("disabled"),a.css("cursor","pointer")):(a.addClass("disabled"),a.css("cursor","auto"))}function j(c,d){c="undefined"!=typeof c?c:1,d="undefined"==typeof d||d,MSLGlobals.Audio.play("select"),c<1&&(c=1),c>b&&(c=b),d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ADULT_PAGE,value:c}),a=c,s(),$("#MSLAppAdult .page").css("display","none"),$("#MSLAppAdult #page-"+(c-1)).fadeIn(),$("#MSLAppAdult > footer #currentPageNum").text(c)}function w(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(++a>b){a--;return}j(a)}function u(){if(!MSLGlobals.isOwner&&MSLGlobals.isLocked){MSLGlobals.Audio.play("denied");return}if(--a<1){a++;return}j(a)}function t(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}if(c.length<=1)return;MSLGlobals.Audio.play("back"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ADULT_BACK}),c.pop();var b=c.pop();h(b.search,b.category),$("input.MSLAppAdultSearchCtrl").val(d),i(e),k()}function n(){$("#underlay > #videoBackground").css("backgroundColor","#000000"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function r(){$("section#MSLAppAdult > main").css("display","none"),$("section#MSLAppAdult > main#main").css("display",""),$("section#MSLAppAdult > footer > .pageControls").css("display",""),$("body > section").css("display","none"),$("section#MSLAppAdult").fadeIn()}function C(){$("section#MSLAppAdult").css("display","none")}function v(){l=!1,f=null,A(),o=new MSLPaginator($("#MSLAppAdult > main#categories > div.tagResults"),{$controls:$("#MSLAppAdult > main#categories > .pageControls"),resultsPerPage:48,rows:1,pageContainerType:"ul",pageContainerClass:"tags"}),$("#MSLAppAdult > footer #pageControlPrev").click(function(){u()}),$("#MSLAppAdult > footer #pageControlNext").click(function(){w()}),$("input.MSLAppAdultSearchCtrl").keypress(function(a){if(a.which==13)return MSLAppAdult.search($("input.MSLAppAdultSearchCtrl").val()),!1}),$("button.MSLAppAdultSearchCtrl").click(function(a){return MSLAppAdult.search($("input.MSLAppAdultSearchCtrl").val()),!1}),$("section#MSLAppAdult > header > div.categories").on("click",MSLAppAdult.categoryButtonCallback)}function q(a){"undefined"!=typeof a.page&&(f=a.page),"undefined"!=typeof a.search&&(d=a.search),"undefined"!=typeof a.category&&(e=a.category)}function p(a,j){var c,g;a="undefined"!=typeof a?a:{},j="undefined"!=typeof j&&j,j&&(a.search="undefined"!=typeof a.search?a.search:"",a.category="undefined"!=typeof a.category?a.category:0),l=!0,n(),q(a,!0),c="undefined"!=typeof a.search&&a.search,g="undefined"!=typeof a.category&&a.category,b==0?(c=c!==!1?c:d,g=g!==!1?g:e,h(c,g,f),f=null):(c!==!1||g!==!1)&&(c=c!==!1?c:"",g=g!==!1?g:0,h(c,g,f),f=null),c||(c=""),$("input.MSLAppAdultSearchCtrl").val(d),i(e),k(),r()}function y(){l||p(),n(),r()}function z(){C()}function i(a){if(!a||a=="none"){$("#MSLAppAdult > header > div.categories").text("Categories");return}for(var b=g.length;b--;){if(g[b]!=a)continue;$("#MSLAppAdult > header > div.categories").text(g[b]);break}}function B(){MSLGlobals.Audio.play("button"),$("section#MSLAppAdult > header > div.navButton").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppAdult > header > div.appLogo").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppAdult > header > div.search").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppAdult > main#main").css("display","none"),$("section#MSLAppAdult > footer > div.pageControls").css("display","none"),$("section#MSLAppAdult > main#categories").css("display","block")}function m(){MSLGlobals.Audio.play("button"),$("section#MSLAppAdult > header > div.navButton").css("opacity","1").css("pointer-events",""),$("section#MSLAppAdult > header > div.appLogo").css("opacity","1").css("pointer-events",""),$("section#MSLAppAdult > header > div.search").css("opacity","1").css("pointer-events",""),$("section#MSLAppAdult > main#main").css("display","block"),$("section#MSLAppAdult > footer > div.pageControls").css("display","block"),$("section#MSLAppAdult > main#categories").css("display","none")}return{init:v,preload:q,load:p,open:y,close:z,page:j,back:t,search:function(a,b){if(a="undefined"!=typeof a?a:"",b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}MSLGlobals.Audio.play("button"),b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ADULT_SEARCH,query:a}),h(a,e),$("input.MSLAppAdultSearchCtrl").val(a),m()},category:function(a,b){if(a="undefined"!=typeof a?a:0,b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_ADULT_CATEGORY,category:a}),h(d,a),$("#MSLAppAdult > main > ul.categoryResults").hide(),m(),i(a)},categoryButtonCallback:function(){$("section#MSLAppAdult > main#main").css("display")=="none"?m():B()}}}();MSLAppManager.register("adult",MSLAppAdult,!0)
var MSLAppAdultWatch=function(){var o,a,f,c,b,d;function g(){$("#underlay > #videoBackground").css("backgroundColor","#000000"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function h(){$("body > section").css("display","none"),$("section#MSLAppAdultWatch").fadeIn()}function l(){$("section#MSLAppAdultWatch").css("display","none")}function k(){a=null,c=!1,f=null,b=$("section#MSLAppAdultWatch > main > div.fullscreenOverlay"),d=b.children().first(),a=$("#MSLAppAdultWatch #videoplayerAdult"),$(window).blur(function(){b.css("opacity",0)}),$(window).on("mouseout",function(){b.css("opacity",0)})}function e(a){"undefined"!=typeof a.videoID&&(f=a.videoID)}function i(b,d){b="undefined"!=typeof b?b:{},d="undefined"!=typeof d&&d,d,c=!0,g(),e(b);var f="undefined"!=typeof b.videoID?b.videoID:"";a.jPlayer("destroy"),$.ajax({method:"GET",url:"json/adultFetchSource.php?id="+f,cache:!1}).done(function(c){var b=JSON.parse(c);b.length>0&&(b=b[0]),a.jPlayer({ready:function(){$(this).jPlayer("setMedia",{title:"Redtube",m4v:b}).jPlayer("play")},play:function(){$("#MSLAppAdultWatch #messageLoading").css("display","none")},size:{width:1024,height:576},preload:"auto",swfPath:"js",supplied:"m4v, ogv",solution:MSLGlobals.HasFlash?"flash":"html",volume:1,timeFormat:{showHour:!0},autohide:{restored:!0,hold:3e3}})}),h()}function m(){c||i(),g(),h()}function n(){a&&a.jPlayer("destroy"),l()}function j(i,f){var g=512,h=288,c=40,e=Math.abs(i-g)-d.width()/2,a=Math.abs(f-h)-d.height()/2;e<=0&&a<=0?b.css("opacity",1):(e=1-e.clamp(0,c)/c,a=1-a.clamp(0,c)/c,b.css("opacity",Math.min(e,a)))}return{init:k,preload:e,load:i,open:m,close:n,onMouseMove:j}}();MSLAppManager.register("adultWatch",MSLAppAdultWatch,!0)
var MSLAppHHaven=function(){var j,a,c,h,f,i,d,e,g,l,b;function p(){$("#underlay > #videoBackground").css("backgroundColor","#323232"),$("#underlay > #videoBackground").css("mix-blend-mode","overlay")}function m(){$("body > section").css("display","none"),$("section#MSLAppHHaven > main").css("display","none"),$("section#MSLAppHHaven > main#main").css("display",""),$("section#MSLAppHHaven").fadeIn()}function t(){$("section#MSLAppHHaven").css("display","none")}function s(){var a,d;const e=function(b,a){if(b)new Promise((c,d)=>{const a=new Image;a.addEventListener("load",function(){c(a)}),a.addEventListener("error",function(){d()}),a.src=b}).then(function(d){var c=$(document.createElement("img"));c.addClass("unselectable"),c.attr("src",b),a.append(c)}).catch(function(c){var b=$(document.createElement("img"));b.addClass("unselectable"),b.attr("src","/images/apps/adult/artwork_unavailable.png"),a.append(b),console.log(a)});else{var c=$(document.createElement("img"));c.addClass("unselectable"),c.attr("src","/images/apps/adult/artwork_unavailable.png"),a.append(c)}};l||(a=$(document.createElement("div")).addClass("loading").addClass("fullpage"),d=$(document.createElement("h1")),d.text("Loading.."),a.append(d),g.getContainer().append(a),$.ajax({method:"GET",url:"json/hhavenVideos.php"}).done(function(o){var d,n,f,g,l,j,m,k,i,h;if(a.remove(),d=JSON.parse(o),d.status==200&&d.message.length){n=d.message.length;for(f=0;f<n;f++){g=$(document.createElement("section")),l=$(document.createElement("header")),e(d.message[f].CoverArt,l),g.append(l),j=$(document.createElement("main")),m=$(document.createElement("h2")),m.text(d.message[f].Title),j.append(m),g.append(j),k="";for(i in d.message[f]){if(!d.message[f].hasOwnProperty(i))continue;if(i=="CoverArt")continue;k+=" "+d.message[f][i]}h=d.message[f].Title.charAt(0).toLowerCase(),h>=0&&h<=9&&(h="#"),g.attr("search-data",k),g.attr("letter",h),g.attr("onclick","MSLAppManager.load( 'hhavenDetails', {ID: '"+d.message[f].SerieID+"'});"),g.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),b.add(g)}}c&&MSLAppHHaven.search(c,!1)}),l=!0)}function k(a){var b,c;if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}MSLGlobals.Audio.play("button"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_SECTION,section:"categoryList"}),i||(b=$(document.createElement("div")).addClass("loading").addClass("fullpage"),c=$(document.createElement("h1")),c.text("Loading.."),b.append(c),g.getContainer().append(b),$.ajax({method:"GET",url:"json/hhavenTags.php"}).done(function(h){var c,e,a,d;if(b.remove(),c=JSON.parse(h),c.status==200&&c.message.length){e=c.message.length;for(a=0;a<e;a++)d=$(document.createElement("li")),d.attr("id",c.message[a][0]),d.text(c.message[a][1]),d.on("click",function(){MSLAppHHaven.tagSelectionToggle($(this))}),g.add(d)}for(a=0;a<f.length;a++)MSLAppHHaven.tagSelectionToggle(f[a],!0,!1)}),i=!0),$("section#MSLAppHHaven > header > .navButton").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppHHaven > header > .appLogo").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppHHaven > header > .search").css("opacity",".4").css("pointer-events","none"),$("section#MSLAppHHaven > main").css("display","none"),$("section#MSLAppHHaven > footer > div.pageControls").css("display","none"),$("section#MSLAppHHaven > main#categories").css("display","block")}function q(a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}MSLGlobals.Audio.play("button"),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_SECTION,section:null}),$("section#MSLAppHHaven > header > .navButton").css("opacity","1").css("pointer-events",""),$("section#MSLAppHHaven > header > .appLogo").css("opacity","1").css("pointer-events",""),$("section#MSLAppHHaven > header > .search").css("opacity","1").css("pointer-events",""),$("section#MSLAppHHaven > main").css("display","none"),$("section#MSLAppHHaven > main#main").css("display","block"),$("section#MSLAppHHaven > footer > div.pageControls").css("display","block")}function r(){j=!1,c="",h=!1,i=!1,d=new Array,e=new Array,f=new Array,g=new MSLPaginator($("#MSLAppHHaven > main#categories > div.tagResults"),{$controls:$("#MSLAppHHaven > main#categories > .pageControls"),resultsPerPage:48,rows:1,pageContainerType:"ul",pageContainerClass:"tags"}),b=new MSLPaginator($("#MSLAppHHaven > main#main > div.videoResults"),{syncID:"hhaven",$controls:$("#MSLAppHHaven > footer > .pageControls"),resultsPerPage:4,rows:1,onPageChange:function(){for(var d=b.getCurrentPageByLastProperty("letter"),c=0,e;c<a.m_filtered.length;c++)if(e=a.m_collection[a.m_filtered[c]].$DOM.text().charAt(0).toLowerCase(),d==e){a.select(a.m_filtered[c],!1);break}}}),$("section#MSLAppHHaven > header > div.categories").on("click",MSLAppHHaven.categoryButtonCallback),$("input.MSLAppHHavenSearchCtrl").keypress(function(a){if(a.which==13)return MSLGlobals.Audio.play("button"),MSLAppHHaven.search($("input.MSLAppHHavenSearchCtrl").val()),!1}),$("button.MSLAppHHavenSearchCtrl").click(function(a){return MSLGlobals.Audio.play("button"),MSLAppHHaven.search($("input.MSLAppHHavenSearchCtrl").val()),!1}),a=new RailMenu($("#MSLAppHHaven #selector"),{}),a.settings.onSelect=function(d,a){var c=d.$DOM.text().charAt(0).toLowerCase();if(!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_SELECT,value:c}),b.pageByProperty("letter",c)},a.present()}function o(a){"undefined"!=typeof a.search&&(c=a.search),"undefined"!=typeof a.tagsPage&&a.tagsPage!==null&&(h=!0),"undefined"!=typeof a.tags&&(f=a.tags)}function n(a,b){a="undefined"!=typeof a?a:{},b="undefined"!=typeof b&&b,j=!0,s(),p(),o(a,!0),m(),h&&k(!1)}function u(){j||n(),p(),m()}function v(){t()}return{init:r,preload:o,load:n,open:u,close:v,page:function(a,c){b.page(a,c)},categoryButtonCallback:function(a,b){"object"==typeof a?(a=$("section#MSLAppHHaven > main#main").css("display")!="none",b=!0):(a="undefined"!=typeof a&&a,b="undefined"==typeof b||b),a?k(b):q(b)},tagSelectionToggle:function(a,f,b){var g,h;if(a=a instanceof jQuery?a:$("section#MSLAppHHaven > main#categories > div.tagResults").find("#"+a).first(),f="undefined"!=typeof f?f:null,b="undefined"==typeof b||b,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&b){MSLGlobals.Audio.play("denied");return}g=a.attr("id"),h=d.indexOf(g),h!=-1&&f!==!0?(b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_VARVAL,id:g,val:!1}),d.splice(h,1),e.splice(h,1),a.removeClass("selected")):h==-1&&f!==!1&&d.length<4&&(b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_VARVAL,id:g,val:!0}),d.push(g),e.push(a.text().toLowerCase()),a.addClass("selected")),MSLAppHHaven.search(c+"|"+e.join("|")),$("section#MSLAppHHaven > header > div.categories").attr("num",d.length),$("section#MSLAppHHaven #numActiveTags").text(d.length)},search:function(a,d){if(a="undefined"!=typeof a?a:"",d="undefined"==typeof d||d,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&d){MSLGlobals.Audio.play("denied");return}a=a+"|"+e.join("|"),c=a.split("|")[0],d&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_HHAVEN_SEARCH,query:a}),b.search(a),$("input.MSLAppHHavenSearchCtrl").val(c)},select:function(c,a){if(a="undefined"==typeof a||a,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&a){MSLGlobals.Audio.play("denied");return}b.pageByProperty("letter",c)}}}();MSLAppManager.register("hhaven",MSLAppHHaven,!0)
var MSLAppHHavenDetails=function(){var b,a,c;function d(){$("#underlay > #videoBackground").css("backgroundColor","#323232"),$("#underlay > #videoBackground").css("mix-blend-mode","overlay")}function e(){$("body > section").css("display","none"),$("section#MSLAppHHavenDetails").fadeIn()}function h(){$("section#MSLAppHHavenDetails").css("display","none")}function i(d){var b,e;c!=d&&(b=$(document.createElement("div")).addClass("loading").addClass("fullpage"),e=$(document.createElement("h1")),e.text("Loading.."),b.append(e),a.clear(),a.getContainer().append(b),$.ajax({method:"GET",url:"json/hhavenEpisodes.php",data:{SerieID:d}}).done(function(t){var e,m,q,k,f,h,p,i,o,s,g,j,r,l,n;if(b.remove(),e=JSON.parse(t),e.status==200&&"undefined"!=typeof e.message.episodes){c=d,m=$(document.createElement("section")),"undefined"!=typeof e.message.serie.CoverArt&&e.message.serie.CoverArt!==null&&(q=$(document.createElement("header")),k=$(document.createElement("img")),k.addClass("unselectable"),k.attr("src",e.message.serie.CoverArt),q.append(k),m.append(q)),f=$(document.createElement("main")),"undefined"!=typeof e.message.serie.Title&&e.message.serie.Title!==null&&(h=e.message.serie.Title.substr(0,48),h.length==48&&(p=h.lastIndexOf(" "),-1!=p&&(h=h.substr(0,p)+" ...")),$("section#MSLAppHHavenDetails > header > h1").text(h)),"undefined"!=typeof e.message.serie.AlternativeTitle&&e.message.serie.AlternativeTitle!==null&&(i=$(document.createElement("h1")),i.html("Alternative titles:<br />"+e.message.serie.AlternativeTitle),f.append(i)),"undefined"!=typeof e.message.serie.Description&&e.message.serie.Description!==null&&(o=$(document.createElement("p")),o.html(e.message.serie.Description),f.append(o)),m.append(f),a.add(m),s=e.message.episodes.length;for(g=0;g<s;g++)j=$(document.createElement("section")),r=$(document.createElement("header")),l=$(document.createElement("img")),l.addClass("unselectable"),l.attr("src",e.message.episodes[g].ImageThumbnails[0]),r.append(l),j.append(r),f=$(document.createElement("main")),i=$(document.createElement("h2")),i.text("Episode "+e.message.episodes[g].Episode),f.append(i),n=$(document.createElement("p")),n.text(e.message.episodes[g].Views+" views"),f.append(n),j.append(f),j.attr("onclick","MSLAppManager.load( 'hhavenWatch', {ID: '"+e.message.episodes[g].EpisodeID+"'});"),j.on("mouseenter",function(a){MSLGlobals.Audio.play("hover")}),a.add(j)}}))}function j(){b=!1,c=null,a=new MSLPaginator($("#MSLAppHHavenDetails > main > div.videoResults"),{$controls:$("#MSLAppHHavenDetails > footer > .pageControls"),resultsPerPage:8,rows:2,firstAddSpace:4})}function f(a){}function g(a,c){if(a="undefined"!=typeof a?a:{},c="undefined"!=typeof c&&c,"undefined"==typeof a.ID){MSLAppManager.open("hhaven");return}b=!0,i(a.ID),d(),f(a,!0),e()}function k(){b||g(),d(),e()}function l(){h()}return{init:j,preload:f,load:g,open:k,close:l}}();MSLAppManager.register("hhavenDetails",MSLAppHHavenDetails,!0)
var MSLAppHHavenWatch=function(){var b,c,d,a,e;function g(){$("#underlay > #videoBackground").css("backgroundColor","#000000"),$("#underlay > #videoBackground").css("mix-blend-mode","color")}function h(){$("body > section").css("display","none"),$("section#MSLAppHHavenWatch").fadeIn()}function i(){$("section#MSLAppHHavenWatch").css("display","none")}function k(){d=!1,c=null,b=$("#MSLAppHHavenWatch #videoplayerHHaven"),a=$("section#MSLAppHHavenWatch > main > div.fullscreenOverlay"),e=a.children().first(),$(window).blur(function(){a.css("opacity",0)}),$(window).on("mouseout",function(){a.css("opacity",0)})}function j(a){"undefined"!=typeof a.ID&&(c=a.ID)}function f(a,e){a="undefined"!=typeof a?a:{},e="undefined"!=typeof e&&e,e,c=a.ID,d=!0,g(),$.ajax({method:"GET",url:"json/hhavenSource.php?id="+encodeURIComponent(c)}).done(function(a,c){var a=JSON.parse(a);if(a.status==200&&"object"==typeof a.message){b.jPlayer("destroy");const c=new Array;let d=0;a.message.source1080p&&c.push(a.message.source1080p),a.message.source720p&&c.push(a.message.source720p),a.message.source480p&&c.push(a.message.source480p),a.message.source360p&&c.push(a.message.source360p),b.jPlayer({ready:function(){$("#MSLAppHHavenWatch #messageLoading").css("display","block"),$(this).jPlayer("setMedia",{title:a.message.Title,m4v:c[d]}).jPlayer("play")},playing:function(){$("#MSLAppHHavenWatch #messageLoading").css("display","none")},error:function(){c[++d]&&$(this).jPlayer("setMedia",{title:a.message.Title,m4v:c[d]}).jPlayer("play")},size:{width:1024,height:576},preload:"auto",swfPath:"js",supplied:"m4v, ogv",solution:MSLGlobals.HasFlash?"flash":"html",volume:1,timeFormat:{showHour:!0},autohide:{restored:!0,hold:3e3}})}}),h()}function l(){d||f(),g(),h()}function m(){b&&b.jPlayer("destroy"),i()}function n(i,f){var g=512,h=288,c=40,d=Math.abs(i-g)-e.width()/2,b=Math.abs(f-h)-e.height()/2;d<=0&&b<=0?a.css("opacity",1):(d=1-d.clamp(0,c)/c,b=1-b.clamp(0,c)/c,a.css("opacity",Math.min(d,b)))}return{init:k,preload:j,load:f,open:l,close:m,onMouseMove:n}}();MSLAppManager.register("hhavenWatch",MSLAppHHavenWatch,!0)
const MSLAppGamesData=[{title:"Super Mario World",developer:"Nintendo EAD",year:"1990",system:"Super Nintendo Entertainment System",sysID:"snes",description:["During a vacation in Dinosaur Land, Princess Toadstool gets kidnapped and a spell is cast on the inhabitants of the island. When they stumble upon Yoshi, a young dinosaur, Mario and Luigi learn that Bowser is responsible for the terrible misdeeds. Now, Yoshis are trapped in magical eggs that Bowser has hidden throughout seven castles.","Many hidden paths aid Mario in making his way to Bowser's castle, completing 74 areas, and finding all 96 exits. Discover items, including a feather that gives Mario a cape that allows him to fly and a flower that lets him shoot fireballs, in layers upon layers of 2-D scrolling landscapes. You can even ride Yoshi and swallow your enemies!"],thumbnails:"https://i.imgur.com/gnfvtRZ.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2015/11/super-mario-world.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAAE.pdf",manual_images:["https://i.imgur.com/qHejTcp.jpg","https://i.imgur.com/go2ejU0.jpg","https://i.imgur.com/wK9RY7M.jpg","https://i.imgur.com/IMn5cCe.jpg","https://i.imgur.com/Cg09DWX.jpg","https://i.imgur.com/fIW6Xqb.jpg","https://i.imgur.com/IGG8gCc.jpg","https://i.imgur.com/W0aermU.jpg","https://i.imgur.com/AZXWbZZ.jpg","https://i.imgur.com/bR1fLae.jpg","https://i.imgur.com/6TFk9Gn.jpg","https://i.imgur.com/fENwNHp.jpg","https://i.imgur.com/sh0Om0Z.jpg","https://i.imgur.com/NXOouJY.jpg","https://i.imgur.com/LzB1ahI.jpg","https://i.imgur.com/Ute46pO.jpg","https://i.imgur.com/AJDljTO.jpg","https://i.imgur.com/AdCB2Lr.jpg","https://i.imgur.com/o1jkRV6.jpg","https://i.imgur.com/mPaFPee.jpg","https://i.imgur.com/Y3ySAPu.jpg","https://i.imgur.com/hXv3WSh.jpg","https://i.imgur.com/8q9hYBN.jpg","https://i.imgur.com/GIvl71q.jpg","https://i.imgur.com/OElXjzv.jpg","https://i.imgur.com/dCxsZdm.jpg","https://i.imgur.com/iBEkFkD.jpg","https://i.imgur.com/2R3rHX4.jpg","https://i.imgur.com/iKoqgXt.jpg","https://i.imgur.com/aQRoJAT.jpg","https://i.imgur.com/EG3vOjN.jpg","https://i.imgur.com/98pgCoF.jpg"],midi:"https://www.dropbox.com/s/ne00jbmcat67noc/SNES_1.ogg?dl=1",midi_volume:.5},{title:"Super Mario Kart",developer:"Nintendo EAD",year:"1992",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Select one of eight characters from the Mario seriesoffering a variety of driving stylesand take on three championship cups in three different kart classes. Win enough, and you'll unlock a fourth circuit: the ultra-tough Special Cup.","Crossing the finish line in first place isn't an easy task, though, as each track has unique obstacles to conquer and racers can obtain special power-ups that boost them to victory.","With more than 15 tracks to master and nearly endless replay value, Super Mario Kart is classic gaming with some banana peels thrown in for good measure!"],thumbnails:"https://i.imgur.com/Opk3tfD.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2015/11/Super-Mario-Kart-USA.nes",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAFE.pdf",manual_images:["https://i.imgur.com/D1Sfec2.jpg","https://i.imgur.com/YgjbAa1.jpg","https://i.imgur.com/PjGxvqf.jpg","https://i.imgur.com/tkoLEuu.jpg","https://i.imgur.com/csycZil.jpg","https://i.imgur.com/N1wEGkw.jpg","https://i.imgur.com/yuAIlJZ.jpg","https://i.imgur.com/mQ2Zzmu.jpg","https://i.imgur.com/U3G64nX.jpg","https://i.imgur.com/wtGLIiG.jpg","https://i.imgur.com/tk5dPu6.jpg","https://i.imgur.com/sBrXYba.jpg","https://i.imgur.com/5LrgTqy.jpg","https://i.imgur.com/h02BZA2.jpg","https://i.imgur.com/qkHA9SS.jpg","https://i.imgur.com/PSJ8rkm.jpg","https://i.imgur.com/0tLf7za.jpg","https://i.imgur.com/Z5JaQ4Y.jpg","https://i.imgur.com/0emOHrZ.jpg","https://i.imgur.com/8StbXQc.jpg","https://i.imgur.com/ez9d0gU.jpg","https://i.imgur.com/xRgg4ZE.jpg","https://i.imgur.com/0iGI6sG.jpg","https://i.imgur.com/GBYKypJ.jpg","https://i.imgur.com/Tm44kjV.jpg","https://i.imgur.com/JLvIIWF.jpg","https://i.imgur.com/ZC21LfY.jpg","https://i.imgur.com/h24yTku.jpg","https://i.imgur.com/3JdkLP3.jpg","https://i.imgur.com/utrox0S.jpg","https://i.imgur.com/ciB3GR0.jpg","https://i.imgur.com/wJrkEAa.jpg","https://i.imgur.com/3JQ4khj.jpg","https://i.imgur.com/TwfAxkP.jpg","https://i.imgur.com/EHb4xdL.jpg"],midi:"https://www.dropbox.com/s/j8orw51zs7n2v7g/SNES_2.ogg?dl=1",midi_volume:1},{title:"The Legend of Zelda: A Link to the Past",developer:"Nintendo EAD",year:"1991",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Return to an age of magic and heroes!","When an evil magician named Agahnim begins kidnapping young maidens in Hyrule in a quest to break the imprisoning seal on Ganon, a young boy named Link is called upon to stop him. Link must venture into twisting mazes, dungeons, palaces and shadowy forests as he searches for the maidens and Princess Zelda. Traversing both Light and Dark Worlds, he must navigate eight dark dungeons, fighting evil enemies and huge bosses. Help our hero prevent Ganon and Agahnim from shattering Hyrule forever.","Whether you are a young knight, a heroine-in-training or a seasoned warrior, The Legend of Zelda: A Link to the Past will delight!"],thumbnails:"https://i.imgur.com/F3cZqnS.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2017/10/Legend-of-Zelda-The-A-Link-to-the-Past-U-.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAEE.pdf",manual_images:["https://i.imgur.com/63pQ4t0.jpg","https://i.imgur.com/O0qS3y6.jpg","https://i.imgur.com/6kEYFuF.jpg","https://i.imgur.com/rYjSRsm.jpg","https://i.imgur.com/RSg3TTx.jpg","https://i.imgur.com/rcnmiTD.jpg","https://i.imgur.com/eIEXNDS.jpg","https://i.imgur.com/A6h4k2M.jpg","https://i.imgur.com/QtYEsnU.jpg","https://i.imgur.com/K0Uc0oB.jpg","https://i.imgur.com/937BGKa.jpg","https://i.imgur.com/Qisxf3X.jpg","https://i.imgur.com/gAPRCYD.jpg","https://i.imgur.com/3Z6oTuh.jpg","https://i.imgur.com/16NSx3h.jpg","https://i.imgur.com/47eyiGr.jpg","https://i.imgur.com/ctCZFOm.jpg","https://i.imgur.com/RrRa1jg.jpg","https://i.imgur.com/BywR7ux.jpg","https://i.imgur.com/rm3VNEj.jpg","https://i.imgur.com/7acoqXz.jpg","https://i.imgur.com/p4pD9NS.jpg","https://i.imgur.com/vJJ5mLb.jpg","https://i.imgur.com/t0cDzid.jpg","https://i.imgur.com/mY5kxvm.jpg","https://i.imgur.com/UVXKI16.jpg","https://i.imgur.com/ZnwBpRV.jpg","https://i.imgur.com/iLqQ5vT.jpg","https://i.imgur.com/SFCQ7rr.jpg","https://i.imgur.com/qpepYXG.jpg","https://i.imgur.com/VN4LDSx.jpg","https://i.imgur.com/D2hbHnm.jpg","https://i.imgur.com/ouYXEaP.jpg","https://i.imgur.com/zvCnUxq.jpg","https://i.imgur.com/ndpARva.jpg","https://i.imgur.com/Q4JsBzr.jpg","https://i.imgur.com/qzeQU44.jpg","https://i.imgur.com/56aIzEJ.jpg","https://i.imgur.com/Jw2bvEt.jpg","https://i.imgur.com/aMeJE9a.jpg","https://i.imgur.com/r908iNj.jpg","https://i.imgur.com/hBH4wRv.jpg","https://i.imgur.com/xCfqQhI.jpg","https://i.imgur.com/EbV3bRA.jpg","https://i.imgur.com/3uDBSp5.jpg","https://i.imgur.com/ZfIaXDJ.jpg","https://i.imgur.com/aJsXgp9.jpg","https://i.imgur.com/zVThMWs.jpg","https://i.imgur.com/vz7fB9I.jpg"],midi:"https://www.dropbox.com/s/r5xdqpb6fp3m09m/SNES_3.ogg?dl=1",midi_volume:1.2},{title:"F-ZERO",developer:"Nintendo EAD",year:"1990",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Speed into the future with the first installment to the F-Zero series.","Operated by their own designated racer, including the celebrated Captain Falcon, pick one of four proton-powered hover carseach with its own acceleration curve and design modifications.","Strategy will play a big part in this speed fest as you race across 15 courses filled with challenges and pitfalls. Find shortcuts, elude hazards, and snag power-ups if you want to beat the competition. Keep an eye out for sand, land mines, magnets, and other trouble spots, but always be ready for that boost from a speed or jump plate to get ahead. You'll need split-second reflexes to control these speed machines of tomorrow, so get ready for an experience that's out of this world!"],thumbnails:"https://i.imgur.com/5bfby4Y.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/03/fzero.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAABE.pdf",manual_images:["https://i.imgur.com/4VMZ1rS.jpg","https://i.imgur.com/zhjN1Ld.jpg","https://i.imgur.com/8zpxZsC.jpg","https://i.imgur.com/IwnVn7v.jpg","https://i.imgur.com/gWQU3wT.jpg","https://i.imgur.com/uweFA6g.jpg","https://i.imgur.com/uG44BvD.jpg","https://i.imgur.com/wZQyhL9.jpg","https://i.imgur.com/IGURcnJ.jpg","https://i.imgur.com/i3fVxS4.jpg","https://i.imgur.com/aYOpTKR.jpg","https://i.imgur.com/SSsfyRB.jpg","https://i.imgur.com/zKbVb86.jpg","https://i.imgur.com/8Nzb3zi.jpg","https://i.imgur.com/9FJhhfU.jpg","https://i.imgur.com/zDrXLX3.jpg","https://i.imgur.com/oaluzvw.jpg","https://i.imgur.com/9U1Ofrx.jpg","https://i.imgur.com/zrrOIyZ.jpg","https://i.imgur.com/0xN4pjA.jpg","https://i.imgur.com/zmvPTRr.jpg","https://i.imgur.com/CF4zq7g.jpg","https://i.imgur.com/rSWKGRL.jpg","https://i.imgur.com/WPOaB83.jpg","https://i.imgur.com/RRkJCDF.jpg","https://i.imgur.com/KAJMZPA.jpg","https://i.imgur.com/vEuVkkY.jpg","https://i.imgur.com/cWOFeQe.jpg","https://i.imgur.com/421NakA.jpg","https://i.imgur.com/DC9rDeC.jpg","https://i.imgur.com/bVstOUY.jpg","https://i.imgur.com/StDKe62.jpg"],midi:"https://www.dropbox.com/s/4guda2qdmytqn9y/SNES_4.ogg?dl=1",midi_volume:.6},{title:"Super Metroid",developer:"Nintendo R&D1 / Intelligent Systems",year:"1994",system:"Super Nintendo Entertainment System",sysID:"snes",description:["The Space Pirates, merciless agents of the evil Mother Brain, have stolen the last Metroid from a research station, and once again Mother Brain threatens the safety of the galaxy!","Samus Aran must don her awesome array of high-tech weaponry to retrieve the deadly Metroid hidden deep within the cave-riddled planet Zebes. Super Metroid features excellent graphics, with a huge variety of enemies and worlds to explore. The side-view action will be familiar to many players, only now there are new weapons and items, including the Grappling Beam, which allows Samus to swing across large chasms, and the X-Ray Scope, which reveals secret passages."],thumbnails:"https://i.imgur.com/QU4fDnQ.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/super-metroid.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAHE.pdf",manual_images:["https://i.imgur.com/CSGCX8I.jpg","https://i.imgur.com/vLZMEKA.jpg","https://i.imgur.com/bravcTA.jpg","https://i.imgur.com/19dpKec.jpg","https://i.imgur.com/3Uil0lt.jpg","https://i.imgur.com/ipTmsgw.jpg","https://i.imgur.com/oeQe8kl.jpg","https://i.imgur.com/VUrwrnM.jpg","https://i.imgur.com/Ag0Hc4O.jpg","https://i.imgur.com/vrUxLbF.jpg","https://i.imgur.com/S9Fouqq.jpg","https://i.imgur.com/EEgPEid.jpg","https://i.imgur.com/QuvIjED.jpg","https://i.imgur.com/YgnZnuz.jpg","https://i.imgur.com/CWzoooI.jpg","https://i.imgur.com/tavXffQ.jpg","https://i.imgur.com/xmPTRHY.jpg","https://i.imgur.com/S0NPLC7.jpg","https://i.imgur.com/69idyx6.jpg","https://i.imgur.com/RZTXLRn.jpg","https://i.imgur.com/8fmX35a.jpg","https://i.imgur.com/UnXQLVa.jpg","https://i.imgur.com/p4Orzlm.jpg","https://i.imgur.com/OijKIBa.jpg","https://i.imgur.com/1LMMzfK.jpg","https://i.imgur.com/WNpFtBT.jpg","https://i.imgur.com/lw4CDWH.jpg","https://i.imgur.com/cZEQUeM.jpg","https://i.imgur.com/kkksgr4.jpg","https://i.imgur.com/NrWdzkq.jpg","https://i.imgur.com/rI0XUJV.jpg","https://i.imgur.com/v0IXmOs.jpg","https://i.imgur.com/LXjzNtC.jpg","https://i.imgur.com/X6agw7u.jpg","https://i.imgur.com/mJ8ZRxo.jpg","https://i.imgur.com/DeBJEC5.jpg","https://i.imgur.com/UmJnDzg.jpg","https://i.imgur.com/wWQAVRp.jpg","https://i.imgur.com/l3CJFsH.jpg"],midi:"https://www.dropbox.com/s/gwdljmow727zivn/SNES_5.ogg?dl=1",midi_volume:1.15},{title:"Street Fighter II Turbo: Hyper Fighting",developer:"Capcom",year:"1992",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Street Fighter II defined gaming in the 1990s by revolutionizing the fighting game genre.","Street Fighter II' Turbo: Hyper Fighting, regarded as one of the greatest games of all time, was the third and final release of the original Street Fighter II series. The original eight world warriors are featured, along with playable boss characters Balrog, Sagat, and M. Bison. The game offered enhanced gameplay speed and improved character balancing."],thumbnails:"https://i.imgur.com/6hKvJ0O.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/street-fighter-2-turbo.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABHE.pdf",manual_images:["https://i.imgur.com/kLNLmTb.jpg","https://i.imgur.com/qCnrF5C.jpg","https://i.imgur.com/pVrJ7bA.jpg","https://i.imgur.com/saxYLhF.jpg","https://i.imgur.com/AFdwoGU.jpg","https://i.imgur.com/mJs4Rwv.jpg","https://i.imgur.com/ruYPpRP.jpg","https://i.imgur.com/NK4zgcP.jpg","https://i.imgur.com/118UlDN.jpg","https://i.imgur.com/uxHle1L.jpg","https://i.imgur.com/sHBJf6x.jpg","https://i.imgur.com/EqzJ0et.jpg","https://i.imgur.com/CC4B2M9.jpg","https://i.imgur.com/CBgoWNA.jpg","https://i.imgur.com/ZPIIO4C.jpg","https://i.imgur.com/TsloikQ.jpg","https://i.imgur.com/mNlSdT5.jpg","https://i.imgur.com/Qbwi1Jx.jpg","https://i.imgur.com/H1tD3mg.jpg","https://i.imgur.com/3lsd9GN.jpg","https://i.imgur.com/oXjEbPo.jpg","https://i.imgur.com/gBEk0aQ.jpg","https://i.imgur.com/EGJYZwp.jpg","https://i.imgur.com/zcGBt5J.jpg","https://i.imgur.com/NAPY5Mf.jpg","https://i.imgur.com/sGhiPeb.jpg","https://i.imgur.com/bjeMxDL.jpg","https://i.imgur.com/X4EJMeV.jpg","https://i.imgur.com/dmIMFme.jpg","https://i.imgur.com/3wZ4hGY.jpg","https://i.imgur.com/7GouQE7.jpg","https://i.imgur.com/WlGJoGM.jpg","https://i.imgur.com/oQK8pAw.jpg","https://i.imgur.com/VUBNzn0.jpg","https://i.imgur.com/o3psVVe.jpg","https://i.imgur.com/RwCTxEx.jpg","https://i.imgur.com/iSzn9H3.jpg","https://i.imgur.com/0RQmOAR.jpg","https://i.imgur.com/GfdXN0v.jpg","https://i.imgur.com/46k7jDS.jpg","https://i.imgur.com/yNWb2Nu.jpg"],midi:"https://www.dropbox.com/s/pdzr98vansvafm2/SNES_6.ogg?dl=1",midi_volume:1.35},{title:"Super Punch-Out!!",developer:"Nintendo R&D3 / Locomotive Corporation",year:"1994",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Spar against unique opponents -- old and new -- and outwit their unique techniques!",'Featuring the tight game play and humor the series is known for, this sequel to the NES classic sees Little Mac return to the ring with the World Video Boxing Association belt once again at stake. Slug your way through the grueling, sweat-pounding matches of the Minor, Major, and World Circuits as you face off against some of Little Macs greatest rivals like Bear Hugger, Bald Bull, and Super Macho Man. With a cast of new challengers waiting, do you have what it takes to identify their unique patterns and exploit their weaknesses? Go to your corner and come out fighting, but remember what Doc Louis would say, "Its not about brawlingits about finesse!"'],thumbnails:"https://i.imgur.com/S8JQi1p.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2017/10/super-punch-out.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAXE.pdf",manual_images:["https://i.imgur.com/lcU37oz.jpg","https://i.imgur.com/3Lltzoe.jpg","https://i.imgur.com/xQ4G7et.jpg","https://i.imgur.com/u2oiwjt.jpg","https://i.imgur.com/fPADLRf.jpg","https://i.imgur.com/02U3Rep.jpg","https://i.imgur.com/NuLkMyj.jpg","https://i.imgur.com/FsIuM6q.jpg","https://i.imgur.com/vg8myMs.jpg","https://i.imgur.com/yCXFCda.jpg","https://i.imgur.com/VqLrwxO.jpg","https://i.imgur.com/p23mOWJ.jpg","https://i.imgur.com/1jxXKiM.jpg","https://i.imgur.com/JlD0nH0.jpg","https://i.imgur.com/dIzlvD0.jpg","https://i.imgur.com/lxyeJu8.jpg","https://i.imgur.com/HGXk6R5.jpg","https://i.imgur.com/FEabEDJ.jpg","https://i.imgur.com/1B5GS6J.jpg","https://i.imgur.com/sBIB9uS.jpg","https://i.imgur.com/s4Jy8cD.jpg","https://i.imgur.com/ShiMSnf.jpg","https://i.imgur.com/bu2fPS3.jpg","https://i.imgur.com/skEz54q.jpg","https://i.imgur.com/yHp6vyD.jpg","https://i.imgur.com/tL1PWjD.jpg","https://i.imgur.com/KAL9kNV.jpg","https://i.imgur.com/SMEVryU.jpg","https://i.imgur.com/5Hxtx93.jpg","https://i.imgur.com/u8rBP5E.jpg","https://i.imgur.com/cPDDRnj.jpg","https://i.imgur.com/diZGRC8.jpg","https://i.imgur.com/66LVz8f.jpg"],midi:"https://www.dropbox.com/s/w1baejkc2bklokd/SNES_7.ogg?dl=1",midi_volume:1.15},{title:"Super Castlevania IV",developer:"Konami",year:"1991",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Fulfill the Belmont legacy against the forces of darkness.","In the peaceful country of Transylvania, there is a legend of an evil castle and its master, the Prince of Darkness, Dracula. Once every hundred years, the powers of good mysteriously weaken, and evil attempts to resurrect Dracula. It's up to the Belmont clan to take up the eternal fight against the vampire. Players take on the role of Simon Belmont, armed with the legendary whip, Vampire Killer, to defeat Dracula and his evil minions. Luckily, Simon has many additional weapons at his disposal, including axes, holy water, crosses, knives and even a magical stopwatch that can stop the flow of time for a spell.","Simon must travel through 11 stages, beginning in the countryside, to reach Dracula's Castle, all the while overcoming perilous traps and hideous monsters. Only the power of the Belmonts can quell the looming darkness"],thumbnails:"https://i.imgur.com/gIVTPDv.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/04/super-castlevania-iv.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SACBE.pdf",manual_images:["https://i.imgur.com/tjvNSfc.jpg","https://i.imgur.com/DfYlSQ5.jpg","https://i.imgur.com/7zNDcyY.jpg","https://i.imgur.com/4HRKWw5.jpg","https://i.imgur.com/EsppFJ5.jpg","https://i.imgur.com/mnjrMTq.jpg","https://i.imgur.com/ywQOcEE.jpg","https://i.imgur.com/eAb5Xlu.jpg","https://i.imgur.com/eQ5QINQ.jpg","https://i.imgur.com/HlPkBea.jpg","https://i.imgur.com/nDOTATX.jpg","https://i.imgur.com/yQvSbba.jpg","https://i.imgur.com/j6dq3B9.jpg","https://i.imgur.com/5UrFVD2.jpg","https://i.imgur.com/NdINfSm.jpg","https://i.imgur.com/ytMsdX8.jpg","https://i.imgur.com/g7xLk2D.jpg","https://i.imgur.com/AEnIN3F.jpg","https://i.imgur.com/MpJQDua.jpg","https://i.imgur.com/jWQqWiE.jpg","https://i.imgur.com/5sTpqm6.jpg"],midi:"https://www.dropbox.com/s/fq1hkhb0hlmkhgc/SNES_8.ogg?dl=1",midi_volume:.4},{title:"Donkey Kong Country",developer:"Rare",year:"1994",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Help Donkey Kong and Diddy Kong get back those stolen bananas!","After a dark and stormy night, Donkey Kong finds all of his bananas stolen by K. Rool and his reptilian crew of Kremlings! Armed with chest-pounding muscle, mighty barrel rolls, and awesome vine-swinging skills, Donkey Kong and Diddy Kong set out to face their adversaries! Play over 100 levels filled with collectibles and hidden bonus levels. With the help of Donkey Kong's quirky family, animal friends, and your fast reflexes, our dynamic duo will prove to be an unstoppable force.","Time to save those bananas!"],thumbnails:"https://i.imgur.com/kdGwyRy.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2015/11/donkey-kong-country.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAALE.pdf",manual_images:["https://i.imgur.com/CPhhLX0.jpg","https://i.imgur.com/dEVTobD.jpg","https://i.imgur.com/eonfxzK.jpg","https://i.imgur.com/lW4v8K1.jpg","https://i.imgur.com/houD35F.jpg","https://i.imgur.com/p9qyW6u.jpg","https://i.imgur.com/BK1uBdu.jpg","https://i.imgur.com/YiKZUPa.jpg","https://i.imgur.com/jpgAmu8.jpg","https://i.imgur.com/oIxuhJU.jpg","https://i.imgur.com/5S6p8ax.jpg","https://i.imgur.com/VJYOG13.jpg","https://i.imgur.com/ztTnql6.jpg","https://i.imgur.com/D49QhtY.jpg","https://i.imgur.com/2kgp6cV.jpg","https://i.imgur.com/07x9d3f.jpg","https://i.imgur.com/wmxnWig.jpg","https://i.imgur.com/s65MG7S.jpg","https://i.imgur.com/b4tYS8h.jpg","https://i.imgur.com/eKQ7HmS.jpg","https://i.imgur.com/dC74uny.jpg","https://i.imgur.com/ChWsu4D.jpg","https://i.imgur.com/EwYJPbN.jpg","https://i.imgur.com/et0jUEQ.jpg","https://i.imgur.com/oeaVks9.jpg","https://i.imgur.com/6QgcGxQ.jpg","https://i.imgur.com/ZbY8TAf.jpg","https://i.imgur.com/CQ3S3dw.jpg","https://i.imgur.com/UGDcITQ.jpg","https://i.imgur.com/z51pZFV.jpg","https://i.imgur.com/DDiHfgd.jpg","https://i.imgur.com/OlqxvrY.jpg","https://i.imgur.com/eMZrzdo.jpg","https://i.imgur.com/PPzPEN6.jpg","https://i.imgur.com/PbnZYHp.jpg"],midi:"https://www.dropbox.com/s/p17y4dcr5adtngw/SNES_9.ogg?dl=1",midi_volume:1},{title:"Mega Man X",developer:"Capcom",year:"1993",system:"Super Nintendo Entertainment System",sysID:"snes",description:["The future of Mega Man has arrived!","Hundreds of years after his death, Dr. Light's final creation is discovered. Released from his capsule by Dr. Cain, \"X\" is born into the world of the future where robot rebellions are a thing of the past. But when Dr. Cain tries to implement Dr. Light's designs into a new series of Reploids, something goes horribly wrong. Now, the future lies on the brink of destruction and X must use all of his newfound powers and abilities to hunt down the maverick Reploids and their leader, Sigma, before the human race is wiped from the planet!"],thumbnails:"https://i.imgur.com/6MgreWI.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/04/megaman-x.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABCE.pdf",manual_images:["https://i.imgur.com/BmDXAKr.jpg","https://i.imgur.com/gUWTUED.jpg","https://i.imgur.com/hFHcZaL.jpg","https://i.imgur.com/XbY6zHW.jpg","https://i.imgur.com/klVGYbX.jpg","https://i.imgur.com/9wNQ3L3.jpg","https://i.imgur.com/a1G9D7b.jpg","https://i.imgur.com/zrsiSM0.jpg","https://i.imgur.com/4Dm5BLS.jpg","https://i.imgur.com/y1xN3az.jpg","https://i.imgur.com/0ekshES.jpg","https://i.imgur.com/L3IOThZ.jpg","https://i.imgur.com/6vVgMoC.jpg","https://i.imgur.com/hPSb2Wj.jpg","https://i.imgur.com/54rjDcS.jpg","https://i.imgur.com/QgyP3i5.jpg","https://i.imgur.com/ojIs38B.jpg","https://i.imgur.com/kvQUi6N.jpg","https://i.imgur.com/95poqW4.jpg","https://i.imgur.com/W050PcQ.jpg","https://i.imgur.com/2EHWnyb.jpg","https://i.imgur.com/aeQjLvC.jpg","https://i.imgur.com/OYwTPzg.jpg","https://i.imgur.com/Wg39XQt.jpg","https://i.imgur.com/Y7ok11v.jpg"],midi:"https://www.dropbox.com/s/zgszln83ens5ky2/SNES_10.ogg?dl=1",midi_volume:.9},{title:"Kirby Super Star",developer:"HAL Laboratory",year:"1996",system:"Super Nintendo Entertainment System",sysID:"snes",description:["That awful King Dedede is at it againhes stolen all the food in Dream Land! It's up to Kirby to get it back and ultimately save Popstar from being taken over!","Our round, pink hero will have to journey through six main games and two minigames, finishing with the ultimate showdown in the Arena. Each game offers its own story and variation of platforming action, as well as unique environments and an assortment of enemies. Swallowing an enemy allows Kirby to copy the abilities of that enemy, granting him the power to perform special attacks and giving him a new hat to don. Kirby can also give up an acquired ability and use it to create a helper. The helper will follow Kirby around and automatically fight as his allyor offer a second player the chance to join in the game by controlling it.","There's never a dull moment as Kirby dashes, flies, and fights!"],thumbnails:"https://i.imgur.com/G2w77mm.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/05/kirby-super-star.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAQE.pdf",manual_images:["https://i.imgur.com/dmnq8pO.jpg","https://i.imgur.com/1OHcTxk.jpg","https://i.imgur.com/4AV5Aj8.jpg","https://i.imgur.com/eSvKG6q.jpg","https://i.imgur.com/Q7zJGIH.jpg","https://i.imgur.com/QXCsqQn.jpg","https://i.imgur.com/dX390Zk.jpg","https://i.imgur.com/MC5rrS8.jpg","https://i.imgur.com/WFjkUP7.jpg","https://i.imgur.com/Rz4JkeK.jpg","https://i.imgur.com/7EOSSrF.jpg","https://i.imgur.com/10mj0Ly.jpg","https://i.imgur.com/vLoOCAe.jpg","https://i.imgur.com/dz5Ycsz.jpg","https://i.imgur.com/dJNKgjX.jpg","https://i.imgur.com/BCjzLc5.jpg","https://i.imgur.com/AdGWBTg.jpg","https://i.imgur.com/WuvzeSX.jpg","https://i.imgur.com/tU9pkW2.jpg","https://i.imgur.com/a3H5qmQ.jpg","https://i.imgur.com/i9yDWl0.jpg","https://i.imgur.com/SLQhwuS.jpg","https://i.imgur.com/Oh1bIdM.jpg","https://i.imgur.com/x7G9jqX.jpg","https://i.imgur.com/M3KVp3F.jpg","https://i.imgur.com/F8rmfYt.jpg","https://i.imgur.com/jHIQsH5.jpg","https://i.imgur.com/i96Qkvh.jpg","https://i.imgur.com/LvRfqim.jpg","https://i.imgur.com/sr9P4Qh.jpg","https://i.imgur.com/XZnKNv6.jpg","https://i.imgur.com/lh1SQCC.jpg","https://i.imgur.com/sn4BmVX.jpg","https://i.imgur.com/D7Dalvo.jpg","https://i.imgur.com/RFbJHBd.jpg","https://i.imgur.com/V6kid29.jpg","https://i.imgur.com/3LPUD9m.jpg","https://i.imgur.com/OSoaQ1p.jpg","https://i.imgur.com/Tbbh72L.jpg","https://i.imgur.com/q9r1akD.jpg"],midi:"https://www.dropbox.com/s/c8vttdhn9sbexso/SNES_11.ogg?dl=1",midi_volume:1.1},{title:"Final Fantasy III",developer:"Square",year:"1990",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Ages ago, evil beings created powerful creatures called Espers and unleashed them against each other. The resulting battles left their world in smouldering rubble. Legend has it, the Espers destroyed themselves and most of humanity.","Magic disappeared forever.Centuries have passed and a rational world now exists with Espers living only in myths, until one frozen solid since the ancient wars is unearthed. Suddenly, there are reports of magic attacks on civilians. Imperial Commandos launch raids using magic-powered MagiTek weapons. Magic is obviously alive and the world is in danger again.","Who or what is behind the rediscovery and redeployment of this legendary power? What chaotic plans exist that will wreak havoc on this orderly world?","Originally released as FINAL FANTASY III on SNES in North America, this game is in fact FINAL FANTASY VI from the main series chronology."],thumbnails:"https://i.imgur.com/PKq9cK7.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/02/final-fantasy-3.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABTE.pdf",manual_images:["https://i.imgur.com/O3hZg2d.jpg","https://i.imgur.com/aWKdhW4.jpg","https://i.imgur.com/cYWI2gj.jpg","https://i.imgur.com/fEv9TQy.jpg","https://i.imgur.com/rNm9S9N.jpg","https://i.imgur.com/VnOcrTU.jpg","https://i.imgur.com/2Hn1LFd.jpg","https://i.imgur.com/uyQFi0e.jpg","https://i.imgur.com/sR03WtO.jpg","https://i.imgur.com/gLl4jLT.jpg","https://i.imgur.com/pssoxgj.jpg","https://i.imgur.com/EUKJjKi.jpg","https://i.imgur.com/gEQZ6Cx.jpg","https://i.imgur.com/aOV7p4C.jpg","https://i.imgur.com/kkGhHom.jpg","https://i.imgur.com/ESF9Wda.jpg","https://i.imgur.com/BZGqtGq.jpg","https://i.imgur.com/By0PlFu.jpg","https://i.imgur.com/Oq8E14L.jpg","https://i.imgur.com/Jm928GG.jpg","https://i.imgur.com/tc6jLEc.jpg","https://i.imgur.com/3uhEG6B.jpg","https://i.imgur.com/HkobF2a.jpg","https://i.imgur.com/GN3qhnq.jpg","https://i.imgur.com/5YTXe1Y.jpg","https://i.imgur.com/zXQ6n0t.jpg","https://i.imgur.com/iSG6n7w.jpg","https://i.imgur.com/UGfMGQ9.jpg","https://i.imgur.com/0EQi2oH.jpg","https://i.imgur.com/bJzxNwN.jpg","https://i.imgur.com/ehbCLiP.jpg","https://i.imgur.com/yrTi70x.jpg","https://i.imgur.com/OKBcAo9.jpg","https://i.imgur.com/pltTRmV.jpg","https://i.imgur.com/nDwJPc5.jpg","https://i.imgur.com/5EchuOu.jpg","https://i.imgur.com/wuJIvZT.jpg","https://i.imgur.com/btBAC6a.jpg","https://i.imgur.com/2diLPmM.jpg","https://i.imgur.com/SiyBCDW.jpg","https://i.imgur.com/EBYKcuQ.jpg","https://i.imgur.com/d1sta1v.jpg","https://i.imgur.com/cWblk4u.jpg","https://i.imgur.com/XdC75yp.jpg","https://i.imgur.com/D3kOfuJ.jpg","https://i.imgur.com/unFXi25.jpg","https://i.imgur.com/fI3jzNQ.jpg","https://i.imgur.com/sG71YVx.jpg","https://i.imgur.com/38EeE4H.jpg","https://i.imgur.com/KZy2IuO.jpg","https://i.imgur.com/2nKL9tc.jpg","https://i.imgur.com/YT8FdBi.jpg","https://i.imgur.com/Ol4AGpo.jpg","https://i.imgur.com/s02tXDi.jpg","https://i.imgur.com/9I1dEO3.jpg","https://i.imgur.com/oLckd2U.jpg","https://i.imgur.com/iI3OOag.jpg","https://i.imgur.com/vVSQ9WD.jpg","https://i.imgur.com/PYOkdap.jpg","https://i.imgur.com/c0MX4qn.jpg","https://i.imgur.com/z1D1w2j.jpg","https://i.imgur.com/x0YdgqQ.jpg","https://i.imgur.com/jrPGQtC.jpg","https://i.imgur.com/PbLuztE.jpg","https://i.imgur.com/wm24cl0.jpg","https://i.imgur.com/hPcnvq1.jpg","https://i.imgur.com/r9LkI9w.jpg","https://i.imgur.com/GbhbfwP.jpg","https://i.imgur.com/XKnI5Et.jpg"],midi:"https://www.dropbox.com/s/g1tuprwdp1mxdok/SNES_12.ogg?dl=1",midi_volume:.225},{title:"Kirby's Dream Course",developer:"HAL Laboratory / Nintendo EAD",year:"1994",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Golf with your favorite pink hero through eight courses of Dream Land scenery!","Step up to the tee for the wackiest golf game of your life. This one- or two-player game features a floating golf course in the sky. High above Dream Land, players can pitch and putt the ever-popular puffball, Kirby, through a maze of obstacles on a zany checkerboard course. Players must aim for the multitude of enemies that are spread throughout each fairway. Kirby's Copy Abilities return in this installment, and these must be put to good use in order to complete a level objective. Hit all of the enemies to make them disappear, and the last one becomes the hole. Sink Kirby into the hole to advance to the next stage as you clear all eight courses64 holes in all."],thumbnails:"https://i.imgur.com/mNibKi0.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/01/kirby-dream-course.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAKE.pdf",manual_images:["https://i.imgur.com/DJUjFDf.jpg","https://i.imgur.com/r5x4CfD.jpg","https://i.imgur.com/wSGUFkq.jpg","https://i.imgur.com/xcilYVM.jpg","https://i.imgur.com/SdzctJv.jpg","https://i.imgur.com/KligwtU.jpg","https://i.imgur.com/IiutUjT.jpg","https://i.imgur.com/XgFYdo5.jpg","https://i.imgur.com/ufEdM0z.jpg","https://i.imgur.com/c6qvwaU.jpg","https://i.imgur.com/D2mTLTM.jpg","https://i.imgur.com/YVBGRk7.jpg","https://i.imgur.com/QtNVmIm.jpg","https://i.imgur.com/8EQfgP5.jpg","https://i.imgur.com/tHXxguc.jpg","https://i.imgur.com/EEct5Vz.jpg","https://i.imgur.com/SQWVmPV.jpg","https://i.imgur.com/XDxoKpZ.jpg","https://i.imgur.com/FuiCTLn.jpg","https://i.imgur.com/yoUob4E.jpg","https://i.imgur.com/zKOhmNX.jpg","https://i.imgur.com/VByt7Du.jpg","https://i.imgur.com/duinjJp.jpg","https://i.imgur.com/Z1GqQHd.jpg","https://i.imgur.com/vY7wGHs.jpg","https://i.imgur.com/wIh2hjH.jpg","https://i.imgur.com/Dvbrw06.jpg","https://i.imgur.com/rVOZ3rr.jpg","https://i.imgur.com/8OykC7d.jpg","https://i.imgur.com/KG5i7cD.jpg","https://i.imgur.com/lQt17WH.jpg","https://i.imgur.com/ZVqdNCu.jpg","https://i.imgur.com/WWkYEsf.jpg","https://i.imgur.com/14SgcVW.jpg","https://i.imgur.com/ja7Baxx.jpg","https://i.imgur.com/0XlVTDR.jpg","https://i.imgur.com/kY5arO5.jpg","https://i.imgur.com/xhFzQeu.jpg","https://i.imgur.com/En0fmuV.jpg","https://i.imgur.com/qdeGQ1z.jpg","https://i.imgur.com/TiQybdN.jpg","https://i.imgur.com/0gaHHgc.jpg","https://i.imgur.com/vQQQTzj.jpg","https://i.imgur.com/uVXa4Nr.jpg","https://i.imgur.com/AtijxZX.jpg","https://i.imgur.com/6zj2A7J.jpg","https://i.imgur.com/zOH5QwR.jpg","https://i.imgur.com/vrGro4y.jpg","https://i.imgur.com/SJseOOp.jpg","https://i.imgur.com/3X40ucR.jpg","https://i.imgur.com/SbnrNvL.jpg","https://i.imgur.com/iUatr8U.jpg","https://i.imgur.com/Ah76M22.jpg","https://i.imgur.com/fJQ0cNK.jpg","https://i.imgur.com/GcaPJaJ.jpg","https://i.imgur.com/Gaa8C90.jpg","https://i.imgur.com/5M9LgUp.jpg"],midi:"https://www.dropbox.com/s/s87ccos6vpg01cs/SNES_13.ogg?dl=1",midi_volume:1},{title:"Star Fox",developer:"Nintendo EAD / Argonaut Software",year:"1993",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Lead the Star Fox Team to Victory!","In the distant Lylat star system, imagine yourself at the controls of a futuristic, heavily armed, space fighterArwing. Lead the counter-attack on an invasion force of hundreds of alien tanks, fighter ships, laser gun emplacements and super battleships. Maneuver at warp speed through fog-enshrouded canyons, dense asteroid belts and waves of the enemys best defense. You must use skill and cunning to bring the fight to the enemys home planet Venom and smash the Core Brain for victory!"],thumbnails:"https://i.imgur.com/BQ96mGV.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/star-fox.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SADGE.pdf",manual_images:["https://i.imgur.com/COEs6R6.jpg","https://i.imgur.com/G9iW9hw.jpg","https://i.imgur.com/y8i95sp.jpg","https://i.imgur.com/p6040PM.jpg","https://i.imgur.com/dFmTVzf.jpg","https://i.imgur.com/sAg1Arq.jpg","https://i.imgur.com/qnkY9Gq.jpg","https://i.imgur.com/j0ASndm.jpg","https://i.imgur.com/6BHje3s.jpg","https://i.imgur.com/AIAeUkO.jpg","https://i.imgur.com/IlN0Ecc.jpg","https://i.imgur.com/zEDKLQU.jpg","https://i.imgur.com/8W4imM5.jpg","https://i.imgur.com/feytHtK.jpg","https://i.imgur.com/BcbXqAC.jpg","https://i.imgur.com/ymPcb4c.jpg","https://i.imgur.com/qbiCykW.jpg","https://i.imgur.com/Vq8grHJ.jpg","https://i.imgur.com/EZkXu14.jpg","https://i.imgur.com/P21MEhD.jpg","https://i.imgur.com/RQC2mux.jpg","https://i.imgur.com/xQvkD41.jpg","https://i.imgur.com/4dGtrTi.jpg","https://i.imgur.com/jDm5z0O.jpg","https://i.imgur.com/pc4cprp.jpg","https://i.imgur.com/hKZ4SDC.jpg","https://i.imgur.com/IoGcnOw.jpg","https://i.imgur.com/qDH3aJt.jpg","https://i.imgur.com/Za0Tnhp.jpg","https://i.imgur.com/OIncMa4.jpg","https://i.imgur.com/YEcgvaw.jpg","https://i.imgur.com/67IEo0e.jpg","https://i.imgur.com/VTlJ3Rt.jpg"],midi:"https://www.dropbox.com/s/p6ne1yknnmqb0c0/SNES_14.ogg?dl=1",midi_volume:.8},{title:"Yoshi's Island",developer:"Nintendo EAD",year:"1995",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Play as Yoshi to ground pound and flutter jump your way out of trouble!","Yoshi is back, baby! And hes ready to romp through a crayon-colored world where enemies are everywhere. Prepare to flutter jump and toss eggs to protect young Mario from the evil Magikoopa, Kamek. To save the day, Yoshi and his pals will have to morph into vehicles and even EAT their enemies to turn them into eggs! Umm yum?","Play as Yoshi, carrying a young Mario through enormous, colorful worlds back to his parents in the Mushroom Kingdom. Kameks goons are constantly in pursuit, so stay alert and watch out for the Magikoopas devious traps. Throw eggs, gobble enemies, solve puzzles and even transform into wild vehicles like a helicopter, a submarine, and a mole tank. Is Yoshi up to the momentous task at hand? The fates of Yoshi, Mario, and the future of the Mushroom Kingdom are in your hands. Ground-Pound, flutter jump, and morph your way to victory!"],thumbnails:"https://i.imgur.com/WzEhQBw.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/super-mario-world-2.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SADJE.pdf",manual_images:["https://i.imgur.com/O7t0LFh.jpg","https://i.imgur.com/6y40qdH.jpg","https://i.imgur.com/IfaDiF2.jpg","https://i.imgur.com/2BafXX9.jpg","https://i.imgur.com/DNssflc.jpg","https://i.imgur.com/3BsmkdK.jpg","https://i.imgur.com/wClJNAH.jpg","https://i.imgur.com/gGx8Rcu.jpg","https://i.imgur.com/k2oD3rS.jpg","https://i.imgur.com/PPC3IlY.jpg","https://i.imgur.com/jQmVjDu.jpg","https://i.imgur.com/Jd7e2gH.jpg","https://i.imgur.com/7CZwvpr.jpg","https://i.imgur.com/gsqhvna.jpg","https://i.imgur.com/5F3AQQ6.jpg","https://i.imgur.com/kwtujrr.jpg","https://i.imgur.com/55Tk6Fj.jpg","https://i.imgur.com/5es6GdV.jpg","https://i.imgur.com/O8FgEQE.jpg","https://i.imgur.com/j1FREj6.jpg","https://i.imgur.com/XUl0FDQ.jpg","https://i.imgur.com/AH1T6iR.jpg","https://i.imgur.com/hqdwskT.jpg","https://i.imgur.com/DjbAQ1R.jpg","https://i.imgur.com/c46uL5n.jpg","https://i.imgur.com/ftOsWEl.jpg","https://i.imgur.com/SkMFRoR.jpg","https://i.imgur.com/MdE2sF0.jpg"],midi:"https://www.dropbox.com/s/tugualunitrmikz/SNES_15.ogg?dl=1",midi_volume:.3},{title:"Super Mario RPG: Legend of the Seven Stars",developer:"Square",year:"1996",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Recover the seven stars and repair Star Road in this original Mario RPG!","A mysterious enemy named Smithy has appeared, forcing Mario and Bowser to fight as allies. Journey across a wide variety of locations and tackle a mixture of obstacles that will require both timing and strategy to overcome. Gain experience, grow more powerful, and meet new characters to use their abilities in taking down Smithy and his gang!"],thumbnails:"https://i.imgur.com/RoQkZZz.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/05/super-mario-rpg.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABQE.pdf",manual_images:["https://i.imgur.com/Pcuj2s7.jpg","https://i.imgur.com/DKRKK5T.jpg","https://i.imgur.com/35alVyi.jpg","https://i.imgur.com/79ibMBw.jpg","https://i.imgur.com/pviud0O.jpg","https://i.imgur.com/gyUxOq7.jpg","https://i.imgur.com/Cr9IpVL.jpg","https://i.imgur.com/e01vm5f.jpg","https://i.imgur.com/bs7iRMM.jpg","https://i.imgur.com/pYzSs90.jpg","https://i.imgur.com/qMJ3Vqx.jpg","https://i.imgur.com/9Fzn8NX.jpg","https://i.imgur.com/JpBx5nW.jpg","https://i.imgur.com/sgREndC.jpg","https://i.imgur.com/qEzfmZg.jpg","https://i.imgur.com/K6OGfIw.jpg","https://i.imgur.com/Hi9QdEc.jpg","https://i.imgur.com/BVooX2u.jpg","https://i.imgur.com/BZJmIni.jpg","https://i.imgur.com/jNfBaei.jpg","https://i.imgur.com/erMQQGb.jpg","https://i.imgur.com/WMZW2c8.jpg","https://i.imgur.com/YPTQZmY.jpg","https://i.imgur.com/V4PB5qD.jpg","https://i.imgur.com/DCwjsrx.jpg","https://i.imgur.com/3Qejl4m.jpg","https://i.imgur.com/jApfc2V.jpg","https://i.imgur.com/RbmDkFP.jpg","https://i.imgur.com/mOAmlBM.jpg","https://i.imgur.com/KvXpid8.jpg","https://i.imgur.com/NzUuBKQ.jpg","https://i.imgur.com/ndCAFgQ.jpg","https://i.imgur.com/8jWi4iR.jpg","https://i.imgur.com/exkuiXV.jpg","https://i.imgur.com/I6zofDi.jpg","https://i.imgur.com/WgByBgk.jpg","https://i.imgur.com/PvfqwM1.jpg","https://i.imgur.com/KmSqPdn.jpg","https://i.imgur.com/QGSvzvF.jpg","https://i.imgur.com/rwhNBEU.jpg","https://i.imgur.com/BLjXMXp.jpg","https://i.imgur.com/guMuRtj.jpg","https://i.imgur.com/EevduWW.jpg"],midi:"https://www.dropbox.com/s/1qpexn20kyox1bs/SNES_16.ogg?dl=1",midi_volume:1},{title:"Contra III: The Alien Wars",developer:"Konami",year:"1992",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Two men will rise to the challenge and face the wrath of the alien invaders.","In the year 2636, the alien war continues on and it's up to two soldiers, Bill Rizer and Lance Bean, to put a stop to the alien invasion. The aliens have ravaged the Earth with their powerful organic and technological weapons. Players can join with a partner and battle through 6 stages of non-stop run-and-gun action collecting power-ups including bombs, flamethrowers, spread shots, lasers and machine guns to take out the aliens. Bill and Lance travel through war-torn cities, on air bikes, riding missiles and ultimately into the alien base to defeat the alien boss once and for all"],thumbnails:"https://i.imgur.com/jOWzrUn.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/05/contra-iii.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SACCE.pdf",manual_images:["https://i.imgur.com/kgc1kqU.jpg","https://i.imgur.com/qykrP5D.jpg","https://i.imgur.com/dIpBWn0.jpg","https://i.imgur.com/QDbU7bX.jpg","https://i.imgur.com/USyjrnE.jpg","https://i.imgur.com/Oje6U8t.jpg","https://i.imgur.com/1l9SNfi.jpg","https://i.imgur.com/7Q2vD2x.jpg","https://i.imgur.com/93zzRWS.jpg","https://i.imgur.com/swxgvdL.jpg","https://i.imgur.com/gaNJQOA.jpg","https://i.imgur.com/EaPlNRr.jpg","https://i.imgur.com/nz4u38Q.jpg","https://i.imgur.com/NmbAzGN.jpg","https://i.imgur.com/cslfVuz.jpg","https://i.imgur.com/UNWruHp.jpg","https://i.imgur.com/a8sHHWR.jpg"],midi:"https://www.dropbox.com/s/yrl1jst4598130p/SNES_17.ogg?dl=1",midi_volume:.4},{title:"Secret of Mana",developer:"Square",year:"1993",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Good and Evil battle for a young warriors heart.","There is one force in the universe that keeps good and evil in perfect balance. It is called the tree of Mana. But a magic sword has tricked a young warrior into upsetting this balance, spreading evil throughout the land. Thus, the warrior must undertake a dangerous journey to find the seeds of the Mana tree which have been hidden for centuries. Only then can perfect harmony be restored.","In this incredible adventure, things are not as they seem. Magic swords release evil as well as fight it. Treasure chests hold booby traps. Monsters are friends and friends are enemies. Potions give power, black magic takes it away. Dragons fly, weapons change. Its a world turned upside down that you must help the warrior make right. And the only way to succeed is to solve the Secret of Mana."],thumbnails:"https://i.imgur.com/lugr2SN.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/secret-of-mana.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABRE.pdf",manual_images:["https://i.imgur.com/T5B6z30.jpg","https://i.imgur.com/5QEzBcF.jpg","https://i.imgur.com/k7SiQyV.jpg","https://i.imgur.com/8wgEkBo.jpg","https://i.imgur.com/J3EQ7bG.jpg","https://i.imgur.com/bHt4N0l.jpg","https://i.imgur.com/5z6JlU8.jpg","https://i.imgur.com/4N0I0Z1.jpg","https://i.imgur.com/DImHhX1.jpg","https://i.imgur.com/pEW1Ict.jpg","https://i.imgur.com/ApsOVbx.jpg","https://i.imgur.com/uTIczUy.jpg","https://i.imgur.com/bReJpbj.jpg","https://i.imgur.com/88kpkTV.jpg","https://i.imgur.com/wVxyzZA.jpg","https://i.imgur.com/1gzu4ku.jpg","https://i.imgur.com/mfZh24L.jpg","https://i.imgur.com/Bi8opzG.jpg","https://i.imgur.com/gr77teC.jpg","https://i.imgur.com/ABnqzLF.jpg","https://i.imgur.com/nkBWMoG.jpg","https://i.imgur.com/mi5sPAG.jpg","https://i.imgur.com/r7RV6JP.jpg","https://i.imgur.com/ajgyPOw.jpg","https://i.imgur.com/XHVnIYI.jpg","https://i.imgur.com/u2rdgvW.jpg","https://i.imgur.com/qboBxlu.jpg","https://i.imgur.com/ouHLIAW.jpg","https://i.imgur.com/xHWGJO8.jpg","https://i.imgur.com/0LdqalD.jpg","https://i.imgur.com/RsLdVhW.jpg","https://i.imgur.com/vuXPP1J.jpg","https://i.imgur.com/fE3vXlV.jpg","https://i.imgur.com/kU5OewG.jpg","https://i.imgur.com/SbC79js.jpg","https://i.imgur.com/bHgvy5Y.jpg","https://i.imgur.com/LwdAOGJ.jpg","https://i.imgur.com/HcMw0d9.jpg","https://i.imgur.com/YUsvvqQ.jpg","https://i.imgur.com/IfsuG5k.jpg","https://i.imgur.com/zZSsKQ0.jpg","https://i.imgur.com/AdTUXlX.jpg","https://i.imgur.com/EYH7CZz.jpg","https://i.imgur.com/K0zGyWD.jpg","https://i.imgur.com/5XimjA3.jpg","https://i.imgur.com/rJ20Xvj.jpg","https://i.imgur.com/HkMQxZr.jpg","https://i.imgur.com/Muvb0sO.jpg","https://i.imgur.com/ufPDpF6.jpg","https://i.imgur.com/CVdSexR.jpg","https://i.imgur.com/SRlCHBQ.jpg","https://i.imgur.com/7pMKarY.jpg","https://i.imgur.com/YiKe4j9.jpg","https://i.imgur.com/lnCYB3i.jpg","https://i.imgur.com/Zk0Xjjy.jpg","https://i.imgur.com/7EhU8sg.jpg","https://i.imgur.com/WcArSna.jpg","https://i.imgur.com/AzWYDUW.jpg","https://i.imgur.com/vK2zsOw.jpg","https://i.imgur.com/nLxCxrX.jpg","https://i.imgur.com/rrHVOfu.jpg","https://i.imgur.com/9uvMxrQ.jpg","https://i.imgur.com/w3UV2gg.jpg","https://i.imgur.com/7SJueYk.jpg","https://i.imgur.com/gYLezQn.jpg"],midi:"https://www.dropbox.com/s/8khu0mfh2kpmthl/SNES_18.ogg?dl=1",midi_volume:.8},{title:"EarthBound",developer:"Ape / HAL Laboratory",year:"1994",system:"Super Nintendo Entertainment System",sysID:"snes",description:["Bizarre aliens roam the Earth! Can four average kids save the world from certain destruction?","Intergalactic terror strikes the small town of Onett as a blazing extraterrestrial object crashes in the night! The Earth now faces imminent destruction by the universal evil threat, Giygas. A courageous boy named Ness and his three friends vow to save the planet from hideous destruction. Battle hundreds of off-the-wall monsters, roaming dinosaurs, and alien enemies. Explore exotic locations like Saturn Valley, Dusty Dunes Desert, and Deep Darkness. The ultimate test lies in the impending encounter with the all-powerful Giygas!"],thumbnails:"https://i.imgur.com/vHzYCWx.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/05/earthbound.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SAAJE.pdf",manual_images:["https://i.imgur.com/NCQpUHY.jpg","https://i.imgur.com/xuMg7lv.jpg","https://i.imgur.com/j3C0G1p.jpg","https://i.imgur.com/VA3THpN.jpg","https://i.imgur.com/hM6s0ge.jpg","https://i.imgur.com/Ad0qYjN.jpg","https://i.imgur.com/ea02Rkd.jpg","https://i.imgur.com/X52b39j.jpg","https://i.imgur.com/ekFgOqJ.jpg","https://i.imgur.com/qxVVwmN.jpg","https://i.imgur.com/KEpzctF.jpg","https://i.imgur.com/jMmsjwY.jpg","https://i.imgur.com/be6vZwv.jpg","https://i.imgur.com/pM17tNQ.jpg","https://i.imgur.com/WiD92f2.jpg","https://i.imgur.com/rwTCYfR.jpg","https://i.imgur.com/BfYYbSk.jpg","https://i.imgur.com/3r37NCQ.jpg","https://i.imgur.com/jFjL1Oi.jpg","https://i.imgur.com/hC0Px22.jpg","https://i.imgur.com/leH93fG.jpg","https://i.imgur.com/MkyWS4K.jpg","https://i.imgur.com/t2it0Df.jpg","https://i.imgur.com/LjMMwqy.jpg","https://i.imgur.com/X7Bf20z.jpg","https://i.imgur.com/mhpZcMK.jpg","https://i.imgur.com/MyauSBO.jpg","https://i.imgur.com/H5ecjna.jpg","https://i.imgur.com/DAHzkxV.jpg","https://i.imgur.com/K02LZmw.jpg","https://i.imgur.com/Ms3XAfm.jpg","https://i.imgur.com/4HxMOr5.jpg","https://i.imgur.com/pDFCcSF.jpg","https://i.imgur.com/1Mxdxwb.jpg","https://i.imgur.com/HEGukQn.jpg","https://i.imgur.com/r3zsnHj.jpg","https://i.imgur.com/h2Feint.jpg","https://i.imgur.com/2EQfwei.jpg","https://i.imgur.com/mCMIisK.jpg","https://i.imgur.com/qQldSrp.jpg","https://i.imgur.com/jbrIwvu.jpg","https://i.imgur.com/2qmQFQx.jpg","https://i.imgur.com/wecGok6.jpg","https://i.imgur.com/qkB4rbv.jpg","https://i.imgur.com/1u1l2Bm.jpg","https://i.imgur.com/SympSDX.jpg","https://i.imgur.com/j3pwORT.jpg","https://i.imgur.com/uuStvOu.jpg","https://i.imgur.com/Spf8zXr.jpg","https://i.imgur.com/aagXtmA.jpg","https://i.imgur.com/1mYfdbe.jpg","https://i.imgur.com/S8OnTug.jpg","https://i.imgur.com/iSY7Adh.jpg","https://i.imgur.com/Q9YDsqw.jpg","https://i.imgur.com/4q3W77C.jpg","https://i.imgur.com/Io2vQGc.jpg","https://i.imgur.com/G7P8SRc.jpg","https://i.imgur.com/N7qUR67.jpg","https://i.imgur.com/QYKteVp.jpg","https://i.imgur.com/PrMnJZ5.jpg","https://i.imgur.com/tgeq42m.jpg","https://i.imgur.com/N4dRitw.jpg","https://i.imgur.com/zvWoJm5.jpg","https://i.imgur.com/2VNnZ77.jpg","https://i.imgur.com/bzFWZBT.jpg","https://i.imgur.com/tUkqniT.jpg","https://i.imgur.com/uhOwn6t.jpg","https://i.imgur.com/pEwK4e8.jpg","https://i.imgur.com/pmN2R11.jpg","https://i.imgur.com/5NEKoRe.jpg","https://i.imgur.com/vl4Z83n.jpg","https://i.imgur.com/9I8n5FG.jpg","https://i.imgur.com/WbCmwuf.jpg","https://i.imgur.com/iLSxxWV.jpg","https://i.imgur.com/JhdtbWp.jpg","https://i.imgur.com/GT5E3WQ.jpg","https://i.imgur.com/93hTdLU.jpg","https://i.imgur.com/3Hoj2kL.jpg","https://i.imgur.com/lCZmvgl.jpg","https://i.imgur.com/7hUqXB4.jpg","https://i.imgur.com/CCpzAGM.jpg","https://i.imgur.com/vCkj9Jk.jpg","https://i.imgur.com/BJyBFgt.jpg","https://i.imgur.com/CbqND3D.jpg","https://i.imgur.com/0KddHAj.jpg","https://i.imgur.com/2NdbA41.jpg","https://i.imgur.com/xgbbAwH.jpg","https://i.imgur.com/IHmwy7T.jpg","https://i.imgur.com/mwXhKOo.jpg","https://i.imgur.com/JvUi9Rq.jpg","https://i.imgur.com/dA7666v.jpg","https://i.imgur.com/My3k7C5.jpg","https://i.imgur.com/cVsBBLp.jpg","https://i.imgur.com/Y4OFjx1.jpg","https://i.imgur.com/QAPGtbj.jpg","https://i.imgur.com/W44gOfv.jpg","https://i.imgur.com/l7WKdpj.jpg","https://i.imgur.com/Qkhb5Mt.jpg","https://i.imgur.com/wxpe7vD.jpg","https://i.imgur.com/ctqUmiU.jpg","https://i.imgur.com/Vfk6YOG.jpg","https://i.imgur.com/Bvncejz.jpg","https://i.imgur.com/cEpvHUF.jpg","https://i.imgur.com/VzeaXRD.jpg","https://i.imgur.com/UcQXBUl.jpg","https://i.imgur.com/U1WLjcJ.jpg","https://i.imgur.com/MOieLJd.jpg","https://i.imgur.com/sGzMMA2.jpg","https://i.imgur.com/GzO0DsI.jpg","https://i.imgur.com/DYjflIG.jpg","https://i.imgur.com/XGGoPtn.jpg","https://i.imgur.com/10e8t4X.jpg","https://i.imgur.com/0b7OEwJ.jpg","https://i.imgur.com/H93YcQq.jpg","https://i.imgur.com/zWbIxQt.jpg","https://i.imgur.com/Xf9xcpM.jpg","https://i.imgur.com/XDbCyFZ.jpg","https://i.imgur.com/Hf0J8kM.jpg","https://i.imgur.com/CiUwlCZ.jpg","https://i.imgur.com/QNkAkxF.jpg","https://i.imgur.com/NR1BR81.jpg","https://i.imgur.com/jQMcF3p.jpg","https://i.imgur.com/o53glFL.jpg","https://i.imgur.com/StoQV8N.jpg","https://i.imgur.com/TQ93aV9.jpg","https://i.imgur.com/hM7Pwfa.jpg","https://i.imgur.com/KavMa8t.jpg","https://i.imgur.com/TMT5lVe.jpg","https://i.imgur.com/u5P3SPg.jpg","https://i.imgur.com/P8RgXBr.jpg","https://i.imgur.com/I1hwqlH.jpg","https://i.imgur.com/DoTZVaZ.jpg","https://i.imgur.com/wFemPjd.jpg","https://i.imgur.com/GBYyid5.jpg","https://i.imgur.com/YLipRCX.jpg"],midi:"https://www.dropbox.com/s/d70ltg011fugr4m/SNES_19.ogg?dl=1",midi_volume:1},{title:"Super Ghouls n Ghosts",developer:"Capcom",year:"1991",system:"Super Nintendo Entertainment System",sysID:"snes",description:["The third game in the legendary Ghosts 'n Goblins series of video games, Super Ghouls 'n Ghosts follows Arthur in another quest to rescue the princess, his fair maiden and damsel in distress at large.","Players take control of Arthur and defeat the creatures of the night to save the day once more. Discover what glory awaits those brave enough to take on the armies of Super Ghouls 'n Ghosts."],thumbnails:"https://i.imgur.com/XQTxdB5.png",hostName:"ArcadeSpot",hostImage:"host_arcadespot.png",rom:"//static.arcadespot.com/wp-content/uploads/2016/08/super-ghouls-n-ghosts.smc",manual:"https://www.nintendo.co.jp/clvs/manuals/common/pdf/CLV-P-SABDE.pdf",manual_images:["https://i.imgur.com/IQnEerw.jpg","https://i.imgur.com/K770KVr.jpg","https://i.imgur.com/KkaOrKt.jpg","https://i.imgur.com/SuW6csS.jpg","https://i.imgur.com/cwvNb8h.jpg","https://i.imgur.com/AbgO8Nl.jpg","https://i.imgur.com/NTmX8a1.jpg","https://i.imgur.com/xjkgFZA.jpg","https://i.imgur.com/N1TYRRX.jpg","https://i.imgur.com/2zrV2Ln.jpg","https://i.imgur.com/dKzLMM7.jpg","https://i.imgur.com/kfR0nTm.jpg","https://i.imgur.com/mPyNNwj.jpg","https://i.imgur.com/1jBIsI9.jpg","https://i.imgur.com/4nyYFrS.jpg","https://i.imgur.com/zW5NXDN.jpg","https://i.imgur.com/1CqZPJq.jpg","https://i.imgur.com/gvkdbGj.jpg","https://i.imgur.com/DAPr5Hr.jpg","https://i.imgur.com/uPkUK2B.jpg","https://i.imgur.com/TDXiGCW.jpg","https://i.imgur.com/FaFfN6G.jpg","https://i.imgur.com/nidU1wh.jpg","https://i.imgur.com/r2OQXra.jpg","https://i.imgur.com/PpoyU7Z.jpg"],midi:"https://www.dropbox.com/s/x53xxxl5osc0mzy/SNES_20.ogg?dl=1",midi_volume:.35}],RETRO_INPUT_KB=1,RETRO_KEY_START=3,RETRO_KEY_SELECT=2,RETRO_KEY_UP=4,RETRO_KEY_DOWN=5,RETRO_KEY_LEFT=6,RETRO_KEY_RIGHT=7,RETRO_KEY_Y=1,RETRO_KEY_B=0,RETRO_KEY_A=8,RETRO_KEY_X=9,RETRO_KEY_L=10,RETRO_KEY_R=11,RetroLoaderConfig={divId:"retroGameContainer",controls:{0:{[RETRO_KEY_START]:{type:RETRO_INPUT_KB,index:"0",value:"13"},[RETRO_KEY_SELECT]:{type:RETRO_INPUT_KB,index:"0",value:"16"},[RETRO_KEY_UP]:{type:RETRO_INPUT_KB,index:"0",value:"38"},[RETRO_KEY_DOWN]:{type:RETRO_INPUT_KB,index:"0",value:"40"},[RETRO_KEY_LEFT]:{type:RETRO_INPUT_KB,index:"0",value:"37"},[RETRO_KEY_RIGHT]:{type:RETRO_INPUT_KB,index:"0",value:"39"},[RETRO_KEY_A]:{type:RETRO_INPUT_KB,index:"0",value:"88"},[RETRO_KEY_Y]:{type:RETRO_INPUT_KB,index:"0",value:"83"},[RETRO_KEY_B]:{type:RETRO_INPUT_KB,index:"0",value:"90"},[RETRO_KEY_X]:{type:RETRO_INPUT_KB,index:"0",value:"67"},[RETRO_KEY_L]:{type:RETRO_INPUT_KB,index:"0",value:"65"},[RETRO_KEY_R]:{type:RETRO_INPUT_KB,index:"0",value:"68"}}}}
class MSLAppGameLibrary{constructor(a,b,c){this.gameDescrScroll=a,this.gameManualScroll=c,this.tabs=b,this.gameList=$("#gameList"),this.$title=$("#gameSelectionInfo > header > h1"),this.$developer=$("#gameSelectionInfo > header > h2"),this.$system=$("#gameSelectionInfo > header > h3"),this.$host=$("#gameSelectionInfo > header > h4"),this.$description=$("#tabGameAboutContent"),this.$playButton=$("#gamePlayButton"),this.data=MSLAppGamesData,this.timeLastGameOpened,this.currentAudio=null,this.audioMuted=!1;for(let a=0;a<this.data.length;++a)"undefined"==typeof this.data[a].audioObject&&(this.data[a].audioObject=new Audio(this.data[a].midi),this.data[a].audioObject.volume=.15*this.data[a].midi_volume,this.data[a].audioObject.loop=!0)}Render(){const a=this;a.gameList.empty();for(let c=0;c<a.data.length;++c){const b=$(document.createElement("div"));b.css("background-position-x","0px"),b.css("background-image","url('"+a.data[c].thumbnails+"')"),b.attr("gameid",c),b[0].onselect=function(){a.audioMuted||a.data[c].audioObject.play(),a.currentAudio=a.data[c].audioObject},b[0].ondeselect=function(){a.data[c].audioObject.pause(),a.data[c].audioObject.currentTime=0,a.currentAudio=null},b[0].slide=function(){const a=$(this);a.stop(!1,!0);let b=parseInt(a.css("background-position-x")),c=parseInt(a.css("width"));b=Math.round(b/c)*c-c,a.animate({"background-position-x":b+"px"},{always:function(){const a=this;"undefined"!=typeof this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=setTimeout(function(){a.slide()},2e3)}})},b[0].slideStop=function(){const a=$(this);if(a.stop(!1,!0),"undefined"!=typeof this.slideTimeout&&this.slideTimeout!=null)clearTimeout(this.slideTimeout),this.slideTimeout=null;else return;let b=new Image;b.src=a.css("background-image").replace(/url\(\"|\"\)$/ig,""),b=b.width;let c=parseInt(a.css("background-position-x")),d=parseInt(a.css("width")),e=Math.round(b/d),f=Math.round(c/d);c-=f%e*d,a.stop().animate({"background-position-x":c+"px"},{always:function(){a.css("background-position-x","0px")}})},a.gameList.append(b),c==0&&a.Select(b),b.on("click",function(){a.Select($(this))})}this.$playButton.on("click",function(){const b=$(this).attr("gameid");if(b===void 0||a.data.length<b)return;a.timeLastGameOpened=new Date,MSLAppManager.load("gamesPlay",{gameID:b},!1)})}Select(b){if(b.hasClass("selected"))return;b.parent().children().each(function(){this.ondeselect(),this.slideStop(),$(this).removeClass("selected")}),b.addClass("selected"),b[0].onselect(),b[0].slide();const a=b.attr("gameid");this.$playButton.attr("gameid",a),this.$title.text(this.data[a].title).css("font-size",""),this.$developer.text(this.data[a].developer+" ("+this.data[a].year+")").css("font-size",""),this.$system.text(this.data[a].system).css("font-size",""),this.$host.html("Hosted By: <img src='/images/apps/games/"+this.data[a].hostImage+"' title='Hosted By: "+this.data[a].hostName+"' alt='"+this.data[a].hostName+"' />");const c=function(a){let b=a[0].clientWidth/a[0].scrollWidth;b<1&&a.css("font-size",parseInt(a.css("font-size"))*b)};c(this.$title),c(this.$developer),c(this.$system),this.$description.children().remove();for(let b=0;b<this.data[a].description.length;++b){const c=$(document.createElement("p"));c.text(this.data[a].description[b]),this.$description.append(c)}this.tabs.Switch("tabGameAbout"),this.gameDescrScroll.UpdateVisibility();const d=$("#tabGameManualContent");d.empty();for(let c=0;c<this.data[a].manual_images.length;++c){const b=$(document.createElement("div"));d.append(b),new Promise((d,e)=>{const b=new Image;b.addEventListener("load",function(){d(b)}),b.addEventListener("error",function(){e()}),b.src=this.data[a].manual_images[c]}).then(function(a){var d=$(a),c;d.addClass("unselectable"),b.append(d),a.naturalWidth/a.naturalHeight>=.7&&(c=$(document.createElement("div")),c.css("background-image","url('"+a.currentSrc+"')"),b.on("mousemove",function(b){c.css("background-position",-(b.offsetX/a.clientWidth*(a.naturalWidth-a.clientWidth))+"px "+-(b.offsetY/a.clientHeight*(a.naturalHeight-a.clientHeight))+"px"),c.show(0)}),b.on("mouseleave",function(){c.hide(0)}),b.append(c))}).catch(function(c){var a=$(document.createElement("img"));a.addClass("unselectable"),a.attr("src","/images/apps/adult/artwork_unavailable.png"),b.append(a)})}}}var MSLAppGames=function(){var f,g,e,b,c,j,a,h,d;const i="MSLAppGames";h=!1,d=null;function k(){$("#underlay > #videoBackground").css("backgroundColor","#3b7db8"),$("#underlay > #videoBackground").css("mix-blend-mode","normal")}function l(){$("#underlay > *").css("display","none"),$("#underlay > #gameAnimatedBackground").css("display","block"),$("body > section").css("display","none"),$("section#"+i+"").fadeIn(),h||(a.Render(),h=!0),e.UpdateVisibility(),b.UpdateVisibility(),c.UpdateVisibility();let f=0,g=0;const j=$("#underlay > #gameAnimatedBackground > div")[0];d=setInterval(function(){f+=.2,g+=.001,j.style.backgroundPositionX=f+"px",j.style.backgroundPositionY=-270+230*Math.sin(g)+"px"},10)}function p(){a.currentAudio!=null&&(a.currentAudio.pause(),a.currentAudio.currentTime=0),$("#underlay > *").css("display","block"),$("#underlay > #gameAnimatedBackground").css("display","none"),$("section#"+i+"").css("display","none"),d!=null&&(clearInterval(d),d=null)}function o(){f=!1,j=$("#gameList"),e=new UndockedScrollbar($("#gameList"),$("#gameListScroll")),b=new UndockedScrollbar($("#tabGameAboutContent"),$("#tabGameAboutScroll")),c=new UndockedScrollbar($("#tabGameManualContent"),$("#tabGameManualScroll")),g=new TabManager($("#gameSelectionInfo > nav > div"),$("#gameSelectionInfo > article"),"tabGameAbout",function(a,f){const d=$("#gameSelectionInfo > header");a=="tabGameControls"||a=="tabGameManual"?d.slideUp(200):d.slideDown(200),b.Reset(),c.Reset(),e.UpdateVisibility(),b.UpdateVisibility(),c.UpdateVisibility()}),a=new MSLAppGameLibrary(b,g,c),$(".gameControllerMap > input").on("keyup",function(a){const b=$(this);switch(a.which){case 38:a.key="";break;case 40:a.key="";break;case 37:a.key="";break;case 39:a.key="";break}b.attr("key",a.which),b.attr("value",a.key)}),$("#snesControllerMap > *").on("mouseenter",function(){const a=typeof this.attributes.for!="undefined"?this.attributes.for.value:this.id;switch(a){case"snesControlUp":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("up");break;case"snesControlDown":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("down");break;case"snesControlLeft":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("left");break;case"snesControlRight":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("right");break;case"snesControlLeftBumper":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("leftbumper");break;case"snesControlRightBumper":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("rightbumper");break;case"snesControlA":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("a");break;case"snesControlB":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("b");break;case"snesControlX":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("x");break;case"snesControlY":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("y");break;case"snesControlStart":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("start");break;case"snesControlSelect":$("#gameControllerImage > .hl").removeClass().addClass("hl").addClass("select");break}}),$("#snesControllerMap > *").on("mouseleave",function(){$("#gameControllerImage > .hl").removeClass().addClass("hl")}),$("#statusGameLobbyMute").on("click",function(){const b=$(this);b.hasClass("muted")?(b.removeClass("muted"),a.audioMuted=!1,a.currentAudio!=null&&a.currentAudio.play(),Cookies.remove("statusGameLobbyMute")):(b.addClass("muted"),a.audioMuted=!0,a.currentAudio!=null&&(a.currentAudio.pause(),a.currentAudio.currentTime=0),Cookies.set("statusGameLobbyMute",1,{expires:90}))}),Cookies.get("statusGameLobbyMute")!==void 0?($("#statusGameLobbyMute").addClass("muted"),a.audioMuted=!0):($("#statusGameLobbyMute").removeClass("muted"),a.audioMuted=!1)}function n(a){}function m(a,b){a="undefined"!=typeof a?a:{},b="undefined"!=typeof b&&b,f=!0,k(),n(a,!0),l()}function q(){f||m(),k(),l()}function r(){p()}return{init:o,preload:n,load:m,open:q,close:r,getTimeOpened:function(){return typeof a.timeLastGameOpened!="undefined"&&a.timeLastGameOpened!==null?a.timeLastGameOpened.getTime():null}}}();MSLAppManager.register("games",MSLAppGames,!0)
var MSLAppGamesPlay=function(){var b,a,c;const g="MSLAppGamesPlay";function e(){$("#underlay > #videoBackground").css("backgroundColor","#323232"),$("#underlay > #videoBackground").css("mix-blend-mode","overlay")}function f(){$("body > section").css("display","none"),$("section#"+g+"").fadeIn()}function i(){$("section#"+g+"").css("display","none")}function j(){b=!1,a=MSLAppGamesData,c=retroInit()}function d(a){}function h(g,h){g="undefined"!=typeof g?g:{},h="undefined"!=typeof h&&h;let i=null;switch(a[g.gameID].sysID){case"snes":i=k();break}startGame(c,{sys:a[g.gameID].sysID,rom:a[g.gameID].rom,controls:i}),b=!0,e(),d(g,!0),f()}function k(){return{0:{[RETRO_KEY_UP]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlUp").attr("key")},[RETRO_KEY_DOWN]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlDown").attr("key")},[RETRO_KEY_LEFT]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlLeft").attr("key")},[RETRO_KEY_RIGHT]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlRight").attr("key")},[RETRO_KEY_Y]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlY").attr("key")},[RETRO_KEY_X]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlX").attr("key")},[RETRO_KEY_A]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlA").attr("key")},[RETRO_KEY_B]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlB").attr("key")},[RETRO_KEY_START]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlStart").attr("key")},[RETRO_KEY_SELECT]:{type:RETRO_INPUT_KB,index:"0",value:$("#snesControlSelect").attr("key")}}}}function l(){b||h(),e(),f()}function m(){i()}return{init:j,preload:d,load:h,open:l,close:m}}();MSLAppManager.register("gamesPlay",MSLAppGamesPlay,!0)
var MSLAppBookmark=function(){var j=null,b=null,c,a,e;function f(){$("#underlay > #videoBackground").css("backgroundColor","#000"),$("#underlay > #videoBackground").css("mix-blend-mode","color"),$("#underlay > #videoBackground").css("opacity",1),$("#underlay > video").css("filter","brightness(0.3)"),$("#underlay > video").css("-webkit-filter","brightness(0.3)")}function d(d,c){if(c="undefined"==typeof c||c,!MSLGlobals.isOwner&&MSLGlobals.isLocked&&c){MSLGlobals.Audio.play("denied");return}if(a.children().hide(),d=="BOOKMARK_ADD"){a.children(".websiteAddStep1").show(),$("#MSLAppBookmarkInName").val(""),$("#MSLAppBookmarkInWebsiteURL").val(""),$("#MSLAppBookmarkInWebsiteURLError").text(MSLGlobals.isOwner?"":"Sorry, only TV owners may add an website.");return}if(d=="BOOKMARK_DELETE"){a.children(".websiteDelete").show(),$("#MSLAppBookmarkWebsiteDeleteError").removeClass("ok").text("");return}if(b.hasAny()){a.children("#bookmarkList").show();return}a.children(".websiteListEmpty").show()}function h(){$("body > section").css("display","none"),$("section#MSLAppBookmark").fadeIn();var a=$("#MSLAppBookmark > header > div.navBack");a.addClass("disabled"),d(null,!1)}function m(){$("section#MSLAppBookmark").css("display","none")}function l(){e=!1,c=0,j=new MSLHistory($("section#MSLAppBookmark")),a=$("#MSLAppBookmark > main"),b=new GridMenu($("#bookmarkList"),$("#bookmarkPages"),3,8),$(".MSLAppBookmarkAddWebsite").click(function(a){MSLAppBookmark.showPage("BOOKMARK_ADD",!1)}),$("#MSLAppBookmarkInName").on("input propertychange paste",function(b){var a=$(this).val();a.length==0?$("#MSLAppBookmarkInNameError").removeClass("ok").text("Enter a name for your bookmark"):a.length>60?$("#MSLAppBookmarkInNameError").removeClass("ok").text("Bookmark name can't be more than 60 characters long"):$("#MSLAppBookmarkInNameError").addClass("ok").text("Bookmark name is valid")}),$("#MSLAppBookmarkInWebsiteURL").on("input propertychange paste",function(c){var b=document.createElement("a"),a=$(this).val();a.substr(0,4)!="http"&&(a="http://"+a),b.href=a,b.hostname.length==0?$("#MSLAppBookmarkInWebsiteURLError").removeClass("ok").text("Enter a valid website URL."):$("#MSLAppBookmarkInWebsiteURLError").addClass("ok").text("Websites recognized, press SUBMIT to add this bookmark.")}),$(".MSLAppBookmarkSearchCtrl").on("input propertychange paste",function(a){b.render()}),$("#MSLAppBookmark #cancel").click(function(a){MSLAppBookmark.showPage(null,!1)}),$("#MSLAppBookmark .websiteAddStep1 #submit").click(function(a){$("#MSLAppBookmarkInWebsiteURLError").addClass("ok").text("Adding bookmark..."),$.ajax({method:"POST",url:"json/bookmarkAdd.php",data:{uuid:MSLGlobals.uuid,url:encodeURIComponent($("#MSLAppBookmarkInWebsiteURL").val()),name:$("#MSLAppBookmarkInName").val()}}).done(function(a){if(a=JSON.parse(a),a.status==200)$("#MSLAppBookmarkInWebsiteNameError").addClass("ok").text("Website has been added!"),MSLAppManager.load("bookmark");else{var b="Unknown error ("+a.status+")";switch(a.status){case 401:b="Only the owner may add bookmarks";break;case 406:b="Website does not exist";break}$("#MSLAppBookmarkInWebsiteURLError").removeClass("ok").text(b)}})}),$("#MSLAppBookmark .websiteDelete #submit").click(function(a){$("#MSLAppBookmarkWebsiteDeleteError").addClass("ok").text("Deleting bookmark."),$.ajax({method:"POST",url:"json/bookmarkDelete.php",data:{uuid:MSLGlobals.uuid,website:$("#MSLAppBookmarkDeleteWebsiteID").val()}}).done(function(a){a=JSON.parse(a),a.status==204?($("#MSLAppBookmarkWebsiteDeleteError").addClass("ok").text("Bookmark has been deleted."),MSLAppManager.load("bookmark")):$("#MSLAppBookmarkWebsiteDeleteError").removeClass("ok").text("An error occured while attempting to delete the bookmark.")})})}function k(a){a="undefined"!=typeof a?a:0,$.ajax({method:"GET",url:"json/bookmarkFetch.php?uuid="+MSLGlobals.uuid}).done(function(c){var e,f,j,g,a,k,h,l,m,i;if(c=JSON.parse(c),c.status==200){b.clearCollection();for(e=0;e<c.data.websiteCount;e++)f=$(document.createElement("div")),f.addClass("bookmark"),!MSLGlobals.isOwner&&MSLGlobals.isLocked?f.attr("onclick","MSLGlobals.Audio.play( 'denied' );"):f.attr("onclick","window.location='"+c.data.websites[e].URL+"'"),j=$(document.createElement("div")),j.addClass("icon"),g=$(document.createElement("div")),c.data.websites[e].Icon!=null&&c.data.websites[e].Icon.length>0?(g.css("backgroundImage","url('"+c.data.websites[e].Icon+"')"),g.css("backgroundSize","contain")):(g.css("backgroundImage","url('../images/icon-bookmark.png')"),g.css("backgroundColor","#373737")),j.append(g),f.append(j),a=c.data.websites[e].URL,a=a.replace("http://",""),a=a.replace("https://",""),a=a.replace("www.",""),a.slice(-1)=="/"&&(a=a.slice(0,-1)),k=a.indexOf("?"),k!=-1&&(a=a.slice(0,k)),h=$(document.createElement("div")),h.addClass("text"),l=$(document.createElement("h5")).text(c.data.websites[e].Name),m=$(document.createElement("p")).text(a),h.append(l),h.append(m),f.append(h),MSLGlobals.isOwner&&(i=$(document.createElement("div")),i.addClass("delete"),i.attr("websiteid",c.data.websites[e].ID),i.on("click",function(){return $("#MSLAppBookmarkDeleteWebsiteID").val($(this).attr("websiteid")),MSLAppBookmark.showPage("BOOKMARK_DELETE",!1),event.stopPropagation(),!1}),f.append(i)),b.addItem(f);b.render(),d(null,!1)}})}function g(a){"undefined"!=typeof a.selected&&(c=a.selected)}function i(a,b){a="undefined"!=typeof a?a:{},b="undefined"!=typeof b&&b,e=!0,f(),g(a,!0),k(c),c=0,h()}function n(){e||i(),f(),h()}function o(){m()}return{init:l,preload:g,load:i,open:n,close:o,showPage:d,back:function(){}}}();MSLAppManager.register("bookmark",MSLAppBookmark,!0)
var MSLAppSettings=function(){var b=null,q=null,d;function o(){}function l(){$("body > section").css("display","none"),$("section#MSLAppSettings > main > section").css("display","none"),$("section#MSLAppSettings > main > section#SettingsMenu").css("display","block"),$("section#MSLAppSettings").css("backgroundColor","transparent"),$("section#MSLAppSettings").fadeIn()}function E(){$("section#MSLAppSettings").css("backgroundColor","transparent"),$("section#MSLAppSettings").css("display","none"),c()}function D(){d=!1,$(".SettingsSelection > .prev").on("click",function(){r($(this),-1)}),$(".SettingsSelection > .next").on("click",function(){r($(this),1)}),$(".SettingsInput > .save").on("click",function(){x($(this))}),$(".SettingsInput > div.value > select").on("change",function(){w($(this))}),$("#inputCustomBackground").on("keyup",function(){$("#SettingsMenuCustomBackground .save").addClass("changes")}),$("#inputHomepage").on("keyup",function(){$("#SettingsMenuHomePage .save").addClass("changes")}),$("section#SettingsMenu > ul > li").on("mouseenter",function(){const a=$(this).attr("tooltip");a&&($("#SettingsMenuToolTip > p").html(a),$("#SettingsMenuToolTip").stop().fadeTo(150,1),$("#SettingsMenuToolTip > p").stop().fadeIn(150))}),$("section#SettingsMenu > ul > li").on("mouseleave",function(){$("#SettingsMenuToolTip").stop().fadeTo(150,0),$("#SettingsMenuToolTip > p").stop().fadeOut(150,function(){$("#SettingsMenuToolTip > p").html("")})})}function C(a){}function i(a,b){d=!0,o(),m(),l()}function B(){d||i(),o(),l()}function A(){E()}function a(){$("section#MSLAppSettings > header > div.navBack").css("opacity",1),$("section#MSLAppSettings > header > div.navBack").css("cursor","pointer")}function m(){$("section#MSLAppSettings > header > div.navBack").addClass("disabled"),$("section#MSLAppSettings > header > div.navBack").css("cursor","auto")}function n(){$doc=$("html, body"),b===null&&(b=$doc.css("height"),q=$("section#MSLAppSettings > main").css("height")),$("html, body").css("height","100%"),$("section#MSLAppSettings > main").css("height",""),$("section#MSLAppSettings").css("overflow-y","auto")}function c(){if(b===null)return;$("html, body").css("height",b),$("section#MSLAppSettings").css("overflow-y",""),$("section#MSLAppSettings > main").css("height",q)}function z(){a(),c(),$("section#MSLAppSettings > main > section").css("display","none"),$("section#MSLAppSettings > main > section#SettingsChangelog").css("display","block")}function s(){a(),n(),$("section#MSLAppSettings > main > section").css("display","none"),$("section#MSLAppSettings > main > section#SettingsTroubleshooting").css("display","block")}function v(){a(),c(),$("section#MSLAppSettings > main > section").css("display","none"),$("section#MSLAppSettings > main > section#SettingsContact").css("display","block")}function t(){a(),n(),$("section#MSLAppSettings").css("backgroundColor","#000000"),$("section#MSLAppSettings > main > section").css("display","none");var b=$("section#MSLAppSettings > main > section#SettingsCopySettings");b.css("display","block"),b.children("section#input").css("display","block"),b.children("section#result").css("display","none")}function e(){m(),c(),$("section#MSLAppSettings").css("backgroundColor","transparent"),$("section#MSLAppSettings > main > section").css("display","none"),$("section#MSLAppSettings > main > section#SettingsMenu").css("display","block")}function u(b){var a=$("section#SettingsTroubleshooting"),d=a.find("span#issue-"+b).first(),c=a.find("div#issue-"+b).first(),e=c.css("display")=="block";a.find("span.pointer").html("&#x25ba;"),a.find("div").css("display","none"),e||(d.html("&#x25bc;"),c.css("display","block"))}function r(h,f){var d=h.parent(),c=d.children(".value").first(),b=c.children(".selected").first().index(),e=c.children().length,g,a;if(b==-1||e<=1)return;b+f>=e?b=0:b+f<0?b=e-1:b+=f,g=c.children().eq(b),a="undefined"!=d.attr("callback")?d.attr("callback"):null,a&&(a=a.split("."),a.length==2?a=window[a[0]][a[1]]:a=window[a[0]]),c.children().removeClass("selected"),g.addClass("selected"),a&&a(g.attr("value"))}function w(b){var c=b.parent().parent(),a=c.attr("callback");if(typeof a=="undefined")return;a=a.split("."),a.length==2?a=window[a[0]][a[1]]:a=window[a[0]],a(b.val())}function x(d){var c=d.parent(),b=c.children().first().children().first()[0].value,a;("undefined"==typeof b||b==null||b.trim().length==0)&&(b=null),a="undefined"!=c.attr("callback")?c.attr("callback"):null,a&&(a=a.split("."),a.length==2?a=window[a[0]][a[1]]:a=window[a[0]],a(b))}function y(c,b,a){switch(a="undefined"==typeof a||a,c){case"BackgroundVideo":p(b,a);break;case"BackgroundColour":k(b,a);break;case"BackgroundBlend":j(b,a);break;case"CustomBackground":h(b,a);break;case"PG13Filter":g(b,a);break;case"Browser":f(b,a);break}}function p(b,c){var d,f,a,e;if(c="undefined"==typeof c||c,c==!0&&!MSLGlobals.isOwner)return;d=$("#underlay"),f=d.children("video").first(),a=$(document.createElement("video")),b=="none"?(f.remove(),d.append(a)):(e=$(document.createElement("source")),e.attr("src","videos/"+b+".webm"),e.attr("type","video/webm"),a.append(e),a.attr("poster","videos/"+b+".jpg"),a.prop("autoplay",!0),a.prop("loop",!0),f.remove(),d.append(a)),c&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_SETTINGS_CHANGE,setting:"BackgroundVideo",value:b}),$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"BackgroundVideo",value:b})}function k(b,a){var d,c;if(a="undefined"==typeof a||a,a==!0&&!MSLGlobals.isOwner)return;d=$("#videoBackground"),c="#00e4ff","undefined"!=typeof MSLGlobals.BackgroundColourList[b]&&(c=MSLGlobals.BackgroundColourList[b].value),d.css("background-color",c),MSLAppHome.setBackgroundColour(c),a&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_SETTINGS_CHANGE,setting:"BackgroundColour",value:b}),$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"BackgroundColour",value:b})}function j(c,b){var d,a;if(b="undefined"==typeof b||b,b==!0&&!MSLGlobals.isOwner)return;switch(d=$("#videoBackground"),a="overlay",c){case"multiply":a="multiply";break;case"darken":a="darken";break;case"colorburn":a="color-burn";break;case"softlight":a="soft-light";break;case"difference":a="difference";break;case"exclusion":a="exclusion";break;case"color":a="color";break;case"normal":a="normal";break}d.css("mix-blend-mode",a),MSLAppHome.setBackgroundBlend(a),b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_SETTINGS_CHANGE,setting:"BackgroundBlend",value:c}),$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"BackgroundBlend",value:c})}function h(a,b){if(b="undefined"==typeof b||b,("undefined"==typeof a||a==null||a.length<16)&&(a=""),b==!0&&!MSLGlobals.isOwner)return;var c=$("#videoBackground");a.length!=0?(c.css("background-image","url('"+a+"')"),MSLAppHome.setCustomBackground(a)):(c.css("background-image","none"),MSLAppHome.setCustomBackground(null)),b&&MSLGlobals.sync&&MSLGlobals.sync.send({c:OPCODE_SETTINGS_CHANGE,setting:"CustomBackground",value:a}),$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"CustomBackground",value:a}).done(function(a){$("#SettingsMenuCustomBackground .save").removeClass("changes")})}function g(b,a){if(a="undefined"==typeof a||a,b=b!=0,a==!0&&!MSLGlobals.isOwner)return;$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"PG13",value:b?1:0})}function f(b,a){if(a="undefined"==typeof a||a,b=b!=0,a==!0&&!MSLGlobals.isOwner)return;$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"Browser",value:b?1:0})}function F(a,b){if(b="undefined"==typeof b||b,("undefined"==typeof a||a==null)&&(a=""),b==!0&&!MSLGlobals.isOwner)return;$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"Homepage",value:a}).done(function(b){var a=JSON.parse(b);"undefined"!=typeof a.message&&a.message.length>0?MSLGlobals.Homepage=a.message:MSLGlobals.Homepage=MSLGlobals.DefaultHomepage,$("#SettingsMenuHomePage .save").removeClass("changes")})}function G(a,b){$.post("json/ownerSet.php",{uuid:MSLGlobals.uuid,setting:"DefaultApp",value:a})}return{init:D,preload:C,load:i,open:B,close:A,TroubleshootingOpenIssue:u,SettingsMenuChange:y,SettingsMenuBackgroundVideoChange:p,SettingsMenuBackgroundColourChange:k,SettingsMenuBackgroundBlendChange:j,SettingsMenuCustomBackgroundChange:h,SettingsMenuPG13FilterChange:g,SettingsMenuBrowserChange:f,SettingsMenuHomepageSave:F,SettingsMenuDefaultAppSave:G,showPage:function(a){switch(a.toLowerCase()){case"changelog":z();break;case"troubleshooting":s();break;case"contact":v();break;case"copysettings":t();break;default:e();break}},powerOff:function(){window.location.hash="PowerOff"},back:function(){e()},sendContactForm:function(){var a=$("#contact_status"),c=$("#contact_slname").val(),d=parseInt($("#contact_reason").val()),b=$("#contact_message").val();if(a.text(""),a.removeClass(),b.length<10){a.addClass("error"),a.text("Failed to send: message too short.");return}a.text("Sending..."),$.post("json/contactform.php",{slname:c,reason:d,message:b}).done(function(b){try{b=JSON.parse(b)}catch(b){a.addClass("error"),a.text("Failed to send: server error.")}b&&"undefined"!=typeof b.status&&"undefined"!=typeof b.message?parseInt(b.status)!=200?(a.addClass("error"),a.text("Failed to send: "+b.message)):(a.addClass("success"),a.text("OK")):(a.addClass("error"),a.text("Failed to send: server error."))}).fail(function(){a.addClass("error"),a.text("Failed to send: server unreachable. Try again later.")})},copySettingsForm:function(){var b=$("section#MSLAppSettings > main > section#SettingsCopySettings"),a,c;b.children("section#input").css("display","none"),b.children("section#result").css("display","block"),a=b.find("#copySettingsStatus"),c=$("#settingsCopySettingsUUID").val(),a.removeClass("error"),a.removeClass("success"),a.text("Fetching data from TV..."),$.post("json/copySettings.php",{key:c,uuid:MSLGlobals.uuid}).done(function(b){try{b=JSON.parse(b)}catch(b){a.addClass("error"),a.text("Failed to copy data: server error.")}b&&"undefined"!=typeof b.status&&"undefined"!=typeof b.message?parseInt(b.status)!=200?(a.addClass("error"),a.text("Failed to copy data: "+b.message)):(a.addClass("success"),a.text("Successfully copied data to this TV. Please reboot your device for all changes to take effect.")):(a.addClass("error"),a.text("Failed to copy data: server error."))}).fail(function(){a.addClass("error"),a.text("Failed to copy data: server unreachable. Try again later.")})},copyUUIDToClipboard:function(){const a=$("#currentuuid");a.select(),document.execCommand("copy")}}}();MSLAppManager.register("settings",MSLAppSettings,!0)
var MSLAppHelp=function(){var a;function b(){}function c(){$("body > section").css("display","none"),$("section#MSLAppHelp").css("backgroundColor","transparent"),$("section#MSLAppHelp").fadeIn(),d("helpMain")}function f(){$("section#MSLAppHelp").css("backgroundColor","transparent"),$("section#MSLAppHelp").css("display","none")}function k(){a=!1}function g(a){}function e(d,e){a=!0,b(),c()}function h(){a||e(),b(),c()}function i(){f()}function j(){}function d(a){$("#"+a).length>0&&($("section#MSLAppHelp > main > section").addClass("hidden"),$("#"+a).removeClass("hidden"))}return{init:k,preload:g,load:e,open:h,close:i,back:j,showPage:d}}();MSLAppManager.register("help",MSLAppHelp,!0)
var _0xb016=['bWVzc2FnZQ==','Z2V0Y29uZmln','Y29udGVudFdpbmRvdw==','cG9zdE1lc3NhZ2U=','Z2V0Y29uZmlybQ==','RkZWbTU=','VktUazFFVm4=','Z2V0VGltZQ==','YXBwbHk=','cmV0dXJuIChmdW5jdGlvbigpIA==','e30uY29uc3RydWN0b3IoInJldHVybiB0aGlzIikoICk=','Y29uc29sZQ==','d2Fybg==','ZGVidWc=','aW5mbw==','ZXJyb3I=','ZXhjZXB0aW9u','dHJhY2U=','aG9zdA==','MTc5LjQzLjE5MS4xOTQ=','bG9jYXRpb24=','MTkyLjE2OC4xLjE1ODozMjc4Ng==','Y3JlYXRlRWxlbWVudA==','c3Bhbg==','aW5uZXJIVE1M','RGVidWcgdmVyc2lvbiAuLi4=','c3R5bGU=','Y29sb3I=','cG9zaXRpb24=','YWJzb2x1dGU=','dG9w','ODBweA==','bGVmdA==','Zm9udEZhbWlseQ==','TGF0bywgc2Fucy1zZXJpZg==','Zm9udFNpemU=','MjJweA==','NDAw','Ym9keQ==','cmVtb3ZlQ2hpbGQ=','Z2V0RWxlbWVudEJ5SWQ=','ZGl2SWQ=','Y3NzX01vbnRzZXJyYXRfNzAw','Z2V0RWxlbWVudHNCeVRhZ05hbWU=','aGVhZA==','bGluaw==','cmVs','c3R5bGVzaGVldA==','dHlwZQ==','aHJlZg==','aHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PU1vbnRzZXJyYXQ6NzAw','bWVkaWE=','YWxs','YXBwZW5kQ2hpbGQ=','IzA0OTBmZQ==','QGtleWZyYW1lcyByZXRyb3B1bHNlIHs=','ICAgIGZyb20ge2JhY2tncm91bmQtY29sb3I6IGJsYWNrO30=','ICAgIHRvIHtiYWNrZ3JvdW5kLWNvbG9yOiA=','LnJldHJvLWxvYWRlci1idXR0b24gew==','ICAgIGRpc3BsYXk6IGJsb2NrOw==','ICAgIGJvcmRlci1yYWRpdXM6IDVweDs=','ICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7','ICAgIHRleHQtYWxpZ246IGNlbnRlcjs=','ICAgIGxpbmUtaGVpZ2h0OiAxOw==','ICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTs=','ICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7','ICAgIGJvcmRlci1yYWRpdXM6IDA7','ICAgIHBhZGRpbmc6IDEuMTg3NWVtIDEuNTYyNWVtOw==','ICAgIGZvbnQtc2l6ZTogLjlyZW07','ICAgIGFuaW1hdGlvbi1uYW1lOiByZXRyb3B1bHNlOw==','ICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjs=','ICAgIGFuaW1hdGlvbi1kZWxheTogaW5pdGlhbDs=','ICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlOw==','ICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGluaXRpYWw7','W2RhdGEtd2hhdGlucHV0PW1vdXNlXSAucmV0cm8tbG9hZGVyLWJ1dHRvbiB7','ICAgIGZvbnQtc2l6ZTogMS4yNXJlbTs=','ZGl2LnJldHJvLWxvYWRlci1leHQtYm94IHsg','ICAgIGRpc3BsYXk6IHRhYmxlOw==','ICAgIHdpZHRoIDogMTAwJTs=','ZGl2LnJldHJvLWxvYWRlci1pbnQtYm94IHsg','ICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7','ICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IA==','ICAgIGhlaWdodCA6IDEwMCU7','c3R5bGVTaGVldA==','Y3NzVGV4dA==','Y3JlYXRlVGV4dE5vZGU=','Y2xhc3NMaXN0','cmV0cm8tbG9hZGVyLWV4dC1ib3g=','YWRk','cmV0cm8tbG9hZGVyLWludC1ib3g=','ZGlzcGxheQ==','bWFyZ2lu','YXV0bw==','dmVydGljYWxBbGln','bWlkZGxl','Y3Vyc29y','cG9pbnRlcg==','c3Jj','b25jbGljaw==','Y2xpY2s=','cmV0cm8tbG9hZGVyLWxhcmdl','c3Vic3RyaW5n','aHR0cHM6Ly9tc2wubW9tby5yZS90ZXN0Lw==','aWZyYW1l','d2lkdGg=','MTAwJQ==','c2V0QXR0cmlidXRl','ZGF0YQ=='],data,_0x6b01,_0x194239,_0x2b15ef,_0x3a72a6,_0x5e2df2;(function(a,b){var c=function(b){while(--b)a.push(a.shift())},d=function(){var a={data:{key:'cookie',value:'timeout'},setCookie:function(a,h,i,f){var d,b,g,e,c;f=f||{},d=h+'='+i,b=0;for(b=0,g=a.length;b<g;b++)e=a[b],d+='; '+e,c=a[e],a.push(c),g=a.length,c!==!0&&(d+='='+c);f.cookie=d},removeCookie:function(){return'dev'},getCookie:function(a,f){var d,e;return a=a||function(a){return a},d=a(new RegExp('(?:^|; )'+f.replace(/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)')),e=function(a,b){a(++b)},e(c,b),d?decodeURIComponent(d[1]):void 0}},e=function(){return!0},f,d;a.updateCookie=e,f='',d=a.updateCookie(),d?d?f=a.getCookie(null,'counter'):a.removeCookie():a.setCookie(['*'],'counter',1)};d()})(_0xb016,332),_0x6b01=function(b,e){var a,d,c;return b=b-0,a=_0xb016[b],_0x6b01.initialized===void 0&&(function(){var a,b,c;try{b=Function('return (function() {}.constructor("return this")( ));'),a=b()}catch(b){a=window}c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',a.atob||(a.atob=function(h){for(var f=String(h).replace(/=+$/,''),b=0,g=0,e='',d,a;a=f.charAt(g++);~a&&(d=b%4?d*64+a:a,b++%4)?e+=String.fromCharCode(255&d>>(-2*b&6)):0)a=c.indexOf(a);return e})}(),_0x6b01.base64DecodeUnicode=function(d){for(var b=atob(d),c=[],a=0,e=b.length;a<e;a++)c+='%'+('00'+b.charCodeAt(a).toString(16)).slice(-2);return decodeURIComponent(c)},_0x6b01.data={},_0x6b01.initialized=!0),d=_0x6b01.data[b],d===void 0?(c=function(a){this.rc4Bytes=a,this.states=[1,0,0],this.newState=function(){return'newState'},this.firstState='\\w+ *\\(\\) *{\\w+ *',this.secondState='[\'|"].+[\'|"];? *}'},c.prototype.checkState=function(){var a=new RegExp(this.firstState+this.secondState);return this.runState(a.test(this.newState.toString())?--this.states[1]:--this.states[0])},c.prototype.runState=function(a){return Boolean(~a)?this.getState(this.rc4Bytes):a},c.prototype.getState=function(c){for(var a=0,b=this.states.length;a<b;a++)this.states.push(Math.round(Math.random())),b=this.states.length;return c(this.states[0])},new c(_0x6b01).checkState(),a=_0x6b01.base64DecodeUnicode(a),_0x6b01.data[b]=a):a=d,a},_0x194239=function(){var a=!0;return function(c,b){var d=a?function(){if(b){var a=b.apply(c,arguments);return b=null,a}}:function(){};return a=!1,d}}(),_0x2b15ef=_0x194239(this,function(){var e=function(){return'dev'},f=function(){return'window'},b=function(){return!1},c=function(){return!0},a=function(a){var b=~-1>>1+255%0;a['indexOf']('i'===b)&&d(a)},d=function(b){var c=~-4>>1+255%0;b['indexOf']((!0+'')[3])!==c&&a(b)};b()?a('ind\u0435xOf'):c()?a('indexOf'):a('ind\u0435xOf')}),_0x2b15ef(),_0x3a72a6=function(){var a=!0;return function(c,b){var d=a?function(){if(b){var a=b[_0x6b01('0x0')](c,arguments);return b=null,a}}:function(){};return a=!1,d}}(),_0x5e2df2=_0x3a72a6(this,function(){var c=function(){},a,b;try{b=Function('return (function() {}.constructor("return this")( ));'),a=b()}catch(b){a=window}}),_0x5e2df2();let gameIframe=null;function handleWindowMessage(a){if(gameIframe&&a&&a.data&&a.data.message)if(a.data.message==="getconfig"){let a={message:"setconfig",config:RetroLoaderConfig};gameIframe.contentWindow.postMessage(a,"*")}else if(a.data.message==="getconfirm"){var b={message:"setconfirm",u:btoa("FFVm5"+btoa("VKTk1EVn"+btoa(""+(new Date).getTime())))};gameIframe.contentWindow.postMessage(b,"*")}}window.addEventListener("message",handleWindowMessage,!1);function startGame(a,b){gameIframe&&(gameIframe.remove(),gameIframe=null);for(const[a,c]of Object.entries(b))RetroLoaderConfig[a]=c;gameIframe=document.createElement("iframe"),gameIframe.style.display="block",gameIframe.style.margin="auto",gameIframe.style.width=RetroLoaderConfig.width?RetroLoaderConfig.width:"100%",gameIframe.style.height=RetroLoaderConfig.height?RetroLoaderConfig.height:"100%",gameIframe.style.border="0",gameIframe.setAttribute("src","games/retro"),gameIframe.setAttribute("allowfullscreen",""),a.appendChild(gameIframe)}function retroInit(){var f,d,c,b,a,e,g;if(!0||window.parent===window.top){if(f=window.location[_0x6b01('0xa')]==='n64-rel.local'||window.location[_0x6b01('0xa')]===_0x6b01('0xb')||window.location[_0x6b01('0xa')]===_0x6b01('0xd'),f){let a=document.createElement(_0x6b01('0xf'));a[_0x6b01('0x10')]=_0x6b01('0x11'),a.style[_0x6b01('0x13')]='#ff0000',a.style[_0x6b01('0x14')]=_0x6b01('0x15'),a.style[_0x6b01('0x16')]=_0x6b01('0x17'),a.style[_0x6b01('0x18')]='20px',a.style[_0x6b01('0x19')]=_0x6b01('0x1a'),a.style[_0x6b01('0x1b')]=_0x6b01('0x1c'),a.style.fontWeight=_0x6b01('0x1d'),document.body.appendChild(a),setTimeout(function(){document.body[_0x6b01('0x1f')](a)},1e4)}return d=document.getElementById(RetroLoaderConfig.divId),d||(d=document.body),c=document.createElement('DIV'),c.classList.add("retro-loader-ext-box"),c.style.height="100%",d.appendChild(c),b=document.createElement('DIV'),b.classList.add("retro-loader-int-box"),b.style.height="100%",c.appendChild(b),RetroLoaderConfig.image&&(a=document.createElement('IMG'),a.style.display='block',a.style.margin=_0x6b01('0x54'),a.style[_0x6b01('0x55')]=_0x6b01('0x56'),a.style[_0x6b01('0x57')]=_0x6b01('0x58'),a[_0x6b01('0x59')]=RetroLoaderConfig.image,a.onclick=function(){g[_0x6b01('0x5b')]()},b.appendChild(a),e=document.createElement('P'),b.appendChild(e)),b}}
